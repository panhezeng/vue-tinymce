(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))h(v);new MutationObserver(v=>{for(const C of v)if(C.type==="childList")for(const N of C.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&h(N)}).observe(document,{childList:!0,subtree:!0});function m(v){const C={};return v.integrity&&(C.integrity=v.integrity),v.referrerpolicy&&(C.referrerPolicy=v.referrerpolicy),v.crossorigin==="use-credentials"?C.credentials="include":v.crossorigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function h(v){if(v.ep)return;v.ep=!0;const C=m(v);fetch(v.href,C)}})();function Tg(l,f){const m=Object.create(null),h=l.split(",");for(let v=0;v<h.length;v++)m[h[v]]=!0;return f?v=>!!m[v.toLowerCase()]:v=>!!m[v]}const $9="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",M9=Tg($9);function _k(l){return!!l||l===""}function Rg(l){if(Ge(l)){const f={};for(let m=0;m<l.length;m++){const h=l[m],v=pn(h)?H9(h):Rg(h);if(v)for(const C in v)f[C]=v[C]}return f}else{if(pn(l))return l;if(Ut(l))return l}}const U9=/;(?![^(]*\))/g,z9=/:(.+)/;function H9(l){const f={};return l.split(U9).forEach(m=>{if(m){const h=m.split(z9);h.length>1&&(f[h[0].trim()]=h[1].trim())}}),f}function Pg(l){let f="";if(pn(l))f=l;else if(Ge(l))for(let m=0;m<l.length;m++){const h=Pg(l[m]);h&&(f+=h+" ")}else if(Ut(l))for(const m in l)l[m]&&(f+=m+" ");return f.trim()}const W9=l=>pn(l)?l:l==null?"":Ge(l)||Ut(l)&&(l.toString===kk||!Ze(l.toString))?JSON.stringify(l,Sk,2):String(l),Sk=(l,f)=>f&&f.__v_isRef?Sk(l,f.value):Fi(f)?{[`Map(${f.size})`]:[...f.entries()].reduce((m,[h,v])=>(m[`${h} =>`]=v,m),{})}:wk(f)?{[`Set(${f.size})`]:[...f.values()]}:Ut(f)&&!Ge(f)&&!Nk(f)?String(f):f,At={},Ii=[],Os=()=>{},V9=()=>!1,j9=/^on[^a-z]/,Vu=l=>j9.test(l),Og=l=>l.startsWith("onUpdate:"),kn=Object.assign,Dg=(l,f)=>{const m=l.indexOf(f);m>-1&&l.splice(m,1)},q9=Object.prototype.hasOwnProperty,ct=(l,f)=>q9.call(l,f),Ge=Array.isArray,Fi=l=>ju(l)==="[object Map]",wk=l=>ju(l)==="[object Set]",Ze=l=>typeof l=="function",pn=l=>typeof l=="string",Bg=l=>typeof l=="symbol",Ut=l=>l!==null&&typeof l=="object",xk=l=>Ut(l)&&Ze(l.then)&&Ze(l.catch),kk=Object.prototype.toString,ju=l=>kk.call(l),K9=l=>ju(l).slice(8,-1),Nk=l=>ju(l)==="[object Object]",Ig=l=>pn(l)&&l!=="NaN"&&l[0]!=="-"&&""+parseInt(l,10)===l,Bu=Tg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qu=l=>{const f=Object.create(null);return m=>f[m]||(f[m]=l(m))},G9=/-(\w)/g,Mi=qu(l=>l.replace(G9,(f,m)=>m?m.toUpperCase():"")),Y9=/\B([A-Z])/g,Hi=qu(l=>l.replace(Y9,"-$1").toLowerCase()),Ak=qu(l=>l.charAt(0).toUpperCase()+l.slice(1)),rg=qu(l=>l?`on${Ak(l)}`:""),dl=(l,f)=>!Object.is(l,f),ig=(l,f)=>{for(let m=0;m<l.length;m++)l[m](f)},$u=(l,f,m)=>{Object.defineProperty(l,f,{configurable:!0,enumerable:!1,value:m})},X9=l=>{const f=parseFloat(l);return isNaN(f)?l:f};let Gx;const Q9=()=>Gx||(Gx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let eo;class Z9{constructor(f=!1){this.active=!0,this.effects=[],this.cleanups=[],!f&&eo&&(this.parent=eo,this.index=(eo.scopes||(eo.scopes=[])).push(this)-1)}run(f){if(this.active){const m=eo;try{return eo=this,f()}finally{eo=m}}}on(){eo=this}off(){eo=this.parent}stop(f){if(this.active){let m,h;for(m=0,h=this.effects.length;m<h;m++)this.effects[m].stop();for(m=0,h=this.cleanups.length;m<h;m++)this.cleanups[m]();if(this.scopes)for(m=0,h=this.scopes.length;m<h;m++)this.scopes[m].stop(!0);if(this.parent&&!f){const v=this.parent.scopes.pop();v&&v!==this&&(this.parent.scopes[this.index]=v,v.index=this.index)}this.active=!1}}}function J9(l,f=eo){f&&f.active&&f.effects.push(l)}const Fg=l=>{const f=new Set(l);return f.w=0,f.n=0,f},Tk=l=>(l.w&Xo)>0,Rk=l=>(l.n&Xo)>0,eq=({deps:l})=>{if(l.length)for(let f=0;f<l.length;f++)l[f].w|=Xo},tq=l=>{const{deps:f}=l;if(f.length){let m=0;for(let h=0;h<f.length;h++){const v=f[h];Tk(v)&&!Rk(v)?v.delete(l):f[m++]=v,v.w&=~Xo,v.n&=~Xo}f.length=m}},pg=new WeakMap;let cl=0,Xo=1;const gg=30;let Rs;const Wr=Symbol(""),hg=Symbol("");class Lg{constructor(f,m=null,h){this.fn=f,this.scheduler=m,this.active=!0,this.deps=[],this.parent=void 0,J9(this,h)}run(){if(!this.active)return this.fn();let f=Rs,m=Go;for(;f;){if(f===this)return;f=f.parent}try{return this.parent=Rs,Rs=this,Go=!0,Xo=1<<++cl,cl<=gg?eq(this):Yx(this),this.fn()}finally{cl<=gg&&tq(this),Xo=1<<--cl,Rs=this.parent,Go=m,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Rs===this?this.deferStop=!0:this.active&&(Yx(this),this.onStop&&this.onStop(),this.active=!1)}}function Yx(l){const{deps:f}=l;if(f.length){for(let m=0;m<f.length;m++)f[m].delete(l);f.length=0}}let Go=!0;const Pk=[];function Wi(){Pk.push(Go),Go=!1}function Vi(){const l=Pk.pop();Go=l===void 0?!0:l}function ts(l,f,m){if(Go&&Rs){let h=pg.get(l);h||pg.set(l,h=new Map);let v=h.get(m);v||h.set(m,v=Fg()),Ok(v)}}function Ok(l,f){let m=!1;cl<=gg?Rk(l)||(l.n|=Xo,m=!Tk(l)):m=!l.has(Rs),m&&(l.add(Rs),Rs.deps.push(l))}function Eo(l,f,m,h,v,C){const N=pg.get(l);if(!N)return;let P=[];if(f==="clear")P=[...N.values()];else if(m==="length"&&Ge(l))N.forEach((M,J)=>{(J==="length"||J>=h)&&P.push(M)});else switch(m!==void 0&&P.push(N.get(m)),f){case"add":Ge(l)?Ig(m)&&P.push(N.get("length")):(P.push(N.get(Wr)),Fi(l)&&P.push(N.get(hg)));break;case"delete":Ge(l)||(P.push(N.get(Wr)),Fi(l)&&P.push(N.get(hg)));break;case"set":Fi(l)&&P.push(N.get(Wr));break}if(P.length===1)P[0]&&bg(P[0]);else{const M=[];for(const J of P)J&&M.push(...J);bg(Fg(M))}}function bg(l,f){const m=Ge(l)?l:[...l];for(const h of m)h.computed&&Xx(h);for(const h of m)h.computed||Xx(h)}function Xx(l,f){(l!==Rs||l.allowRecurse)&&(l.scheduler?l.scheduler():l.run())}const nq=Tg("__proto__,__v_isRef,__isVue"),Dk=new Set(Object.getOwnPropertyNames(Symbol).filter(l=>l!=="arguments"&&l!=="caller").map(l=>Symbol[l]).filter(Bg)),sq=$g(),oq=$g(!1,!0),rq=$g(!0),Qx=iq();function iq(){const l={};return["includes","indexOf","lastIndexOf"].forEach(f=>{l[f]=function(...m){const h=ht(this);for(let C=0,N=this.length;C<N;C++)ts(h,"get",C+"");const v=h[f](...m);return v===-1||v===!1?h[f](...m.map(ht)):v}}),["push","pop","shift","unshift","splice"].forEach(f=>{l[f]=function(...m){Wi();const h=ht(this)[f].apply(this,m);return Vi(),h}}),l}function $g(l=!1,f=!1){return function(h,v,C){if(v==="__v_isReactive")return!l;if(v==="__v_isReadonly")return l;if(v==="__v_isShallow")return f;if(v==="__v_raw"&&C===(l?f?_q:$k:f?Lk:Fk).get(h))return h;const N=Ge(h);if(!l&&N&&ct(Qx,v))return Reflect.get(Qx,v,C);const P=Reflect.get(h,v,C);return(Bg(v)?Dk.has(v):nq(v))||(l||ts(h,"get",v),f)?P:xn(P)?N&&Ig(v)?P:P.value:Ut(P)?l?Mk(P):Gu(P):P}}const aq=Bk(),lq=Bk(!0);function Bk(l=!1){return function(m,h,v,C){let N=m[h];if(Ui(N)&&xn(N)&&!xn(v))return!1;if(!l&&(!Mu(v)&&!Ui(v)&&(N=ht(N),v=ht(v)),!Ge(m)&&xn(N)&&!xn(v)))return N.value=v,!0;const P=Ge(m)&&Ig(h)?Number(h)<m.length:ct(m,h),M=Reflect.set(m,h,v,C);return m===ht(C)&&(P?dl(v,N)&&Eo(m,"set",h,v):Eo(m,"add",h,v)),M}}function cq(l,f){const m=ct(l,f);l[f];const h=Reflect.deleteProperty(l,f);return h&&m&&Eo(l,"delete",f,void 0),h}function uq(l,f){const m=Reflect.has(l,f);return(!Bg(f)||!Dk.has(f))&&ts(l,"has",f),m}function fq(l){return ts(l,"iterate",Ge(l)?"length":Wr),Reflect.ownKeys(l)}const Ik={get:sq,set:aq,deleteProperty:cq,has:uq,ownKeys:fq},dq={get:rq,set(l,f){return!0},deleteProperty(l,f){return!0}},mq=kn({},Ik,{get:oq,set:lq}),Mg=l=>l,Ku=l=>Reflect.getPrototypeOf(l);function Tu(l,f,m=!1,h=!1){l=l.__v_raw;const v=ht(l),C=ht(f);m||(f!==C&&ts(v,"get",f),ts(v,"get",C));const{has:N}=Ku(v),P=h?Mg:m?Hg:ml;if(N.call(v,f))return P(l.get(f));if(N.call(v,C))return P(l.get(C));l!==v&&l.get(f)}function Ru(l,f=!1){const m=this.__v_raw,h=ht(m),v=ht(l);return f||(l!==v&&ts(h,"has",l),ts(h,"has",v)),l===v?m.has(l):m.has(l)||m.has(v)}function Pu(l,f=!1){return l=l.__v_raw,!f&&ts(ht(l),"iterate",Wr),Reflect.get(l,"size",l)}function Zx(l){l=ht(l);const f=ht(this);return Ku(f).has.call(f,l)||(f.add(l),Eo(f,"add",l,l)),this}function Jx(l,f){f=ht(f);const m=ht(this),{has:h,get:v}=Ku(m);let C=h.call(m,l);C||(l=ht(l),C=h.call(m,l));const N=v.call(m,l);return m.set(l,f),C?dl(f,N)&&Eo(m,"set",l,f):Eo(m,"add",l,f),this}function ek(l){const f=ht(this),{has:m,get:h}=Ku(f);let v=m.call(f,l);v||(l=ht(l),v=m.call(f,l)),h&&h.call(f,l);const C=f.delete(l);return v&&Eo(f,"delete",l,void 0),C}function tk(){const l=ht(this),f=l.size!==0,m=l.clear();return f&&Eo(l,"clear",void 0,void 0),m}function Ou(l,f){return function(h,v){const C=this,N=C.__v_raw,P=ht(N),M=f?Mg:l?Hg:ml;return!l&&ts(P,"iterate",Wr),N.forEach((J,re)=>h.call(v,M(J),M(re),C))}}function Du(l,f,m){return function(...h){const v=this.__v_raw,C=ht(v),N=Fi(C),P=l==="entries"||l===Symbol.iterator&&N,M=l==="keys"&&N,J=v[l](...h),re=m?Mg:f?Hg:ml;return!f&&ts(C,"iterate",M?hg:Wr),{next(){const{value:ve,done:ge}=J.next();return ge?{value:ve,done:ge}:{value:P?[re(ve[0]),re(ve[1])]:re(ve),done:ge}},[Symbol.iterator](){return this}}}}function qo(l){return function(...f){return l==="delete"?!1:this}}function pq(){const l={get(C){return Tu(this,C)},get size(){return Pu(this)},has:Ru,add:Zx,set:Jx,delete:ek,clear:tk,forEach:Ou(!1,!1)},f={get(C){return Tu(this,C,!1,!0)},get size(){return Pu(this)},has:Ru,add:Zx,set:Jx,delete:ek,clear:tk,forEach:Ou(!1,!0)},m={get(C){return Tu(this,C,!0)},get size(){return Pu(this,!0)},has(C){return Ru.call(this,C,!0)},add:qo("add"),set:qo("set"),delete:qo("delete"),clear:qo("clear"),forEach:Ou(!0,!1)},h={get(C){return Tu(this,C,!0,!0)},get size(){return Pu(this,!0)},has(C){return Ru.call(this,C,!0)},add:qo("add"),set:qo("set"),delete:qo("delete"),clear:qo("clear"),forEach:Ou(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(C=>{l[C]=Du(C,!1,!1),m[C]=Du(C,!0,!1),f[C]=Du(C,!1,!0),h[C]=Du(C,!0,!0)}),[l,m,f,h]}const[gq,hq,bq,vq]=pq();function Ug(l,f){const m=f?l?vq:bq:l?hq:gq;return(h,v,C)=>v==="__v_isReactive"?!l:v==="__v_isReadonly"?l:v==="__v_raw"?h:Reflect.get(ct(m,v)&&v in h?m:h,v,C)}const Cq={get:Ug(!1,!1)},yq={get:Ug(!1,!0)},Eq={get:Ug(!0,!1)},Fk=new WeakMap,Lk=new WeakMap,$k=new WeakMap,_q=new WeakMap;function Sq(l){switch(l){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wq(l){return l.__v_skip||!Object.isExtensible(l)?0:Sq(K9(l))}function Gu(l){return Ui(l)?l:zg(l,!1,Ik,Cq,Fk)}function xq(l){return zg(l,!1,mq,yq,Lk)}function Mk(l){return zg(l,!0,dq,Eq,$k)}function zg(l,f,m,h,v){if(!Ut(l)||l.__v_raw&&!(f&&l.__v_isReactive))return l;const C=v.get(l);if(C)return C;const N=wq(l);if(N===0)return l;const P=new Proxy(l,N===2?h:m);return v.set(l,P),P}function Li(l){return Ui(l)?Li(l.__v_raw):!!(l&&l.__v_isReactive)}function Ui(l){return!!(l&&l.__v_isReadonly)}function Mu(l){return!!(l&&l.__v_isShallow)}function Uk(l){return Li(l)||Ui(l)}function ht(l){const f=l&&l.__v_raw;return f?ht(f):l}function zk(l){return $u(l,"__v_skip",!0),l}const ml=l=>Ut(l)?Gu(l):l,Hg=l=>Ut(l)?Mk(l):l;function Hk(l){Go&&Rs&&(l=ht(l),Ok(l.dep||(l.dep=Fg())))}function Wk(l,f){l=ht(l),l.dep&&bg(l.dep)}function xn(l){return!!(l&&l.__v_isRef===!0)}function kq(l){return Nq(l,!1)}function Nq(l,f){return xn(l)?l:new Aq(l,f)}class Aq{constructor(f,m){this.__v_isShallow=m,this.dep=void 0,this.__v_isRef=!0,this._rawValue=m?f:ht(f),this._value=m?f:ml(f)}get value(){return Hk(this),this._value}set value(f){const m=this.__v_isShallow||Mu(f)||Ui(f);f=m?f:ht(f),dl(f,this._rawValue)&&(this._rawValue=f,this._value=m?f:ml(f),Wk(this))}}function vg(l){return xn(l)?l.value:l}const Tq={get:(l,f,m)=>vg(Reflect.get(l,f,m)),set:(l,f,m,h)=>{const v=l[f];return xn(v)&&!xn(m)?(v.value=m,!0):Reflect.set(l,f,m,h)}};function Vk(l){return Li(l)?l:new Proxy(l,Tq)}var jk;class Rq{constructor(f,m,h,v){this._setter=m,this.dep=void 0,this.__v_isRef=!0,this[jk]=!1,this._dirty=!0,this.effect=new Lg(f,()=>{this._dirty||(this._dirty=!0,Wk(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!v,this.__v_isReadonly=h}get value(){const f=ht(this);return Hk(f),(f._dirty||!f._cacheable)&&(f._dirty=!1,f._value=f.effect.run()),f._value}set value(f){this._setter(f)}}jk="__v_isReadonly";function Pq(l,f,m=!1){let h,v;const C=Ze(l);return C?(h=l,v=Os):(h=l.get,v=l.set),new Rq(h,v,C||!v,m)}function Yo(l,f,m,h){let v;try{v=h?l(...h):l()}catch(C){Yu(C,f,m)}return v}function us(l,f,m,h){if(Ze(l)){const C=Yo(l,f,m,h);return C&&xk(C)&&C.catch(N=>{Yu(N,f,m)}),C}const v=[];for(let C=0;C<l.length;C++)v.push(us(l[C],f,m,h));return v}function Yu(l,f,m,h=!0){const v=f?f.vnode:null;if(f){let C=f.parent;const N=f.proxy,P=m;for(;C;){const J=C.ec;if(J){for(let re=0;re<J.length;re++)if(J[re](l,N,P)===!1)return}C=C.parent}const M=f.appContext.config.errorHandler;if(M){Yo(M,null,10,[l,N,P]);return}}Oq(l,m,v,h)}function Oq(l,f,m,h=!0){console.error(l)}let pl=!1,Cg=!1;const wn=[];let no=0;const $i=[];let Co=null,Ur=0;const qk=Promise.resolve();let Wg=null;function Iu(l){const f=Wg||qk;return l?f.then(this?l.bind(this):l):f}function Dq(l){let f=no+1,m=wn.length;for(;f<m;){const h=f+m>>>1;gl(wn[h])<l?f=h+1:m=h}return f}function Vg(l){(!wn.length||!wn.includes(l,pl&&l.allowRecurse?no+1:no))&&(l.id==null?wn.push(l):wn.splice(Dq(l.id),0,l),Kk())}function Kk(){!pl&&!Cg&&(Cg=!0,Wg=qk.then(Yk))}function Bq(l){const f=wn.indexOf(l);f>no&&wn.splice(f,1)}function Iq(l){Ge(l)?$i.push(...l):(!Co||!Co.includes(l,l.allowRecurse?Ur+1:Ur))&&$i.push(l),Kk()}function nk(l,f=pl?no+1:0){for(;f<wn.length;f++){const m=wn[f];m&&m.pre&&(wn.splice(f,1),f--,m())}}function Gk(l){if($i.length){const f=[...new Set($i)];if($i.length=0,Co){Co.push(...f);return}for(Co=f,Co.sort((m,h)=>gl(m)-gl(h)),Ur=0;Ur<Co.length;Ur++)Co[Ur]();Co=null,Ur=0}}const gl=l=>l.id==null?1/0:l.id,Fq=(l,f)=>{const m=gl(l)-gl(f);if(m===0){if(l.pre&&!f.pre)return-1;if(f.pre&&!l.pre)return 1}return m};function Yk(l){Cg=!1,pl=!0,wn.sort(Fq);const f=Os;try{for(no=0;no<wn.length;no++){const m=wn[no];m&&m.active!==!1&&Yo(m,null,14)}}finally{no=0,wn.length=0,Gk(),pl=!1,Wg=null,(wn.length||$i.length)&&Yk()}}function Lq(l,f,...m){if(l.isUnmounted)return;const h=l.vnode.props||At;let v=m;const C=f.startsWith("update:"),N=C&&f.slice(7);if(N&&N in h){const re=`${N==="modelValue"?"model":N}Modifiers`,{number:ve,trim:ge}=h[re]||At;ge&&(v=m.map(Fe=>Fe.trim())),ve&&(v=m.map(X9))}let P,M=h[P=rg(f)]||h[P=rg(Mi(f))];!M&&C&&(M=h[P=rg(Hi(f))]),M&&us(M,l,6,v);const J=h[P+"Once"];if(J){if(!l.emitted)l.emitted={};else if(l.emitted[P])return;l.emitted[P]=!0,us(J,l,6,v)}}function Xk(l,f,m=!1){const h=f.emitsCache,v=h.get(l);if(v!==void 0)return v;const C=l.emits;let N={},P=!1;if(!Ze(l)){const M=J=>{const re=Xk(J,f,!0);re&&(P=!0,kn(N,re))};!m&&f.mixins.length&&f.mixins.forEach(M),l.extends&&M(l.extends),l.mixins&&l.mixins.forEach(M)}return!C&&!P?(Ut(l)&&h.set(l,null),null):(Ge(C)?C.forEach(M=>N[M]=null):kn(N,C),Ut(l)&&h.set(l,N),N)}function Xu(l,f){return!l||!Vu(f)?!1:(f=f.slice(2).replace(/Once$/,""),ct(l,f[0].toLowerCase()+f.slice(1))||ct(l,Hi(f))||ct(l,f))}let so=null,Qk=null;function Uu(l){const f=so;return so=l,Qk=l&&l.type.__scopeId||null,f}function $q(l,f=so,m){if(!f||l._n)return l;const h=(...v)=>{h._d&&dk(-1);const C=Uu(f),N=l(...v);return Uu(C),h._d&&dk(1),N};return h._n=!0,h._c=!0,h._d=!0,h}function ag(l){const{type:f,vnode:m,proxy:h,withProxy:v,props:C,propsOptions:[N],slots:P,attrs:M,emit:J,render:re,renderCache:ve,data:ge,setupState:Fe,ctx:ut,inheritAttrs:Le}=l;let at,Ke;const gn=Uu(l);try{if(m.shapeFlag&4){const tt=v||h;at=to(re.call(tt,tt,ve,C,Fe,ge,ut)),Ke=M}else{const tt=f;at=to(tt.length>1?tt(C,{attrs:M,slots:P,emit:J}):tt(C,null)),Ke=f.props?M:Mq(M)}}catch(tt){fl.length=0,Yu(tt,l,1),at=yo(Ds)}let le=at;if(Ke&&Le!==!1){const tt=Object.keys(Ke),{shapeFlag:an}=le;tt.length&&an&7&&(N&&tt.some(Og)&&(Ke=Uq(Ke,N)),le=Qo(le,Ke))}return m.dirs&&(le=Qo(le),le.dirs=le.dirs?le.dirs.concat(m.dirs):m.dirs),m.transition&&(le.transition=m.transition),at=le,Uu(gn),at}const Mq=l=>{let f;for(const m in l)(m==="class"||m==="style"||Vu(m))&&((f||(f={}))[m]=l[m]);return f},Uq=(l,f)=>{const m={};for(const h in l)(!Og(h)||!(h.slice(9)in f))&&(m[h]=l[h]);return m};function zq(l,f,m){const{props:h,children:v,component:C}=l,{props:N,children:P,patchFlag:M}=f,J=C.emitsOptions;if(f.dirs||f.transition)return!0;if(m&&M>=0){if(M&1024)return!0;if(M&16)return h?sk(h,N,J):!!N;if(M&8){const re=f.dynamicProps;for(let ve=0;ve<re.length;ve++){const ge=re[ve];if(N[ge]!==h[ge]&&!Xu(J,ge))return!0}}}else return(v||P)&&(!P||!P.$stable)?!0:h===N?!1:h?N?sk(h,N,J):!0:!!N;return!1}function sk(l,f,m){const h=Object.keys(f);if(h.length!==Object.keys(l).length)return!0;for(let v=0;v<h.length;v++){const C=h[v];if(f[C]!==l[C]&&!Xu(m,C))return!0}return!1}function Hq({vnode:l,parent:f},m){for(;f&&f.subTree===l;)(l=f.vnode).el=m,f=f.parent}const Wq=l=>l.__isSuspense;function Vq(l,f){f&&f.pendingBranch?Ge(l)?f.effects.push(...l):f.effects.push(l):Iq(l)}function jq(l,f){if(mn){let m=mn.provides;const h=mn.parent&&mn.parent.provides;h===m&&(m=mn.provides=Object.create(h)),m[l]=f}}function lg(l,f,m=!1){const h=mn||so;if(h){const v=h.parent==null?h.vnode.appContext&&h.vnode.appContext.provides:h.parent.provides;if(v&&l in v)return v[l];if(arguments.length>1)return m&&Ze(f)?f.call(h.proxy):f}}const ok={};function ul(l,f,m){return Zk(l,f,m)}function Zk(l,f,{immediate:m,deep:h,flush:v,onTrack:C,onTrigger:N}=At){const P=mn;let M,J=!1,re=!1;if(xn(l)?(M=()=>l.value,J=Mu(l)):Li(l)?(M=()=>l,h=!0):Ge(l)?(re=!0,J=l.some(Ke=>Li(Ke)||Mu(Ke)),M=()=>l.map(Ke=>{if(xn(Ke))return Ke.value;if(Li(Ke))return Bi(Ke);if(Ze(Ke))return Yo(Ke,P,2)})):Ze(l)?f?M=()=>Yo(l,P,2):M=()=>{if(!(P&&P.isUnmounted))return ve&&ve(),us(l,P,3,[ge])}:M=Os,f&&h){const Ke=M;M=()=>Bi(Ke())}let ve,ge=Ke=>{ve=at.onStop=()=>{Yo(Ke,P,4)}};if(bl)return ge=Os,f?m&&us(f,P,3,[M(),re?[]:void 0,ge]):M(),Os;let Fe=re?[]:ok;const ut=()=>{if(!!at.active)if(f){const Ke=at.run();(h||J||(re?Ke.some((gn,le)=>dl(gn,Fe[le])):dl(Ke,Fe)))&&(ve&&ve(),us(f,P,3,[Ke,Fe===ok?void 0:Fe,ge]),Fe=Ke)}else at.run()};ut.allowRecurse=!!f;let Le;v==="sync"?Le=ut:v==="post"?Le=()=>Mn(ut,P&&P.suspense):(ut.pre=!0,P&&(ut.id=P.uid),Le=()=>Vg(ut));const at=new Lg(M,Le);return f?m?ut():Fe=at.run():v==="post"?Mn(at.run.bind(at),P&&P.suspense):at.run(),()=>{at.stop(),P&&P.scope&&Dg(P.scope.effects,at)}}function qq(l,f,m){const h=this.proxy,v=pn(l)?l.includes(".")?Jk(h,l):()=>h[l]:l.bind(h,h);let C;Ze(f)?C=f:(C=f.handler,m=f);const N=mn;zi(this);const P=Zk(v,C.bind(h),m);return N?zi(N):Vr(),P}function Jk(l,f){const m=f.split(".");return()=>{let h=l;for(let v=0;v<m.length&&h;v++)h=h[m[v]];return h}}function Bi(l,f){if(!Ut(l)||l.__v_skip||(f=f||new Set,f.has(l)))return l;if(f.add(l),xn(l))Bi(l.value,f);else if(Ge(l))for(let m=0;m<l.length;m++)Bi(l[m],f);else if(wk(l)||Fi(l))l.forEach(m=>{Bi(m,f)});else if(Nk(l))for(const m in l)Bi(l[m],f);return l}function Kq(){const l={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return jg(()=>{l.isMounted=!0}),qg(()=>{l.isUnmounting=!0}),l}const cs=[Function,Array],Gq={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:cs,onEnter:cs,onAfterEnter:cs,onEnterCancelled:cs,onBeforeLeave:cs,onLeave:cs,onAfterLeave:cs,onLeaveCancelled:cs,onBeforeAppear:cs,onAppear:cs,onAfterAppear:cs,onAppearCancelled:cs},setup(l,{slots:f}){const m=BK(),h=Kq();let v;return()=>{const C=f.default&&tN(f.default(),!0);if(!C||!C.length)return;let N=C[0];if(C.length>1){for(const Le of C)if(Le.type!==Ds){N=Le;break}}const P=ht(l),{mode:M}=P;if(h.isLeaving)return cg(N);const J=rk(N);if(!J)return cg(N);const re=yg(J,P,h,m);Eg(J,re);const ve=m.subTree,ge=ve&&rk(ve);let Fe=!1;const{getTransitionKey:ut}=J.type;if(ut){const Le=ut();v===void 0?v=Le:Le!==v&&(v=Le,Fe=!0)}if(ge&&ge.type!==Ds&&(!zr(J,ge)||Fe)){const Le=yg(ge,P,h,m);if(Eg(ge,Le),M==="out-in")return h.isLeaving=!0,Le.afterLeave=()=>{h.isLeaving=!1,m.update()},cg(N);M==="in-out"&&J.type!==Ds&&(Le.delayLeave=(at,Ke,gn)=>{const le=eN(h,ge);le[String(ge.key)]=ge,at._leaveCb=()=>{Ke(),at._leaveCb=void 0,delete re.delayedLeave},re.delayedLeave=gn})}return N}}},Yq=Gq;function eN(l,f){const{leavingVNodes:m}=l;let h=m.get(f.type);return h||(h=Object.create(null),m.set(f.type,h)),h}function yg(l,f,m,h){const{appear:v,mode:C,persisted:N=!1,onBeforeEnter:P,onEnter:M,onAfterEnter:J,onEnterCancelled:re,onBeforeLeave:ve,onLeave:ge,onAfterLeave:Fe,onLeaveCancelled:ut,onBeforeAppear:Le,onAppear:at,onAfterAppear:Ke,onAppearCancelled:gn}=f,le=String(l.key),tt=eN(m,l),an=(je,lt)=>{je&&us(je,h,9,lt)},Ct=(je,lt)=>{const Ve=lt[1];an(je,lt),Ge(je)?je.every(se=>se.length<=1)&&Ve():je.length<=1&&Ve()},hn={mode:C,persisted:N,beforeEnter(je){let lt=P;if(!m.isMounted)if(v)lt=Le||P;else return;je._leaveCb&&je._leaveCb(!0);const Ve=tt[le];Ve&&zr(l,Ve)&&Ve.el._leaveCb&&Ve.el._leaveCb(),an(lt,[je])},enter(je){let lt=M,Ve=J,se=re;if(!m.isMounted)if(v)lt=at||M,Ve=Ke||J,se=gn||re;else return;let He=!1;const zt=je._enterCb=ns=>{He||(He=!0,ns?an(se,[je]):an(Ve,[je]),hn.delayedLeave&&hn.delayedLeave(),je._enterCb=void 0)};lt?Ct(lt,[je,zt]):zt()},leave(je,lt){const Ve=String(l.key);if(je._enterCb&&je._enterCb(!0),m.isUnmounting)return lt();an(ve,[je]);let se=!1;const He=je._leaveCb=zt=>{se||(se=!0,lt(),zt?an(ut,[je]):an(Fe,[je]),je._leaveCb=void 0,tt[Ve]===l&&delete tt[Ve])};tt[Ve]=l,ge?Ct(ge,[je,He]):He()},clone(je){return yg(je,f,m,h)}};return hn}function cg(l){if(Qu(l))return l=Qo(l),l.children=null,l}function rk(l){return Qu(l)?l.children?l.children[0]:void 0:l}function Eg(l,f){l.shapeFlag&6&&l.component?Eg(l.component.subTree,f):l.shapeFlag&128?(l.ssContent.transition=f.clone(l.ssContent),l.ssFallback.transition=f.clone(l.ssFallback)):l.transition=f}function tN(l,f=!1,m){let h=[],v=0;for(let C=0;C<l.length;C++){let N=l[C];const P=m==null?N.key:String(m)+String(N.key!=null?N.key:C);N.type===Ts?(N.patchFlag&128&&v++,h=h.concat(tN(N.children,f,P))):(f||N.type!==Ds)&&h.push(P!=null?Qo(N,{key:P}):N)}if(v>1)for(let C=0;C<h.length;C++)h[C].patchFlag=-2;return h}function nN(l){return Ze(l)?{setup:l,name:l.name}:l}const Fu=l=>!!l.type.__asyncLoader,Qu=l=>l.type.__isKeepAlive;function Xq(l,f){sN(l,"a",f)}function Qq(l,f){sN(l,"da",f)}function sN(l,f,m=mn){const h=l.__wdc||(l.__wdc=()=>{let v=m;for(;v;){if(v.isDeactivated)return;v=v.parent}return l()});if(Zu(f,h,m),m){let v=m.parent;for(;v&&v.parent;)Qu(v.parent.vnode)&&Zq(h,f,m,v),v=v.parent}}function Zq(l,f,m,h){const v=Zu(f,l,h,!0);oN(()=>{Dg(h[f],v)},m)}function Zu(l,f,m=mn,h=!1){if(m){const v=m[l]||(m[l]=[]),C=f.__weh||(f.__weh=(...N)=>{if(m.isUnmounted)return;Wi(),zi(m);const P=us(f,m,l,N);return Vr(),Vi(),P});return h?v.unshift(C):v.push(C),C}}const _o=l=>(f,m=mn)=>(!bl||l==="sp")&&Zu(l,(...h)=>f(...h),m),Jq=_o("bm"),jg=_o("m"),eK=_o("bu"),tK=_o("u"),qg=_o("bum"),oN=_o("um"),nK=_o("sp"),sK=_o("rtg"),oK=_o("rtc");function rK(l,f=mn){Zu("ec",l,f)}function Lr(l,f,m,h){const v=l.dirs,C=f&&f.dirs;for(let N=0;N<v.length;N++){const P=v[N];C&&(P.oldValue=C[N].value);let M=P.dir[h];M&&(Wi(),us(M,m,8,[l.el,P,l,f]),Vi())}}const iK=Symbol(),_g=l=>l?bN(l)?Qg(l)||l.proxy:_g(l.parent):null,zu=kn(Object.create(null),{$:l=>l,$el:l=>l.vnode.el,$data:l=>l.data,$props:l=>l.props,$attrs:l=>l.attrs,$slots:l=>l.slots,$refs:l=>l.refs,$parent:l=>_g(l.parent),$root:l=>_g(l.root),$emit:l=>l.emit,$options:l=>Kg(l),$forceUpdate:l=>l.f||(l.f=()=>Vg(l.update)),$nextTick:l=>l.n||(l.n=Iu.bind(l.proxy)),$watch:l=>qq.bind(l)}),aK={get({_:l},f){const{ctx:m,setupState:h,data:v,props:C,accessCache:N,type:P,appContext:M}=l;let J;if(f[0]!=="$"){const Fe=N[f];if(Fe!==void 0)switch(Fe){case 1:return h[f];case 2:return v[f];case 4:return m[f];case 3:return C[f]}else{if(h!==At&&ct(h,f))return N[f]=1,h[f];if(v!==At&&ct(v,f))return N[f]=2,v[f];if((J=l.propsOptions[0])&&ct(J,f))return N[f]=3,C[f];if(m!==At&&ct(m,f))return N[f]=4,m[f];Sg&&(N[f]=0)}}const re=zu[f];let ve,ge;if(re)return f==="$attrs"&&ts(l,"get",f),re(l);if((ve=P.__cssModules)&&(ve=ve[f]))return ve;if(m!==At&&ct(m,f))return N[f]=4,m[f];if(ge=M.config.globalProperties,ct(ge,f))return ge[f]},set({_:l},f,m){const{data:h,setupState:v,ctx:C}=l;return v!==At&&ct(v,f)?(v[f]=m,!0):h!==At&&ct(h,f)?(h[f]=m,!0):ct(l.props,f)||f[0]==="$"&&f.slice(1)in l?!1:(C[f]=m,!0)},has({_:{data:l,setupState:f,accessCache:m,ctx:h,appContext:v,propsOptions:C}},N){let P;return!!m[N]||l!==At&&ct(l,N)||f!==At&&ct(f,N)||(P=C[0])&&ct(P,N)||ct(h,N)||ct(zu,N)||ct(v.config.globalProperties,N)},defineProperty(l,f,m){return m.get!=null?l._.accessCache[f]=0:ct(m,"value")&&this.set(l,f,m.value,null),Reflect.defineProperty(l,f,m)}};let Sg=!0;function lK(l){const f=Kg(l),m=l.proxy,h=l.ctx;Sg=!1,f.beforeCreate&&ik(f.beforeCreate,l,"bc");const{data:v,computed:C,methods:N,watch:P,provide:M,inject:J,created:re,beforeMount:ve,mounted:ge,beforeUpdate:Fe,updated:ut,activated:Le,deactivated:at,beforeDestroy:Ke,beforeUnmount:gn,destroyed:le,unmounted:tt,render:an,renderTracked:Ct,renderTriggered:hn,errorCaptured:je,serverPrefetch:lt,expose:Ve,inheritAttrs:se,components:He,directives:zt,filters:ns}=f;if(J&&cK(J,h,null,l.appContext.config.unwrapInjectedRef),N)for(const Tt in N){const K=N[Tt];Ze(K)&&(h[Tt]=K.bind(m))}if(v){const Tt=v.call(m,m);Ut(Tt)&&(l.data=Gu(Tt))}if(Sg=!0,C)for(const Tt in C){const K=C[Tt],Ot=Ze(K)?K.bind(m,m):Ze(K.get)?K.get.bind(m,m):Os,jr=!Ze(K)&&Ze(K.set)?K.set.bind(m):Os,ie=CN({get:Ot,set:jr});Object.defineProperty(h,Tt,{enumerable:!0,configurable:!0,get:()=>ie.value,set:On=>ie.value=On})}if(P)for(const Tt in P)rN(P[Tt],h,m,Tt);if(M){const Tt=Ze(M)?M.call(m):M;Reflect.ownKeys(Tt).forEach(K=>{jq(K,Tt[K])})}re&&ik(re,l,"c");function Lt(Tt,K){Ge(K)?K.forEach(Ot=>Tt(Ot.bind(m))):K&&Tt(K.bind(m))}if(Lt(Jq,ve),Lt(jg,ge),Lt(eK,Fe),Lt(tK,ut),Lt(Xq,Le),Lt(Qq,at),Lt(rK,je),Lt(oK,Ct),Lt(sK,hn),Lt(qg,gn),Lt(oN,tt),Lt(nK,lt),Ge(Ve))if(Ve.length){const Tt=l.exposed||(l.exposed={});Ve.forEach(K=>{Object.defineProperty(Tt,K,{get:()=>m[K],set:Ot=>m[K]=Ot})})}else l.exposed||(l.exposed={});an&&l.render===Os&&(l.render=an),se!=null&&(l.inheritAttrs=se),He&&(l.components=He),zt&&(l.directives=zt)}function cK(l,f,m=Os,h=!1){Ge(l)&&(l=wg(l));for(const v in l){const C=l[v];let N;Ut(C)?"default"in C?N=lg(C.from||v,C.default,!0):N=lg(C.from||v):N=lg(C),xn(N)&&h?Object.defineProperty(f,v,{enumerable:!0,configurable:!0,get:()=>N.value,set:P=>N.value=P}):f[v]=N}}function ik(l,f,m){us(Ge(l)?l.map(h=>h.bind(f.proxy)):l.bind(f.proxy),f,m)}function rN(l,f,m,h){const v=h.includes(".")?Jk(m,h):()=>m[h];if(pn(l)){const C=f[l];Ze(C)&&ul(v,C)}else if(Ze(l))ul(v,l.bind(m));else if(Ut(l))if(Ge(l))l.forEach(C=>rN(C,f,m,h));else{const C=Ze(l.handler)?l.handler.bind(m):f[l.handler];Ze(C)&&ul(v,C,l)}}function Kg(l){const f=l.type,{mixins:m,extends:h}=f,{mixins:v,optionsCache:C,config:{optionMergeStrategies:N}}=l.appContext,P=C.get(f);let M;return P?M=P:!v.length&&!m&&!h?M=f:(M={},v.length&&v.forEach(J=>Hu(M,J,N,!0)),Hu(M,f,N)),Ut(f)&&C.set(f,M),M}function Hu(l,f,m,h=!1){const{mixins:v,extends:C}=f;C&&Hu(l,C,m,!0),v&&v.forEach(N=>Hu(l,N,m,!0));for(const N in f)if(!(h&&N==="expose")){const P=uK[N]||m&&m[N];l[N]=P?P(l[N],f[N]):f[N]}return l}const uK={data:ak,props:Mr,emits:Mr,methods:Mr,computed:Mr,beforeCreate:Pn,created:Pn,beforeMount:Pn,mounted:Pn,beforeUpdate:Pn,updated:Pn,beforeDestroy:Pn,beforeUnmount:Pn,destroyed:Pn,unmounted:Pn,activated:Pn,deactivated:Pn,errorCaptured:Pn,serverPrefetch:Pn,components:Mr,directives:Mr,watch:dK,provide:ak,inject:fK};function ak(l,f){return f?l?function(){return kn(Ze(l)?l.call(this,this):l,Ze(f)?f.call(this,this):f)}:f:l}function fK(l,f){return Mr(wg(l),wg(f))}function wg(l){if(Ge(l)){const f={};for(let m=0;m<l.length;m++)f[l[m]]=l[m];return f}return l}function Pn(l,f){return l?[...new Set([].concat(l,f))]:f}function Mr(l,f){return l?kn(kn(Object.create(null),l),f):f}function dK(l,f){if(!l)return f;if(!f)return l;const m=kn(Object.create(null),l);for(const h in f)m[h]=Pn(l[h],f[h]);return m}function mK(l,f,m,h=!1){const v={},C={};$u(C,Ju,1),l.propsDefaults=Object.create(null),iN(l,f,v,C);for(const N in l.propsOptions[0])N in v||(v[N]=void 0);m?l.props=h?v:xq(v):l.type.props?l.props=v:l.props=C,l.attrs=C}function pK(l,f,m,h){const{props:v,attrs:C,vnode:{patchFlag:N}}=l,P=ht(v),[M]=l.propsOptions;let J=!1;if((h||N>0)&&!(N&16)){if(N&8){const re=l.vnode.dynamicProps;for(let ve=0;ve<re.length;ve++){let ge=re[ve];if(Xu(l.emitsOptions,ge))continue;const Fe=f[ge];if(M)if(ct(C,ge))Fe!==C[ge]&&(C[ge]=Fe,J=!0);else{const ut=Mi(ge);v[ut]=xg(M,P,ut,Fe,l,!1)}else Fe!==C[ge]&&(C[ge]=Fe,J=!0)}}}else{iN(l,f,v,C)&&(J=!0);let re;for(const ve in P)(!f||!ct(f,ve)&&((re=Hi(ve))===ve||!ct(f,re)))&&(M?m&&(m[ve]!==void 0||m[re]!==void 0)&&(v[ve]=xg(M,P,ve,void 0,l,!0)):delete v[ve]);if(C!==P)for(const ve in C)(!f||!ct(f,ve)&&!0)&&(delete C[ve],J=!0)}J&&Eo(l,"set","$attrs")}function iN(l,f,m,h){const[v,C]=l.propsOptions;let N=!1,P;if(f)for(let M in f){if(Bu(M))continue;const J=f[M];let re;v&&ct(v,re=Mi(M))?!C||!C.includes(re)?m[re]=J:(P||(P={}))[re]=J:Xu(l.emitsOptions,M)||(!(M in h)||J!==h[M])&&(h[M]=J,N=!0)}if(C){const M=ht(m),J=P||At;for(let re=0;re<C.length;re++){const ve=C[re];m[ve]=xg(v,M,ve,J[ve],l,!ct(J,ve))}}return N}function xg(l,f,m,h,v,C){const N=l[m];if(N!=null){const P=ct(N,"default");if(P&&h===void 0){const M=N.default;if(N.type!==Function&&Ze(M)){const{propsDefaults:J}=v;m in J?h=J[m]:(zi(v),h=J[m]=M.call(null,f),Vr())}else h=M}N[0]&&(C&&!P?h=!1:N[1]&&(h===""||h===Hi(m))&&(h=!0))}return h}function aN(l,f,m=!1){const h=f.propsCache,v=h.get(l);if(v)return v;const C=l.props,N={},P=[];let M=!1;if(!Ze(l)){const re=ve=>{M=!0;const[ge,Fe]=aN(ve,f,!0);kn(N,ge),Fe&&P.push(...Fe)};!m&&f.mixins.length&&f.mixins.forEach(re),l.extends&&re(l.extends),l.mixins&&l.mixins.forEach(re)}if(!C&&!M)return Ut(l)&&h.set(l,Ii),Ii;if(Ge(C))for(let re=0;re<C.length;re++){const ve=Mi(C[re]);lk(ve)&&(N[ve]=At)}else if(C)for(const re in C){const ve=Mi(re);if(lk(ve)){const ge=C[re],Fe=N[ve]=Ge(ge)||Ze(ge)?{type:ge}:ge;if(Fe){const ut=fk(Boolean,Fe.type),Le=fk(String,Fe.type);Fe[0]=ut>-1,Fe[1]=Le<0||ut<Le,(ut>-1||ct(Fe,"default"))&&P.push(ve)}}}const J=[N,P];return Ut(l)&&h.set(l,J),J}function lk(l){return l[0]!=="$"}function ck(l){const f=l&&l.toString().match(/^\s*function (\w+)/);return f?f[1]:l===null?"null":""}function uk(l,f){return ck(l)===ck(f)}function fk(l,f){return Ge(f)?f.findIndex(m=>uk(m,l)):Ze(f)&&uk(f,l)?0:-1}const lN=l=>l[0]==="_"||l==="$stable",Gg=l=>Ge(l)?l.map(to):[to(l)],gK=(l,f,m)=>{if(f._n)return f;const h=$q((...v)=>Gg(f(...v)),m);return h._c=!1,h},cN=(l,f,m)=>{const h=l._ctx;for(const v in l){if(lN(v))continue;const C=l[v];if(Ze(C))f[v]=gK(v,C,h);else if(C!=null){const N=Gg(C);f[v]=()=>N}}},uN=(l,f)=>{const m=Gg(f);l.slots.default=()=>m},hK=(l,f)=>{if(l.vnode.shapeFlag&32){const m=f._;m?(l.slots=ht(f),$u(f,"_",m)):cN(f,l.slots={})}else l.slots={},f&&uN(l,f);$u(l.slots,Ju,1)},bK=(l,f,m)=>{const{vnode:h,slots:v}=l;let C=!0,N=At;if(h.shapeFlag&32){const P=f._;P?m&&P===1?C=!1:(kn(v,f),!m&&P===1&&delete v._):(C=!f.$stable,cN(f,v)),N=f}else f&&(uN(l,f),N={default:1});if(C)for(const P in v)!lN(P)&&!(P in N)&&delete v[P]};function fN(){return{app:null,config:{isNativeTag:V9,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vK=0;function CK(l,f){return function(h,v=null){Ze(h)||(h=Object.assign({},h)),v!=null&&!Ut(v)&&(v=null);const C=fN(),N=new Set;let P=!1;const M=C.app={_uid:vK++,_component:h,_props:v,_container:null,_context:C,_instance:null,version:UK,get config(){return C.config},set config(J){},use(J,...re){return N.has(J)||(J&&Ze(J.install)?(N.add(J),J.install(M,...re)):Ze(J)&&(N.add(J),J(M,...re))),M},mixin(J){return C.mixins.includes(J)||C.mixins.push(J),M},component(J,re){return re?(C.components[J]=re,M):C.components[J]},directive(J,re){return re?(C.directives[J]=re,M):C.directives[J]},mount(J,re,ve){if(!P){const ge=yo(h,v);return ge.appContext=C,re&&f?f(ge,J):l(ge,J,ve),P=!0,M._container=J,J.__vue_app__=M,Qg(ge.component)||ge.component.proxy}},unmount(){P&&(l(null,M._container),delete M._container.__vue_app__)},provide(J,re){return C.provides[J]=re,M}};return M}}function kg(l,f,m,h,v=!1){if(Ge(l)){l.forEach((ge,Fe)=>kg(ge,f&&(Ge(f)?f[Fe]:f),m,h,v));return}if(Fu(h)&&!v)return;const C=h.shapeFlag&4?Qg(h.component)||h.component.proxy:h.el,N=v?null:C,{i:P,r:M}=l,J=f&&f.r,re=P.refs===At?P.refs={}:P.refs,ve=P.setupState;if(J!=null&&J!==M&&(pn(J)?(re[J]=null,ct(ve,J)&&(ve[J]=null)):xn(J)&&(J.value=null)),Ze(M))Yo(M,P,12,[N,re]);else{const ge=pn(M),Fe=xn(M);if(ge||Fe){const ut=()=>{if(l.f){const Le=ge?re[M]:M.value;v?Ge(Le)&&Dg(Le,C):Ge(Le)?Le.includes(C)||Le.push(C):ge?(re[M]=[C],ct(ve,M)&&(ve[M]=re[M])):(M.value=[C],l.k&&(re[l.k]=M.value))}else ge?(re[M]=N,ct(ve,M)&&(ve[M]=N)):Fe&&(M.value=N,l.k&&(re[l.k]=N))};N?(ut.id=-1,Mn(ut,m)):ut()}}}const Mn=Vq;function yK(l){return EK(l)}function EK(l,f){const m=Q9();m.__VUE__=!0;const{insert:h,remove:v,patchProp:C,createElement:N,createText:P,createComment:M,setText:J,setElementText:re,parentNode:ve,nextSibling:ge,setScopeId:Fe=Os,insertStaticContent:ut}=l,Le=(T,B,z,Y=null,V=null,R=null,ye=!1,ue=null,j=!!B.dynamicChildren)=>{if(T===B)return;T&&!zr(T,B)&&(Y=Et(T),On(T,V,R,!0),T=null),B.patchFlag===-2&&(j=!1,B.dynamicChildren=null);const{type:oe,ref:_e,shapeFlag:Ae}=B;switch(oe){case Yg:at(T,B,z,Y);break;case Ds:Ke(T,B,z,Y);break;case ug:T==null&&gn(B,z,Y,ye);break;case Ts:He(T,B,z,Y,V,R,ye,ue,j);break;default:Ae&1?an(T,B,z,Y,V,R,ye,ue,j):Ae&6?zt(T,B,z,Y,V,R,ye,ue,j):(Ae&64||Ae&128)&&oe.process(T,B,z,Y,V,R,ye,ue,j,Bs)}_e!=null&&V&&kg(_e,T&&T.ref,R,B||T,!B)},at=(T,B,z,Y)=>{if(T==null)h(B.el=P(B.children),z,Y);else{const V=B.el=T.el;B.children!==T.children&&J(V,B.children)}},Ke=(T,B,z,Y)=>{T==null?h(B.el=M(B.children||""),z,Y):B.el=T.el},gn=(T,B,z,Y)=>{[T.el,T.anchor]=ut(T.children,B,z,Y,T.el,T.anchor)},le=({el:T,anchor:B},z,Y)=>{let V;for(;T&&T!==B;)V=ge(T),h(T,z,Y),T=V;h(B,z,Y)},tt=({el:T,anchor:B})=>{let z;for(;T&&T!==B;)z=ge(T),v(T),T=z;v(B)},an=(T,B,z,Y,V,R,ye,ue,j)=>{ye=ye||B.type==="svg",T==null?Ct(B,z,Y,V,R,ye,ue,j):lt(T,B,V,R,ye,ue,j)},Ct=(T,B,z,Y,V,R,ye,ue)=>{let j,oe;const{type:_e,props:Ae,shapeFlag:Ce,transition:Ue,dirs:Ye}=T;if(j=T.el=N(T.type,R,Ae&&Ae.is,Ae),Ce&8?re(j,T.children):Ce&16&&je(T.children,j,null,Y,V,R&&_e!=="foreignObject",ye,ue),Ye&&Lr(T,null,Y,"created"),Ae){for(const rt in Ae)rt!=="value"&&!Bu(rt)&&C(j,rt,null,Ae[rt],R,T.children,Y,V,nt);"value"in Ae&&C(j,"value",null,Ae.value),(oe=Ae.onVnodeBeforeMount)&&Js(oe,Y,T)}hn(j,T,T.scopeId,ye,Y),Ye&&Lr(T,null,Y,"beforeMount");const ot=(!V||V&&!V.pendingBranch)&&Ue&&!Ue.persisted;ot&&Ue.beforeEnter(j),h(j,B,z),((oe=Ae&&Ae.onVnodeMounted)||ot||Ye)&&Mn(()=>{oe&&Js(oe,Y,T),ot&&Ue.enter(j),Ye&&Lr(T,null,Y,"mounted")},V)},hn=(T,B,z,Y,V)=>{if(z&&Fe(T,z),Y)for(let R=0;R<Y.length;R++)Fe(T,Y[R]);if(V){let R=V.subTree;if(B===R){const ye=V.vnode;hn(T,ye,ye.scopeId,ye.slotScopeIds,V.parent)}}},je=(T,B,z,Y,V,R,ye,ue,j=0)=>{for(let oe=j;oe<T.length;oe++){const _e=T[oe]=ue?Ko(T[oe]):to(T[oe]);Le(null,_e,B,z,Y,V,R,ye,ue)}},lt=(T,B,z,Y,V,R,ye)=>{const ue=B.el=T.el;let{patchFlag:j,dynamicChildren:oe,dirs:_e}=B;j|=T.patchFlag&16;const Ae=T.props||At,Ce=B.props||At;let Ue;z&&$r(z,!1),(Ue=Ce.onVnodeBeforeUpdate)&&Js(Ue,z,B,T),_e&&Lr(B,T,z,"beforeUpdate"),z&&$r(z,!0);const Ye=V&&B.type!=="foreignObject";if(oe?Ve(T.dynamicChildren,oe,ue,z,Y,Ye,R):ye||K(T,B,ue,null,z,Y,Ye,R,!1),j>0){if(j&16)se(ue,B,Ae,Ce,z,Y,V);else if(j&2&&Ae.class!==Ce.class&&C(ue,"class",null,Ce.class,V),j&4&&C(ue,"style",Ae.style,Ce.style,V),j&8){const ot=B.dynamicProps;for(let rt=0;rt<ot.length;rt++){const Nt=ot[rt],Nn=Ae[Nt],Is=Ce[Nt];(Is!==Nn||Nt==="value")&&C(ue,Nt,Nn,Is,V,T.children,z,Y,nt)}}j&1&&T.children!==B.children&&re(ue,B.children)}else!ye&&oe==null&&se(ue,B,Ae,Ce,z,Y,V);((Ue=Ce.onVnodeUpdated)||_e)&&Mn(()=>{Ue&&Js(Ue,z,B,T),_e&&Lr(B,T,z,"updated")},Y)},Ve=(T,B,z,Y,V,R,ye)=>{for(let ue=0;ue<B.length;ue++){const j=T[ue],oe=B[ue],_e=j.el&&(j.type===Ts||!zr(j,oe)||j.shapeFlag&70)?ve(j.el):z;Le(j,oe,_e,null,Y,V,R,ye,!0)}},se=(T,B,z,Y,V,R,ye)=>{if(z!==Y){if(z!==At)for(const ue in z)!Bu(ue)&&!(ue in Y)&&C(T,ue,z[ue],null,ye,B.children,V,R,nt);for(const ue in Y){if(Bu(ue))continue;const j=Y[ue],oe=z[ue];j!==oe&&ue!=="value"&&C(T,ue,oe,j,ye,B.children,V,R,nt)}"value"in Y&&C(T,"value",z.value,Y.value)}},He=(T,B,z,Y,V,R,ye,ue,j)=>{const oe=B.el=T?T.el:P(""),_e=B.anchor=T?T.anchor:P("");let{patchFlag:Ae,dynamicChildren:Ce,slotScopeIds:Ue}=B;Ue&&(ue=ue?ue.concat(Ue):Ue),T==null?(h(oe,z,Y),h(_e,z,Y),je(B.children,z,_e,V,R,ye,ue,j)):Ae>0&&Ae&64&&Ce&&T.dynamicChildren?(Ve(T.dynamicChildren,Ce,z,V,R,ye,ue),(B.key!=null||V&&B===V.subTree)&&dN(T,B,!0)):K(T,B,z,_e,V,R,ye,ue,j)},zt=(T,B,z,Y,V,R,ye,ue,j)=>{B.slotScopeIds=ue,T==null?B.shapeFlag&512?V.ctx.activate(B,z,Y,ye,j):ns(B,z,Y,V,R,ye,j):Me(T,B,j)},ns=(T,B,z,Y,V,R,ye)=>{const ue=T.component=DK(T,Y,V);if(Qu(T)&&(ue.ctx.renderer=Bs),IK(ue),ue.asyncDep){if(V&&V.registerDep(ue,Lt),!T.el){const j=ue.subTree=yo(Ds);Ke(null,j,B,z)}return}Lt(ue,T,B,z,V,R,ye)},Me=(T,B,z)=>{const Y=B.component=T.component;if(zq(T,B,z))if(Y.asyncDep&&!Y.asyncResolved){Tt(Y,B,z);return}else Y.next=B,Bq(Y.update),Y.update();else B.el=T.el,Y.vnode=B},Lt=(T,B,z,Y,V,R,ye)=>{const ue=()=>{if(T.isMounted){let{next:_e,bu:Ae,u:Ce,parent:Ue,vnode:Ye}=T,ot=_e,rt;$r(T,!1),_e?(_e.el=Ye.el,Tt(T,_e,ye)):_e=Ye,Ae&&ig(Ae),(rt=_e.props&&_e.props.onVnodeBeforeUpdate)&&Js(rt,Ue,_e,Ye),$r(T,!0);const Nt=ag(T),Nn=T.subTree;T.subTree=Nt,Le(Nn,Nt,ve(Nn.el),Et(Nn),T,V,R),_e.el=Nt.el,ot===null&&Hq(T,Nt.el),Ce&&Mn(Ce,V),(rt=_e.props&&_e.props.onVnodeUpdated)&&Mn(()=>Js(rt,Ue,_e,Ye),V)}else{let _e;const{el:Ae,props:Ce}=B,{bm:Ue,m:Ye,parent:ot}=T,rt=Fu(B);if($r(T,!1),Ue&&ig(Ue),!rt&&(_e=Ce&&Ce.onVnodeBeforeMount)&&Js(_e,ot,B),$r(T,!0),Ae&&Ki){const Nt=()=>{T.subTree=ag(T),Ki(Ae,T.subTree,T,V,null)};rt?B.type.__asyncLoader().then(()=>!T.isUnmounted&&Nt()):Nt()}else{const Nt=T.subTree=ag(T);Le(null,Nt,z,Y,T,V,R),B.el=Nt.el}if(Ye&&Mn(Ye,V),!rt&&(_e=Ce&&Ce.onVnodeMounted)){const Nt=B;Mn(()=>Js(_e,ot,Nt),V)}(B.shapeFlag&256||ot&&Fu(ot.vnode)&&ot.vnode.shapeFlag&256)&&T.a&&Mn(T.a,V),T.isMounted=!0,B=z=Y=null}},j=T.effect=new Lg(ue,()=>Vg(oe),T.scope),oe=T.update=()=>j.run();oe.id=T.uid,$r(T,!0),oe()},Tt=(T,B,z)=>{B.component=T;const Y=T.vnode.props;T.vnode=B,T.next=null,pK(T,B.props,Y,z),bK(T,B.children,z),Wi(),nk(),Vi()},K=(T,B,z,Y,V,R,ye,ue,j=!1)=>{const oe=T&&T.children,_e=T?T.shapeFlag:0,Ae=B.children,{patchFlag:Ce,shapeFlag:Ue}=B;if(Ce>0){if(Ce&128){jr(oe,Ae,z,Y,V,R,ye,ue,j);return}else if(Ce&256){Ot(oe,Ae,z,Y,V,R,ye,ue,j);return}}Ue&8?(_e&16&&nt(oe,V,R),Ae!==oe&&re(z,Ae)):_e&16?Ue&16?jr(oe,Ae,z,Y,V,R,ye,ue,j):nt(oe,V,R,!0):(_e&8&&re(z,""),Ue&16&&je(Ae,z,Y,V,R,ye,ue,j))},Ot=(T,B,z,Y,V,R,ye,ue,j)=>{T=T||Ii,B=B||Ii;const oe=T.length,_e=B.length,Ae=Math.min(oe,_e);let Ce;for(Ce=0;Ce<Ae;Ce++){const Ue=B[Ce]=j?Ko(B[Ce]):to(B[Ce]);Le(T[Ce],Ue,z,null,V,R,ye,ue,j)}oe>_e?nt(T,V,R,!0,!1,Ae):je(B,z,Y,V,R,ye,ue,j,Ae)},jr=(T,B,z,Y,V,R,ye,ue,j)=>{let oe=0;const _e=B.length;let Ae=T.length-1,Ce=_e-1;for(;oe<=Ae&&oe<=Ce;){const Ue=T[oe],Ye=B[oe]=j?Ko(B[oe]):to(B[oe]);if(zr(Ue,Ye))Le(Ue,Ye,z,null,V,R,ye,ue,j);else break;oe++}for(;oe<=Ae&&oe<=Ce;){const Ue=T[Ae],Ye=B[Ce]=j?Ko(B[Ce]):to(B[Ce]);if(zr(Ue,Ye))Le(Ue,Ye,z,null,V,R,ye,ue,j);else break;Ae--,Ce--}if(oe>Ae){if(oe<=Ce){const Ue=Ce+1,Ye=Ue<_e?B[Ue].el:Y;for(;oe<=Ce;)Le(null,B[oe]=j?Ko(B[oe]):to(B[oe]),z,Ye,V,R,ye,ue,j),oe++}}else if(oe>Ce)for(;oe<=Ae;)On(T[oe],V,R,!0),oe++;else{const Ue=oe,Ye=oe,ot=new Map;for(oe=Ye;oe<=Ce;oe++){const Ht=B[oe]=j?Ko(B[oe]):to(B[oe]);Ht.key!=null&&ot.set(Ht.key,oe)}let rt,Nt=0;const Nn=Ce-Ye+1;let Is=!1,So=0;const oo=new Array(Nn);for(oe=0;oe<Nn;oe++)oo[oe]=0;for(oe=Ue;oe<=Ae;oe++){const Ht=T[oe];if(Nt>=Nn){On(Ht,V,R,!0);continue}let wt;if(Ht.key!=null)wt=ot.get(Ht.key);else for(rt=Ye;rt<=Ce;rt++)if(oo[rt-Ye]===0&&zr(Ht,B[rt])){wt=rt;break}wt===void 0?On(Ht,V,R,!0):(oo[wt-Ye]=oe+1,wt>=So?So=wt:Is=!0,Le(Ht,B[wt],z,null,V,R,ye,ue,j),Nt++)}const tn=Is?_K(oo):Ii;for(rt=tn.length-1,oe=Nn-1;oe>=0;oe--){const Ht=Ye+oe,wt=B[Ht],ro=Ht+1<_e?B[Ht+1].el:Y;oo[oe]===0?Le(null,wt,z,ro,V,R,ye,ue,j):Is&&(rt<0||oe!==tn[rt]?ie(wt,z,ro,2):rt--)}}},ie=(T,B,z,Y,V=null)=>{const{el:R,type:ye,transition:ue,children:j,shapeFlag:oe}=T;if(oe&6){ie(T.component.subTree,B,z,Y);return}if(oe&128){T.suspense.move(B,z,Y);return}if(oe&64){ye.move(T,B,z,Bs);return}if(ye===Ts){h(R,B,z);for(let Ae=0;Ae<j.length;Ae++)ie(j[Ae],B,z,Y);h(T.anchor,B,z);return}if(ye===ug){le(T,B,z);return}if(Y!==2&&oe&1&&ue)if(Y===0)ue.beforeEnter(R),h(R,B,z),Mn(()=>ue.enter(R),V);else{const{leave:Ae,delayLeave:Ce,afterLeave:Ue}=ue,Ye=()=>h(R,B,z),ot=()=>{Ae(R,()=>{Ye(),Ue&&Ue()})};Ce?Ce(R,Ye,ot):ot()}else h(R,B,z)},On=(T,B,z,Y=!1,V=!1)=>{const{type:R,props:ye,ref:ue,children:j,dynamicChildren:oe,shapeFlag:_e,patchFlag:Ae,dirs:Ce}=T;if(ue!=null&&kg(ue,null,z,T,!0),_e&256){B.ctx.deactivate(T);return}const Ue=_e&1&&Ce,Ye=!Fu(T);let ot;if(Ye&&(ot=ye&&ye.onVnodeBeforeUnmount)&&Js(ot,B,T),_e&6)Zo(T.component,z,Y);else{if(_e&128){T.suspense.unmount(z,Y);return}Ue&&Lr(T,null,B,"beforeUnmount"),_e&64?T.type.remove(T,B,z,V,Bs,Y):oe&&(R!==Ts||Ae>0&&Ae&64)?nt(oe,B,z,!1,!0):(R===Ts&&Ae&384||!V&&_e&16)&&nt(j,B,z),Y&&vl(T)}(Ye&&(ot=ye&&ye.onVnodeUnmounted)||Ue)&&Mn(()=>{ot&&Js(ot,B,T),Ue&&Lr(T,null,B,"unmounted")},z)},vl=T=>{const{type:B,el:z,anchor:Y,transition:V}=T;if(B===Ts){ji(z,Y);return}if(B===ug){tt(T);return}const R=()=>{v(z),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(T.shapeFlag&1&&V&&!V.persisted){const{leave:ye,delayLeave:ue}=V,j=()=>ye(z,R);ue?ue(T.el,R,j):j()}else R()},ji=(T,B)=>{let z;for(;T!==B;)z=ge(T),v(T),T=z;v(B)},Zo=(T,B,z)=>{const{bum:Y,scope:V,update:R,subTree:ye,um:ue}=T;Y&&ig(Y),V.stop(),R&&(R.active=!1,On(ye,T,B,z)),ue&&Mn(ue,B),Mn(()=>{T.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},nt=(T,B,z,Y=!1,V=!1,R=0)=>{for(let ye=R;ye<T.length;ye++)On(T[ye],B,z,Y,V)},Et=T=>T.shapeFlag&6?Et(T.component.subTree):T.shapeFlag&128?T.suspense.next():ge(T.anchor||T.el),b=(T,B,z)=>{T==null?B._vnode&&On(B._vnode,null,null,!0):Le(B._vnode||null,T,B,null,null,null,z),nk(),Gk(),B._vnode=T},Bs={p:Le,um:On,m:ie,r:vl,mt:ns,mc:je,pc:K,pbc:Ve,n:Et,o:l};let qi,Ki;return f&&([qi,Ki]=f(Bs)),{render:b,hydrate:qi,createApp:CK(b,qi)}}function $r({effect:l,update:f},m){l.allowRecurse=f.allowRecurse=m}function dN(l,f,m=!1){const h=l.children,v=f.children;if(Ge(h)&&Ge(v))for(let C=0;C<h.length;C++){const N=h[C];let P=v[C];P.shapeFlag&1&&!P.dynamicChildren&&((P.patchFlag<=0||P.patchFlag===32)&&(P=v[C]=Ko(v[C]),P.el=N.el),m||dN(N,P))}}function _K(l){const f=l.slice(),m=[0];let h,v,C,N,P;const M=l.length;for(h=0;h<M;h++){const J=l[h];if(J!==0){if(v=m[m.length-1],l[v]<J){f[h]=v,m.push(h);continue}for(C=0,N=m.length-1;C<N;)P=C+N>>1,l[m[P]]<J?C=P+1:N=P;J<l[m[C]]&&(C>0&&(f[h]=m[C-1]),m[C]=h)}}for(C=m.length,N=m[C-1];C-- >0;)m[C]=N,N=f[N];return m}const SK=l=>l.__isTeleport,Ts=Symbol(void 0),Yg=Symbol(void 0),Ds=Symbol(void 0),ug=Symbol(void 0),fl=[];let Ps=null;function Wu(l=!1){fl.push(Ps=l?null:[])}function wK(){fl.pop(),Ps=fl[fl.length-1]||null}let hl=1;function dk(l){hl+=l}function mN(l){return l.dynamicChildren=hl>0?Ps||Ii:null,wK(),hl>0&&Ps&&Ps.push(l),l}function pN(l,f,m,h,v,C){return mN(fs(l,f,m,h,v,C,!0))}function gN(l,f,m,h,v){return mN(yo(l,f,m,h,v,!0))}function xK(l){return l?l.__v_isVNode===!0:!1}function zr(l,f){return l.type===f.type&&l.key===f.key}const Ju="__vInternal",hN=({key:l})=>l!=null?l:null,Lu=({ref:l,ref_key:f,ref_for:m})=>l!=null?pn(l)||xn(l)||Ze(l)?{i:so,r:l,k:f,f:!!m}:l:null;function fs(l,f=null,m=null,h=0,v=null,C=l===Ts?0:1,N=!1,P=!1){const M={__v_isVNode:!0,__v_skip:!0,type:l,props:f,key:f&&hN(f),ref:f&&Lu(f),scopeId:Qk,slotScopeIds:null,children:m,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:C,patchFlag:h,dynamicProps:v,dynamicChildren:null,appContext:null};return P?(Xg(M,m),C&128&&l.normalize(M)):m&&(M.shapeFlag|=pn(m)?8:16),hl>0&&!N&&Ps&&(M.patchFlag>0||C&6)&&M.patchFlag!==32&&Ps.push(M),M}const yo=kK;function kK(l,f=null,m=null,h=0,v=null,C=!1){if((!l||l===iK)&&(l=Ds),xK(l)){const P=Qo(l,f,!0);return m&&Xg(P,m),hl>0&&!C&&Ps&&(P.shapeFlag&6?Ps[Ps.indexOf(l)]=P:Ps.push(P)),P.patchFlag|=-2,P}if(MK(l)&&(l=l.__vccOpts),f){f=NK(f);let{class:P,style:M}=f;P&&!pn(P)&&(f.class=Pg(P)),Ut(M)&&(Uk(M)&&!Ge(M)&&(M=kn({},M)),f.style=Rg(M))}const N=pn(l)?1:Wq(l)?128:SK(l)?64:Ut(l)?4:Ze(l)?2:0;return fs(l,f,m,h,v,N,C,!0)}function NK(l){return l?Uk(l)||Ju in l?kn({},l):l:null}function Qo(l,f,m=!1){const{props:h,ref:v,patchFlag:C,children:N}=l,P=f?RK(h||{},f):h;return{__v_isVNode:!0,__v_skip:!0,type:l.type,props:P,key:P&&hN(P),ref:f&&f.ref?m&&v?Ge(v)?v.concat(Lu(f)):[v,Lu(f)]:Lu(f):v,scopeId:l.scopeId,slotScopeIds:l.slotScopeIds,children:N,target:l.target,targetAnchor:l.targetAnchor,staticCount:l.staticCount,shapeFlag:l.shapeFlag,patchFlag:f&&l.type!==Ts?C===-1?16:C|16:C,dynamicProps:l.dynamicProps,dynamicChildren:l.dynamicChildren,appContext:l.appContext,dirs:l.dirs,transition:l.transition,component:l.component,suspense:l.suspense,ssContent:l.ssContent&&Qo(l.ssContent),ssFallback:l.ssFallback&&Qo(l.ssFallback),el:l.el,anchor:l.anchor}}function AK(l=" ",f=0){return yo(Yg,null,l,f)}function TK(l="",f=!1){return f?(Wu(),gN(Ds,null,l)):yo(Ds,null,l)}function to(l){return l==null||typeof l=="boolean"?yo(Ds):Ge(l)?yo(Ts,null,l.slice()):typeof l=="object"?Ko(l):yo(Yg,null,String(l))}function Ko(l){return l.el===null&&l.patchFlag!==-1||l.memo?l:Qo(l)}function Xg(l,f){let m=0;const{shapeFlag:h}=l;if(f==null)f=null;else if(Ge(f))m=16;else if(typeof f=="object")if(h&65){const v=f.default;v&&(v._c&&(v._d=!1),Xg(l,v()),v._c&&(v._d=!0));return}else{m=32;const v=f._;!v&&!(Ju in f)?f._ctx=so:v===3&&so&&(so.slots._===1?f._=1:(f._=2,l.patchFlag|=1024))}else Ze(f)?(f={default:f,_ctx:so},m=32):(f=String(f),h&64?(m=16,f=[AK(f)]):m=8);l.children=f,l.shapeFlag|=m}function RK(...l){const f={};for(let m=0;m<l.length;m++){const h=l[m];for(const v in h)if(v==="class")f.class!==h.class&&(f.class=Pg([f.class,h.class]));else if(v==="style")f.style=Rg([f.style,h.style]);else if(Vu(v)){const C=f[v],N=h[v];N&&C!==N&&!(Ge(C)&&C.includes(N))&&(f[v]=C?[].concat(C,N):N)}else v!==""&&(f[v]=h[v])}return f}function Js(l,f,m,h=null){us(l,f,7,[m,h])}const PK=fN();let OK=0;function DK(l,f,m){const h=l.type,v=(f?f.appContext:l.appContext)||PK,C={uid:OK++,vnode:l,type:h,parent:f,appContext:v,root:null,next:null,subTree:null,effect:null,update:null,scope:new Z9(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:f?f.provides:Object.create(v.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:aN(h,v),emitsOptions:Xk(h,v),emit:null,emitted:null,propsDefaults:At,inheritAttrs:h.inheritAttrs,ctx:At,data:At,props:At,attrs:At,slots:At,refs:At,setupState:At,setupContext:null,suspense:m,suspenseId:m?m.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return C.ctx={_:C},C.root=f?f.root:C,C.emit=Lq.bind(null,C),l.ce&&l.ce(C),C}let mn=null;const BK=()=>mn||so,zi=l=>{mn=l,l.scope.on()},Vr=()=>{mn&&mn.scope.off(),mn=null};function bN(l){return l.vnode.shapeFlag&4}let bl=!1;function IK(l,f=!1){bl=f;const{props:m,children:h}=l.vnode,v=bN(l);mK(l,m,v,f),hK(l,h);const C=v?FK(l,f):void 0;return bl=!1,C}function FK(l,f){const m=l.type;l.accessCache=Object.create(null),l.proxy=zk(new Proxy(l.ctx,aK));const{setup:h}=m;if(h){const v=l.setupContext=h.length>1?$K(l):null;zi(l),Wi();const C=Yo(h,l,0,[l.props,v]);if(Vi(),Vr(),xk(C)){if(C.then(Vr,Vr),f)return C.then(N=>{mk(l,N,f)}).catch(N=>{Yu(N,l,0)});l.asyncDep=C}else mk(l,C,f)}else vN(l,f)}function mk(l,f,m){Ze(f)?l.type.__ssrInlineRender?l.ssrRender=f:l.render=f:Ut(f)&&(l.setupState=Vk(f)),vN(l,m)}let pk;function vN(l,f,m){const h=l.type;if(!l.render){if(!f&&pk&&!h.render){const v=h.template||Kg(l).template;if(v){const{isCustomElement:C,compilerOptions:N}=l.appContext.config,{delimiters:P,compilerOptions:M}=h,J=kn(kn({isCustomElement:C,delimiters:P},N),M);h.render=pk(v,J)}}l.render=h.render||Os}zi(l),Wi(),lK(l),Vi(),Vr()}function LK(l){return new Proxy(l.attrs,{get(f,m){return ts(l,"get","$attrs"),f[m]}})}function $K(l){const f=h=>{l.exposed=h||{}};let m;return{get attrs(){return m||(m=LK(l))},slots:l.slots,emit:l.emit,expose:f}}function Qg(l){if(l.exposed)return l.exposeProxy||(l.exposeProxy=new Proxy(Vk(zk(l.exposed)),{get(f,m){if(m in f)return f[m];if(m in zu)return zu[m](l)}}))}function MK(l){return Ze(l)&&"__vccOpts"in l}const CN=(l,f)=>Pq(l,f,bl),UK="3.2.40",zK="http://www.w3.org/2000/svg",Hr=typeof document<"u"?document:null,gk=Hr&&Hr.createElement("template"),HK={insert:(l,f,m)=>{f.insertBefore(l,m||null)},remove:l=>{const f=l.parentNode;f&&f.removeChild(l)},createElement:(l,f,m,h)=>{const v=f?Hr.createElementNS(zK,l):Hr.createElement(l,m?{is:m}:void 0);return l==="select"&&h&&h.multiple!=null&&v.setAttribute("multiple",h.multiple),v},createText:l=>Hr.createTextNode(l),createComment:l=>Hr.createComment(l),setText:(l,f)=>{l.nodeValue=f},setElementText:(l,f)=>{l.textContent=f},parentNode:l=>l.parentNode,nextSibling:l=>l.nextSibling,querySelector:l=>Hr.querySelector(l),setScopeId(l,f){l.setAttribute(f,"")},insertStaticContent(l,f,m,h,v,C){const N=m?m.previousSibling:f.lastChild;if(v&&(v===C||v.nextSibling))for(;f.insertBefore(v.cloneNode(!0),m),!(v===C||!(v=v.nextSibling)););else{gk.innerHTML=h?`<svg>${l}</svg>`:l;const P=gk.content;if(h){const M=P.firstChild;for(;M.firstChild;)P.appendChild(M.firstChild);P.removeChild(M)}f.insertBefore(P,m)}return[N?N.nextSibling:f.firstChild,m?m.previousSibling:f.lastChild]}};function WK(l,f,m){const h=l._vtc;h&&(f=(f?[f,...h]:[...h]).join(" ")),f==null?l.removeAttribute("class"):m?l.setAttribute("class",f):l.className=f}function VK(l,f,m){const h=l.style,v=pn(m);if(m&&!v){for(const C in m)Ng(h,C,m[C]);if(f&&!pn(f))for(const C in f)m[C]==null&&Ng(h,C,"")}else{const C=h.display;v?f!==m&&(h.cssText=m):f&&l.removeAttribute("style"),"_vod"in l&&(h.display=C)}}const hk=/\s*!important$/;function Ng(l,f,m){if(Ge(m))m.forEach(h=>Ng(l,f,h));else if(m==null&&(m=""),f.startsWith("--"))l.setProperty(f,m);else{const h=jK(l,f);hk.test(m)?l.setProperty(Hi(h),m.replace(hk,""),"important"):l[h]=m}}const bk=["Webkit","Moz","ms"],fg={};function jK(l,f){const m=fg[f];if(m)return m;let h=Mi(f);if(h!=="filter"&&h in l)return fg[f]=h;h=Ak(h);for(let v=0;v<bk.length;v++){const C=bk[v]+h;if(C in l)return fg[f]=C}return f}const vk="http://www.w3.org/1999/xlink";function qK(l,f,m,h,v){if(h&&f.startsWith("xlink:"))m==null?l.removeAttributeNS(vk,f.slice(6,f.length)):l.setAttributeNS(vk,f,m);else{const C=M9(f);m==null||C&&!_k(m)?l.removeAttribute(f):l.setAttribute(f,C?"":m)}}function KK(l,f,m,h,v,C,N){if(f==="innerHTML"||f==="textContent"){h&&N(h,v,C),l[f]=m==null?"":m;return}if(f==="value"&&l.tagName!=="PROGRESS"&&!l.tagName.includes("-")){l._value=m;const M=m==null?"":m;(l.value!==M||l.tagName==="OPTION")&&(l.value=M),m==null&&l.removeAttribute(f);return}let P=!1;if(m===""||m==null){const M=typeof l[f];M==="boolean"?m=_k(m):m==null&&M==="string"?(m="",P=!0):M==="number"&&(m=0,P=!0)}try{l[f]=m}catch{}P&&l.removeAttribute(f)}const[yN,GK]=(()=>{let l=Date.now,f=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(l=performance.now.bind(performance));const m=navigator.userAgent.match(/firefox\/(\d+)/i);f=!!(m&&Number(m[1])<=53)}return[l,f]})();let Ag=0;const YK=Promise.resolve(),XK=()=>{Ag=0},QK=()=>Ag||(YK.then(XK),Ag=yN());function ZK(l,f,m,h){l.addEventListener(f,m,h)}function JK(l,f,m,h){l.removeEventListener(f,m,h)}function e7(l,f,m,h,v=null){const C=l._vei||(l._vei={}),N=C[f];if(h&&N)N.value=h;else{const[P,M]=t7(f);if(h){const J=C[f]=n7(h,v);ZK(l,P,J,M)}else N&&(JK(l,P,N,M),C[f]=void 0)}}const Ck=/(?:Once|Passive|Capture)$/;function t7(l){let f;if(Ck.test(l)){f={};let h;for(;h=l.match(Ck);)l=l.slice(0,l.length-h[0].length),f[h[0].toLowerCase()]=!0}return[l[2]===":"?l.slice(3):Hi(l.slice(2)),f]}function n7(l,f){const m=h=>{const v=h.timeStamp||yN();(GK||v>=m.attached-1)&&us(s7(h,m.value),f,5,[h])};return m.value=l,m.attached=QK(),m}function s7(l,f){if(Ge(f)){const m=l.stopImmediatePropagation;return l.stopImmediatePropagation=()=>{m.call(l),l._stopped=!0},f.map(h=>v=>!v._stopped&&h&&h(v))}else return f}const yk=/^on[a-z]/,o7=(l,f,m,h,v=!1,C,N,P,M)=>{f==="class"?WK(l,h,v):f==="style"?VK(l,m,h):Vu(f)?Og(f)||e7(l,f,m,h,N):(f[0]==="."?(f=f.slice(1),!0):f[0]==="^"?(f=f.slice(1),!1):r7(l,f,h,v))?KK(l,f,h,C,N,P,M):(f==="true-value"?l._trueValue=h:f==="false-value"&&(l._falseValue=h),qK(l,f,h,v))};function r7(l,f,m,h){return h?!!(f==="innerHTML"||f==="textContent"||f in l&&yk.test(f)&&Ze(m)):f==="spellcheck"||f==="draggable"||f==="translate"||f==="form"||f==="list"&&l.tagName==="INPUT"||f==="type"&&l.tagName==="TEXTAREA"||yk.test(f)&&pn(m)?!1:f in l}const i7={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Yq.props;const a7=kn({patchProp:o7},HK);let Ek;function l7(){return Ek||(Ek=yK(a7))}const c7=(...l)=>{const f=l7().createApp(...l),{mount:m}=f;return f.mount=h=>{const v=u7(h);if(!v)return;const C=f._component;!Ze(C)&&!C.render&&!C.template&&(C.template=v.innerHTML),v.innerHTML="";const N=m(v,!1,v instanceof SVGElement);return v instanceof Element&&(v.removeAttribute("v-cloak"),v.setAttribute("data-v-app","")),N},f};function u7(l){return pn(l)?document.querySelector(l):l}var EN={exports:{}};(function(l){(function(){var f=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},m=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},h=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},v=function(e,t){return C(function(n,s){return e.eq(t(n),t(s))})},C=function(e){return{eq:e}},N=C(function(e,t){return e===t}),P=N,M=function(e){return C(function(t,n){if(t.length!==n.length)return!1;for(var s=t.length,o=0;o<s;o++)if(!e.eq(t[o],n[o]))return!1;return!0})},J=function(e,t){return v(M(e),function(n){return h(n,t)})},re=function(e){return C(function(t,n){var s=Object.keys(t),o=Object.keys(n);if(!J(P).eq(s,o))return!1;for(var r=s.length,i=0;i<r;i++){var a=s[i];if(!e.eq(t[a],n[a]))return!1}return!0})},ve=C(function(e,t){if(e===t)return!0;var n=f(e),s=f(t);return n!==s?!1:m(n)?e===t:n==="array"?M(ve).eq(e,t):n==="object"?re(ve).eq(e,t):!1});const ge=Object.getPrototypeOf,Fe=(e,t,n)=>{var s;return n(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},ut=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Fe(e,String,(n,s)=>s.isPrototypeOf(n))?"string":t},Le=e=>t=>ut(t)===e,at=e=>t=>typeof t===e,Ke=e=>t=>e===t,gn=(e,t)=>tt(e)&&Fe(e,t,(n,s)=>ge(n)===s),le=Le("string"),tt=Le("object"),an=e=>gn(e,Object),Ct=Le("array"),hn=Ke(null),je=at("boolean"),lt=Ke(void 0),Ve=e=>e==null,se=e=>!Ve(e),He=at("function"),zt=at("number"),ns=(e,t)=>{if(Ct(e)){for(let n=0,s=e.length;n<s;++n)if(!t(e[n]))return!1;return!0}return!1},Me=()=>{},Lt=(e,t)=>(...n)=>e(t.apply(null,n)),Tt=(e,t)=>n=>e(t(n)),K=e=>()=>e,Ot=e=>e,jr=(e,t)=>e===t;function ie(e,...t){return(...n)=>{const s=t.concat(n);return e.apply(null,s)}}const On=e=>t=>!e(t),vl=e=>()=>{throw new Error(e)},ji=e=>e(),Zo=e=>{e()},nt=K(!1),Et=K(!0);class b{constructor(t,n){this.tag=t,this.value=n}static some(t){return new b(!0,t)}static none(){return b.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?b.some(t(this.value)):b.none()}bind(t){return this.tag?t(this.value):b.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:b.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t!=null?t:"Called getOrDie on None")}static from(t){return se(t)?b.some(t):b.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}b.singletonNone=new b(!1);const Bs=Array.prototype.slice,qi=Array.prototype.indexOf,Ki=Array.prototype.push,T=(e,t)=>qi.call(e,t),B=(e,t)=>{const n=T(e,t);return n===-1?b.none():b.some(n)},z=(e,t)=>T(e,t)>-1,Y=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const o=e[n];if(t(o,n))return!0}return!1},V=(e,t)=>{const n=e.length,s=new Array(n);for(let o=0;o<n;o++){const r=e[o];s[o]=t(r,o)}return s},R=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const o=e[n];t(o,n)}},ye=(e,t)=>{for(let n=e.length-1;n>=0;n--){const s=e[n];t(s,n)}},ue=(e,t)=>{const n=[],s=[];for(let o=0,r=e.length;o<r;o++){const i=e[o];(t(i,o)?n:s).push(i)}return{pass:n,fail:s}},j=(e,t)=>{const n=[];for(let s=0,o=e.length;s<o;s++){const r=e[s];t(r,s)&&n.push(r)}return n},oe=(e,t,n)=>(ye(e,(s,o)=>{n=t(n,s,o)}),n),_e=(e,t,n)=>(R(e,(s,o)=>{n=t(n,s,o)}),n),Ae=(e,t,n)=>{for(let s=0,o=e.length;s<o;s++){const r=e[s];if(t(r,s))return b.some(r);if(n(r,s))break}return b.none()},Ce=(e,t)=>Ae(e,t,nt),Ue=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const o=e[n];if(t(o,n))return b.some(n)}return b.none()},Ye=e=>{const t=[];for(let n=0,s=e.length;n<s;++n){if(!Ct(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ki.apply(t,e[n])}return t},ot=(e,t)=>Ye(V(e,t)),rt=(e,t)=>{for(let n=0,s=e.length;n<s;++n){const o=e[n];if(t(o,n)!==!0)return!1}return!0},Nt=e=>{const t=Bs.call(e,0);return t.reverse(),t},Nn=(e,t)=>j(e,n=>!z(t,n)),Is=(e,t)=>{const n={};for(let s=0,o=e.length;s<o;s++){const r=e[s];n[String(r)]=t(r,s)}return n},So=(e,t)=>{const n=Bs.call(e,0);return n.sort(t),n},oo=(e,t)=>t>=0&&t<e.length?b.some(e[t]):b.none(),tn=e=>oo(e,0),Ht=e=>oo(e,e.length-1),wt=He(Array.from)?Array.from:e=>Bs.call(e),ro=(e,t)=>{for(let n=0;n<e.length;n++){const s=t(e[n],n);if(s.isSome())return s}return b.none()},wN=(e,t)=>{const n=[],s=He(t)?o=>Y(n,r=>t(r,o)):o=>z(n,o);for(let o=0,r=e.length;o<r;o++){const i=e[o];s(i)||n.push(i)}return n},Un=Object.keys,xN=Object.hasOwnProperty,dt=(e,t)=>{const n=Un(e);for(let s=0,o=n.length;s<o;s++){const r=n[s],i=e[r];t(i,r)}},Cl=(e,t)=>kN(e,(n,s)=>({k:s,v:t(n,s)})),kN=(e,t)=>{const n={};return dt(e,(s,o)=>{const r=t(s,o);n[r.k]=r.v}),n},ef=e=>(t,n)=>{e[n]=t},Zg=(e,t,n,s)=>{dt(e,(o,r)=>{(t(o,r)?n:s)(o,r)})},NN=(e,t)=>{const n={},s={};return Zg(e,t,ef(n),ef(s)),{t:n,f:s}},Gi=(e,t)=>{const n={};return Zg(e,t,ef(n),Me),n},tf=(e,t)=>{const n=[];return dt(e,(s,o)=>{n.push(t(s,o))}),n},nf=e=>tf(e,Ot),bt=(e,t)=>$e(e,t)?b.from(e[t]):b.none(),$e=(e,t)=>xN.call(e,t),qr=(e,t)=>$e(e,t)&&e[t]!==void 0&&e[t]!==null,AN=(e,t,n=ve)=>re(n).eq(e,t),Jg=e=>{const t={};return R(e,n=>{t[n]={}}),Un(t)},eh=e=>e.length!==void 0,sf=Array.isArray,TN=e=>{if(sf(e))return e;{const t=[];for(let n=0,s=e.length;n<s;n++)t[n]=e[n];return t}},yl=(e,t,n)=>{if(!e)return!1;if(n=n||e,eh(e)){for(let s=0,o=e.length;s<o;s++)if(t.call(n,e[s],s,e)===!1)return!1}else for(const s in e)if($e(e,s)&&t.call(n,e[s],s,e)===!1)return!1;return!0},of=(e,t)=>{const n=[];return yl(e,(s,o)=>{n.push(t(s,o,e))}),n},Yi=(e,t)=>{const n=[];return yl(e,(s,o)=>{(!t||t(s,o,e))&&n.push(s)}),n},RN=(e,t)=>{if(e){for(let n=0,s=e.length;n<s;n++)if(e[n]===t)return n}return-1},El=(e,t,n,s)=>{let o=lt(n)?e[0]:n;for(let r=0;r<e.length;r++)o=t.call(s,o,e[r],r);return o},th=(e,t,n)=>{for(let s=0,o=e.length;s<o;s++)if(t.call(n,e[s],s,e))return s;return-1},Jo=e=>e[e.length-1],er=e=>{let t=!1,n;return(...s)=>(t||(t=!0,n=e.apply(null,s)),n)},PN=(e,t,n,s)=>{const o=e.isiOS()&&/ipad/i.test(n)===!0,r=e.isiOS()&&!o,i=e.isiOS()||e.isAndroid(),a=i||s("(pointer:coarse)"),c=o||!r&&i&&s("(min-device-width:768px)"),u=r||i&&!c,d=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,g=!u&&!c&&!d;return{isiPad:K(o),isiPhone:K(r),isTablet:K(c),isPhone:K(u),isTouch:K(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:K(d),isDesktop:K(g)}},ON=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n];if(s.test(t))return s}},DN=(e,t)=>{const n=ON(e,t);if(!n)return{major:0,minor:0};const s=o=>Number(t.replace(n,"$"+o));return rf(s(1),s(2))},BN=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?nh():DN(e,n)},nh=()=>rf(0,0),rf=(e,t)=>({major:e,minor:t}),Xi={nu:rf,detect:BN,unknown:nh},IN=(e,t)=>ro(t.brands,n=>{const s=n.brand.toLowerCase();return Ce(e,o=>{var r;return s===((r=o.brand)===null||r===void 0?void 0:r.toLowerCase())}).map(o=>({current:o.name,version:Xi.nu(parseInt(n.version,10),0)}))}),sh=(e,t)=>{const n=String(t).toLowerCase();return Ce(e,s=>s.search(n))},FN=(e,t)=>sh(e,t).map(n=>{const s=Xi.detect(n.versionRegexes,t);return{current:n.name,version:s}}),LN=(e,t)=>sh(e,t).map(n=>{const s=Xi.detect(n.versionRegexes,t);return{current:n.name,version:s}}),$N=(e,t)=>e.substring(t),oh=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,MN=(e,t)=>Zt(e,t)?$N(e,t.length):e,nn=(e,t,n=0,s)=>{const o=e.indexOf(t,n);return o!==-1?lt(s)?!0:o+t.length<=s:!1},Zt=(e,t)=>oh(e,t,0),rh=(e,t)=>oh(e,t,e.length-t.length),af=e=>t=>t.replace(e,""),Kr=af(/^\s+|\s+$/g),UN=af(/^\s+/g),ih=af(/\s+$/g),Fs=e=>e.length>0,Qi=e=>!Fs(e),zN=(e,t)=>t<=0?"":new Array(t+1).join(e),_l=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?b.none():b.some(n)},lf=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,io=e=>t=>nn(t,e),HN=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>nn(e,"edge/")&&nn(e,"chrome")&&nn(e,"safari")&&nn(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,lf],search:e=>nn(e,"chrome")&&!nn(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>nn(e,"msie")||nn(e,"trident")},{name:"Opera",versionRegexes:[lf,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:io("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:io("firefox")},{name:"Safari",versionRegexes:[lf,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(nn(e,"safari")||nn(e,"mobile/"))&&nn(e,"applewebkit")}],WN=[{name:"Windows",search:io("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>nn(e,"iphone")||nn(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:io("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:io("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:io("linux"),versionRegexes:[]},{name:"Solaris",search:io("sunos"),versionRegexes:[]},{name:"FreeBSD",search:io("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:io("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ah={browsers:K(HN),oses:K(WN)},lh="Edge",ch="Chromium",uh="IE",fh="Opera",dh="Firefox",mh="Safari",VN=()=>ph({current:void 0,version:Xi.unknown()}),ph=e=>{const t=e.current,n=e.version,s=o=>()=>t===o;return{current:t,version:n,isEdge:s(lh),isChromium:s(ch),isIE:s(uh),isOpera:s(fh),isFirefox:s(dh),isSafari:s(mh)}},gh={unknown:VN,nu:ph,edge:K(lh),chromium:K(ch),ie:K(uh),opera:K(fh),firefox:K(dh),safari:K(mh)},hh="Windows",bh="iOS",vh="Android",Ch="Linux",yh="macOS",Eh="Solaris",_h="FreeBSD",Sh="ChromeOS",jN=()=>wh({current:void 0,version:Xi.unknown()}),wh=e=>{const t=e.current,n=e.version,s=o=>()=>t===o;return{current:t,version:n,isWindows:s(hh),isiOS:s(bh),isAndroid:s(vh),isMacOS:s(yh),isLinux:s(Ch),isSolaris:s(Eh),isFreeBSD:s(_h),isChromeOS:s(Sh)}},xh={unknown:jN,nu:wh,windows:K(hh),ios:K(bh),android:K(vh),linux:K(Ch),macos:K(yh),solaris:K(Eh),freebsd:K(_h),chromeos:K(Sh)},qN={detect:(e,t,n)=>{const s=ah.browsers(),o=ah.oses(),r=t.bind(c=>IN(s,c)).orThunk(()=>FN(s,e)).fold(gh.unknown,gh.nu),i=LN(o,e).fold(xh.unknown,xh.nu),a=PN(i,r,e,n);return{browser:r,os:i,deviceType:a}}},KN=e=>window.matchMedia(e).matches;let GN=er(()=>qN.detect(navigator.userAgent,b.from(navigator.userAgentData),KN));const tr=()=>GN(),YN=navigator.userAgent,cf=tr(),Ls=cf.browser,$s=cf.os,nr=cf.deviceType,XN=YN.indexOf("Windows Phone")!==-1,Xe={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ls.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ls.isIE(),windowsPhone:XN,browser:{current:Ls.current,version:Ls.version,isChromium:Ls.isChromium,isEdge:Ls.isEdge,isFirefox:Ls.isFirefox,isIE:Ls.isIE,isOpera:Ls.isOpera,isSafari:Ls.isSafari},os:{current:$s.current,version:$s.version,isAndroid:$s.isAndroid,isChromeOS:$s.isChromeOS,isFreeBSD:$s.isFreeBSD,isiOS:$s.isiOS,isLinux:$s.isLinux,isMacOS:$s.isMacOS,isSolaris:$s.isSolaris,isWindows:$s.isWindows},deviceType:{isDesktop:nr.isDesktop,isiPad:nr.isiPad,isiPhone:nr.isiPhone,isPhone:nr.isPhone,isTablet:nr.isTablet,isTouch:nr.isTouch,isWebView:nr.isWebView}},QN=/^\s*|\s*$/g,kh=e=>Ve(e)?"":(""+e).replace(QN,""),ZN=(e,t)=>t?t==="array"&&sf(e)?!0:typeof e===t:e!==void 0,JN=(e,t,n={})=>{const s=le(e)?e.split(t||","):e||[];let o=s.length;for(;o--;)n[s[o]]={};return n},eA=$e,tA=(e,...t)=>{for(let n=0;n<t.length;n++){const s=t[n];for(const o in s)if($e(s,o)){const r=s[o];r!==void 0&&(e[o]=r)}}return e},Nh=function(e,t,n,s){s=s||this,e&&(n&&(e=e[n]),yl(e,(o,r)=>t.call(s,o,r,n)===!1?!1:(Nh(o,t,n,s),!0)))},Q={trim:kh,isArray:sf,is:ZN,toArray:TN,makeMap:JN,each:yl,map:of,grep:Yi,inArray:RN,hasOwn:eA,extend:tA,walk:Nh,resolve:(e,t=window)=>{const n=e.split(".");for(let s=0,o=n.length;s<o&&(t=t[n[s]],!!t);s++);return t},explode:(e,t)=>Ct(e)?e:e===""?[]:of(e.split(t||","),kh),_addCacheSuffix:e=>{const t=Xe.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Gr=(e,t,n=jr)=>e.exists(s=>n(s,t)),nA=e=>{const t=[],n=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(n);return t},bn=(e,t,n)=>e.isSome()&&t.isSome()?b.some(n(e.getOrDie(),t.getOrDie())):b.none(),sA=(e,t,n,s)=>e.isSome()&&t.isSome()&&n.isSome()?b.some(s(e.getOrDie(),t.getOrDie(),n.getOrDie())):b.none(),Zi=(e,t)=>e?b.some(t):b.none();typeof window<"u"||Function("return this;")();const Ah=8,Th=9,Rh=11,Ji=1,Ph=3,xt=e=>e.dom.nodeName.toLowerCase(),Oh=e=>e.dom.nodeType,Sl=e=>t=>Oh(t)===e,oA=e=>Oh(e)===Ah||xt(e)==="#comment",ss=Sl(Ji),zn=Sl(Ph),rA=Sl(Th),iA=Sl(Rh),uf=e=>t=>ss(t)&&xt(t)===e,Dh=(e,t,n)=>{if(le(n)||je(n)||zt(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},Kt=(e,t,n)=>{Dh(e.dom,t,n)},wo=(e,t)=>{const n=e.dom;dt(t,(s,o)=>{Dh(n,o,s)})},os=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},ao=(e,t)=>b.from(os(e,t)),wl=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},sn=(e,t)=>{e.dom.removeAttribute(t)},aA=e=>{const t=e.dom.attributes;return t==null||t.length===0},Bh=e=>_e(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),ff=(e,t)=>{const n=os(e,t);return n===void 0||n===""?[]:n.split(" ")},lA=(e,t,n)=>{const o=ff(e,t).concat([n]);return Kt(e,t,o.join(" ")),!0},cA=(e,t,n)=>{const s=j(ff(e,t),o=>o!==n);return s.length>0?Kt(e,t,s.join(" ")):sn(e,t),!1},ea=e=>e.dom.classList!==void 0,Ih=e=>ff(e,"class"),Fh=(e,t)=>lA(e,"class",t),Lh=(e,t)=>cA(e,"class",t),uA=(e,t)=>z(Ih(e),t)?Lh(e,t):Fh(e,t),ta=(e,t)=>{ea(e)?e.dom.classList.add(t):Fh(e,t)},$h=e=>{(ea(e)?e.dom.classList:Ih(e)).length===0&&sn(e,"class")},xl=(e,t)=>{ea(e)?e.dom.classList.remove(t):Lh(e,t),$h(e)},fA=(e,t)=>{const n=ea(e)?e.dom.classList.toggle(t):uA(e,t);return $h(e),n},df=(e,t)=>ea(e)&&e.dom.classList.contains(t),na=e=>e.style!==void 0&&He(e.style.getPropertyValue),dA=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const o="HTML does not have a single root node";throw console.error(o,e),new Error(o)}return sa(s.childNodes[0])},mA=(e,t)=>{const s=(t||document).createElement(e);return sa(s)},pA=(e,t)=>{const s=(t||document).createTextNode(e);return sa(s)},sa=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},x={fromHtml:dA,fromTag:mA,fromText:pA,fromDom:sa,fromPoint:(e,t,n)=>b.from(e.dom.elementFromPoint(t,n)).map(sa)},Mh=(e,t)=>{const n=[],s=r=>(n.push(r),t(r));let o=t(e);do o=o.bind(s);while(o.isSome());return n},ds=(e,t)=>{const n=e.dom;if(n.nodeType!==Ji)return!1;{const s=n;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Uh=e=>e.nodeType!==Ji&&e.nodeType!==Th&&e.nodeType!==Rh||e.childElementCount===0,gA=(e,t)=>{const n=t===void 0?document:t.dom;return Uh(n)?[]:V(n.querySelectorAll(e),x.fromDom)},hA=(e,t)=>{const n=t===void 0?document:t.dom;return Uh(n)?b.none():b.from(n.querySelector(e)).map(x.fromDom)},it=(e,t)=>e.dom===t.dom,lo=(e,t)=>{const n=e.dom,s=t.dom;return n===s?!1:n.contains(s)},zh=e=>x.fromDom(e.dom.ownerDocument),co=e=>rA(e)?e:zh(e),bA=e=>x.fromDom(co(e).dom.documentElement),oa=e=>x.fromDom(co(e).dom.defaultView),Hn=e=>b.from(e.dom.parentNode).map(x.fromDom),vA=e=>b.from(e.dom.parentElement).map(x.fromDom),CA=(e,t)=>{const n=He(t)?t:nt;let s=e.dom;const o=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const r=s.parentNode,i=x.fromDom(r);if(o.push(i),n(i)===!0)break;s=r}return o},yA=e=>{const t=n=>j(n,s=>!it(e,s));return Hn(e).map(on).map(t).getOr([])},sr=e=>b.from(e.dom.previousSibling).map(x.fromDom),ra=e=>b.from(e.dom.nextSibling).map(x.fromDom),Hh=e=>Nt(Mh(e,sr)),Wh=e=>Mh(e,ra),on=e=>V(e.dom.childNodes,x.fromDom),kl=(e,t)=>{const n=e.dom.childNodes;return b.from(n[t]).map(x.fromDom)},Vh=e=>kl(e,0),mf=e=>kl(e,e.dom.childNodes.length-1),jh=e=>e.dom.childNodes.length,EA=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return x.fromDom(t)},pf=e=>iA(e)&&se(e.dom.host),qh=He(Element.prototype.attachShadow)&&He(Node.prototype.getRootNode),_A=K(qh),xo=qh?e=>x.fromDom(e.dom.getRootNode()):co,gf=e=>pf(e)?e:EA(co(e)),SA=e=>pf(e)?e:x.fromDom(co(e).dom.body),wA=e=>{const t=xo(e);return pf(t)?b.some(t):b.none()},xA=e=>x.fromDom(e.dom.host),Kh=e=>{if(_A()&&se(e.target)){const t=x.fromDom(e.target);if(ss(t)&&kA(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return tn(n)}}return b.from(e.target)},kA=e=>se(e.dom.shadowRoot),Yr=e=>{const t=zn(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return wA(x.fromDom(t)).fold(()=>n.body.contains(t),Tt(Yr,xA))},Gh=(e,t,n)=>{if(!le(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);na(e)&&e.style.setProperty(t,n)},NA=(e,t)=>{na(e)&&e.style.removeProperty(t)},Yh=(e,t,n)=>{const s=e.dom;Gh(s,t,n)},Nl=(e,t)=>{const n=e.dom;dt(t,(s,o)=>{Gh(n,o,s)})},Ms=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return o===""&&!Yr(e)?Xh(n,t):o},Xh=(e,t)=>na(e)?e.style.getPropertyValue(t):"",Al=(e,t)=>{const n=e.dom,s=Xh(n,t);return b.from(s).filter(o=>o.length>0)},Qh=e=>{const t={},n=e.dom;if(na(n))for(let s=0;s<n.style.length;s++){const o=n.style.item(s);t[o]=n.style[o]}return t},Zh=(e,t)=>{const n=e.dom;NA(n,t),Gr(ao(e,"style").map(Kr),"")&&sn(e,"style")},AA=e=>e.dom.offsetWidth,Wn=(e,t)=>{Hn(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},ko=(e,t)=>{ra(e).fold(()=>{Hn(e).each(o=>{Wt(o,t)})},s=>{Wn(s,t)})},Jh=(e,t)=>{Vh(e).fold(()=>{Wt(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},Wt=(e,t)=>{e.dom.appendChild(t.dom)},TA=(e,t)=>{Wn(e,t),Wt(t,e)},RA=(e,t)=>{R(t,(n,s)=>{const o=s===0?e:t[s-1];ko(o,n)})},or=(e,t)=>{R(t,n=>{Wt(e,n)})},ia=e=>{e.dom.textContent="",R(on(e),t=>{_t(t)})},_t=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},No=e=>{const t=on(e);t.length>0&&RA(e,t),_t(e)},PA=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,on(x.fromDom(s))},OA=e=>V(e,x.fromDom),eb=e=>e.dom.innerHTML,Tl=(e,t)=>{const s=zh(e).dom,o=x.fromDom(s.createDocumentFragment()),r=PA(t,s);or(o,r),ia(e),Wt(e,o)},DA=e=>{const t=x.fromTag("div"),n=x.fromDom(e.dom.cloneNode(!0));return Wt(t,n),eb(t)},BA=(e,t,n,s,o,r,i)=>({target:e,x:t,y:n,stop:s,prevent:o,kill:r,raw:i}),IA=e=>{const t=x.fromDom(Kh(e).getOr(e.target)),n=()=>e.stopPropagation(),s=()=>e.preventDefault(),o=Lt(s,n);return BA(t,e.clientX,e.clientY,n,s,o,e)},FA=(e,t)=>n=>{e(n)&&t(IA(n))},LA=(e,t,n,s,o)=>{const r=FA(n,s);return e.dom.addEventListener(t,r,o),{unbind:ie(MA,e,t,r,o)}},$A=(e,t,n,s)=>LA(e,t,n,s,!1),MA=(e,t,n,s)=>{e.dom.removeEventListener(t,n,s)},tb=(e,t)=>({left:e,top:t,translate:(s,o)=>tb(e+s,t+o)}),Xr=tb,UA=e=>{const t=e.getBoundingClientRect();return Xr(t.left,t.top)},Rl=(e,t)=>e!==void 0?e:t!==void 0?t:0,zA=e=>{const t=e.dom.ownerDocument,n=t.body,s=t.defaultView,o=t.documentElement;if(n===e.dom)return Xr(n.offsetLeft,n.offsetTop);const r=Rl(s==null?void 0:s.pageYOffset,o.scrollTop),i=Rl(s==null?void 0:s.pageXOffset,o.scrollLeft),a=Rl(o.clientTop,n.clientTop),c=Rl(o.clientLeft,n.clientLeft);return hf(e).translate(i-c,r-a)},hf=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?Xr(s.offsetLeft,s.offsetTop):Yr(e)?UA(t):Xr(0,0)},bf=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return Xr(n,s)},nb=(e,t,n)=>{const o=(n!==void 0?n.dom:document).defaultView;o&&o.scrollTo(e,t)},sb=(e,t)=>{tr().browser.isSafari()&&He(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},HA=e=>{const t=e===void 0?window:e;return tr().browser.isFirefox()?b.none():b.from(t.visualViewport)},ob=(e,t,n,s)=>({x:e,y:t,width:n,height:s,right:e+n,bottom:t+s}),rb=e=>{const t=e===void 0?window:e,n=t.document,s=bf(x.fromDom(n));return HA(t).fold(()=>{const o=t.document.documentElement,r=o.clientWidth,i=o.clientHeight;return ob(s.left,s.top,r,i)},o=>ob(Math.max(o.pageLeft,s.left),Math.max(o.pageTop,s.top),o.width,o.height))},rr=e=>t=>!!t&&t.nodeType===e,Pl=e=>!!e&&!Object.getPrototypeOf(e),fe=rr(1),vf=e=>{const t=e.toLowerCase();return n=>se(n)&&n.nodeName.toLowerCase()===t},ms=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const s=n.nodeName.toLowerCase();return z(t,s)}return!1}},Ol=(e,t)=>{const n=t.toLowerCase().split(" ");return s=>{if(fe(s)){const o=s.ownerDocument.defaultView;if(o)for(let r=0;r<n.length;r++){const i=o.getComputedStyle(s,null);if((i?i.getPropertyValue(e):null)===n[r])return!0}}return!1}},ib=e=>t=>fe(t)&&t.hasAttribute(e),WA=(e,t)=>n=>fe(n)&&n.getAttribute(e)===t,ir=e=>fe(e)&&e.hasAttribute("data-mce-bogus"),VA=e=>fe(e)&&e.getAttribute("data-mce-bogus")==="all",uo=e=>fe(e)&&e.tagName==="TABLE",ab=e=>t=>!!(fe(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Cf=ms(["textarea","input"]),X=rr(3),jA=rr(4),qA=rr(7),Ao=rr(8),aa=rr(9),yf=rr(11),Dt=vf("br"),lb=vf("img"),Us=ab("true"),yt=ab("false"),Dl=ms(["td","th"]),cb=ms(["td","th","caption"]),zs=ms(["video","audio","object","embed"]),KA=vf("li"),GA=tr().browser,ub=e=>Ce(e,ss),YA=e=>GA.isFirefox()&&xt(e)==="table"?ub(on(e)).filter(t=>xt(t)==="caption").bind(t=>ub(Wh(t)).map(n=>{const s=n.dom.offsetTop,o=t.dom.offsetTop,r=t.dom.offsetHeight;return s<=o?-r:0})).getOr(0):0,fb=(e,t)=>e.children&&z(e.children,t),XA=(e,t,n)=>{let s=0,o=0;const r=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Ms(x.fromDom(e),"position")==="static"){const a=t.getBoundingClientRect();return s=a.left+(r.documentElement.scrollLeft||e.scrollLeft)-r.documentElement.clientLeft,o=a.top+(r.documentElement.scrollTop||e.scrollTop)-r.documentElement.clientTop,{x:s,y:o}}let i=t;for(;i&&i!==n&&i.nodeType&&!fb(i,n);){const a=i;s+=a.offsetLeft||0,o+=a.offsetTop||0,i=a.offsetParent}for(i=t.parentNode;i&&i!==n&&i.nodeType&&!fb(i,n);)s-=i.scrollLeft||0,o-=i.scrollTop||0,i=i.parentNode;o+=YA(x.fromDom(t))}return{x:s,y:o}};var db=(e,t,n,s,o)=>e(n,s)?b.some(n):He(o)&&o(n)?b.none():t(n,s,o);const Qr=(e,t,n)=>{let s=e.dom;const o=He(n)?n:nt;for(;s.parentNode;){s=s.parentNode;const r=x.fromDom(s);if(t(r))return b.some(r);if(o(r))break}return b.none()},Zr=(e,t,n)=>db((o,r)=>r(o),Qr,e,t,n),QA=(e,t)=>{const n=e.dom;return n.parentNode?ZA(x.fromDom(n.parentNode),s=>!it(e,s)&&t(s)):b.none()},ZA=(e,t)=>{const n=o=>t(x.fromDom(o));return Ce(e.dom.childNodes,n).map(x.fromDom)},JA=(e,t)=>{const n=s=>{for(let o=0;o<s.childNodes.length;o++){const r=x.fromDom(s.childNodes[o]);if(t(r))return b.some(r);const i=n(s.childNodes[o]);if(i.isSome())return i}return b.none()};return n(e.dom)},la=(e,t,n)=>Qr(e,s=>ds(s,t),n),ca=(e,t)=>hA(t,e),ar=(e,t,n)=>db((o,r)=>ds(o,r),la,e,t,n),mb=(e,t={})=>{let n=0;const s={},o=x.fromDom(e),r=co(o),i=t.maxLoadTime||5e3,a=y=>{t.referrerPolicy=y},c=y=>{Wt(gf(o),y)},u=y=>{const S=gf(o);ca(S,"#"+y).each(_t)},d=y=>bt(s,y).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),g=y=>new Promise((S,w)=>{let k;const A=Q._addCacheSuffix(y),U=d(A);s[A]=U,U.count++;const H=(be,Te)=>{R(be,Zo),U.status=Te,U.passed=[],U.failed=[],k&&(k.onload=null,k.onerror=null,k=null)},ee=()=>H(U.passed,2),W=()=>H(U.failed,3),F=(be,Te)=>{be()||(Date.now()-me<i?setTimeout(Te):W())},L=()=>{F(()=>{const be=e.styleSheets;let Te=be.length;for(;Te--;){const qe=be[Te].ownerNode;if(qe&&k&&qe.id===k.id)return ee(),!0}return!1},L)};if(S&&U.passed.push(S),w&&U.failed.push(w),U.status===1)return;if(U.status===2){ee();return}if(U.status===3){W();return}U.status=1;const te=x.fromTag("link",r.dom);wo(te,{rel:"stylesheet",type:"text/css",id:U.id});const me=Date.now();t.contentCssCors&&Kt(te,"crossOrigin","anonymous"),t.referrerPolicy&&Kt(te,"referrerpolicy",t.referrerPolicy),k=te.dom,k.onload=L,k.onerror=W,c(te),Kt(te,"href",A)}),p=y=>Promise.allSettled(V(y,w=>g(w).then(K(w)))).then(w=>{const k=ue(w,A=>A.status==="fulfilled");return k.fail.length>0?Promise.reject(V(k.fail,A=>A.reason)):V(k.pass,A=>A.value)}),E=y=>{const S=Q._addCacheSuffix(y);bt(s,S).each(w=>{--w.count===0&&(delete s[S],u(w.id))})};return{load:g,loadAll:p,unload:E,unloadAll:y=>{R(y,S=>{E(S)})},_setReferrerPolicy:a}},pb=(()=>{const e=new WeakMap;return{forElement:(n,s)=>{const r=xo(n).dom;return b.from(e.get(r)).getOrThunk(()=>{const i=mb(r,s);return e.set(r,i),i})}}})();class $t{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,s,o){if(t){if(!o&&t[n])return t[n];if(t!==this.rootNode){let r=t[s];if(r)return r;for(let i=t.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(r=i[s],r)return r}}}findPreviousNode(t,n){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!n){for(let r=s.lastChild;r;r=r.lastChild)if(!r.lastChild)return r}return s}const o=t.parentNode;if(o&&o!==this.rootNode)return o}}}const eT=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],tT=["td","th"],nT=["thead","tbody","tfoot"],sT=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],oT=["h1","h2","h3","h4","h5","h6"],rT=["li","dd","dt"],iT=["ul","ol","dl"],aT=["pre","script","textarea","style"],lT=["pre"].concat(oT),To=e=>{let t;return n=>(t=t||Is(e,Et),$e(t,xt(n)))},ps=To(eT),cT=e=>xt(e)==="table",Ef=e=>ss(e)&&!ps(e),lr=e=>ss(e)&&xt(e)==="br",uT=To(sT),_f=To(iT),ua=To(rT),fT=To(nT),Bl=To(tT),Il=To(aT),dT=To(lT),mT=e=>dT(e)||Ef(e),gb=(e,t,n)=>la(e,t,n).isSome(),Jr="\uFEFF",Gt="\xA0",hb=e=>e===Jr,pT=e=>e.replace(/\uFEFF/g,""),bb=(e,t)=>{let n=[];return R(on(e),s=>{t(s)&&(n=n.concat([s])),n=n.concat(bb(s,t))}),n},vn=(e,t)=>gA(t,e),vb=((e,t)=>{const n=r=>{if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node");return s(r).getOr("")},s=r=>e(r)?b.from(r.dom.nodeValue):b.none();return{get:n,getOption:s,set:(r,i)=>{if(!e(r))throw new Error("Can only set raw "+t+" value of a "+t+" node");r.dom.nodeValue=i}}})(zn,"text"),Sf=e=>vb.get(e),Cb=e=>vb.getOption(e),gT=e=>{const t=[];let n=e.dom;for(;n;)t.push(x.fromDom(n)),n=n.lastChild;return t},hT=e=>{const t=vn(e,"br"),n=j(gT(e).slice(-1),lr);t.length===n.length&&R(n,_t)},wf=()=>{const e=x.fromTag("br");return Kt(e,"data-mce-bogus","1"),e},cr=e=>{ia(e),Wt(e,wf())},bT=e=>{mf(e).each(t=>{sr(t).each(n=>{ps(e)&&lr(t)&&ps(n)&&_t(t)})})},Jt=Jr,Fl=hb,fo=pT,vT=fe,ei=X,ti=e=>(ei(e)&&(e=e.parentNode),vT(e)&&e.hasAttribute("data-mce-caret")),ni=e=>ei(e)&&Fl(e.data),Vn=e=>ti(e)||ni(e),yb=e=>e.firstChild!==e.lastChild||!Dt(e.firstChild),CT=(e,t)=>{var n;const o=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Jt),r=e.parentNode;if(t){const i=e.previousSibling;if(ei(i)){if(Vn(i))return i;if($l(i))return i.splitText(i.data.length-1)}r==null||r.insertBefore(o,e)}else{const i=e.nextSibling;if(ei(i)){if(Vn(i))return i;if(Ll(i))return i.splitText(1),i}e.nextSibling?r==null||r.insertBefore(o,e.nextSibling):r==null||r.appendChild(o)}return o},xf=e=>{const t=e.container();return X(t)?t.data.charAt(e.offset())===Jt||e.isAtStart()&&ni(t.previousSibling):!1},kf=e=>{const t=e.container();return X(t)?t.data.charAt(e.offset()-1)===Jt||e.isAtEnd()&&ni(t.nextSibling):!1},yT=(e,t,n)=>{var s;const r=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(wf().dom);const i=t.parentNode;return n?i==null||i.insertBefore(r,t):t.nextSibling?i==null||i.insertBefore(r,t.nextSibling):i==null||i.appendChild(r),r},Ll=e=>ei(e)&&e.data[0]===Jt,$l=e=>ei(e)&&e.data[e.data.length-1]===Jt,ET=e=>{var t;const n=e.getElementsByTagName("br"),s=n[n.length-1];ir(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},Nf=e=>e&&e.hasAttribute("data-mce-caret")?(ET(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Eb=e=>ti(e.startContainer),_b=Us,_T=yt,ST=Dt,wT=X,xT=ms(["script","style","textarea"]),Sb=ms(["img","input","textarea","hr","iframe","video","audio","object","embed"]),kT=ms(["table"]),NT=Vn,rs=e=>NT(e)?!1:wT(e)?!xT(e.parentNode):Sb(e)||ST(e)||kT(e)||Af(e),AT=e=>fe(e)&&e.getAttribute("unselectable")==="true",Af=e=>!AT(e)&&_T(e),TT=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(Af(n))return!1;if(_b(n))return!0}return!0},RT=e=>Af(e)?!_e(wt(e.getElementsByTagName("*")),(t,n)=>t||_b(n),!1):!1,PT=e=>Sb(e)||RT(e),wb=(e,t)=>rs(e)&&TT(e,t),OT=/^[ \t\r\n]*$/,ur=e=>OT.test(e),DT=e=>" \f	\v".indexOf(e)!==-1,xb=e=>e===`
`||e==="\r",BT=(e,t)=>t<e.length&&t>=0?xb(e[t]):!1,kb=(e,t=4,n=!0,s=!0)=>{const o=zN(" ",t),r=e.replace(/\t/g,o);return _e(r,(a,c)=>DT(c)||c===Gt?a.pcIsSpace||a.str===""&&n||a.str.length===r.length-1&&s||BT(r,a.str.length+1)?{pcIsSpace:!1,str:a.str+Gt}:{pcIsSpace:!0,str:a.str+" "}:{pcIsSpace:xb(c),str:a.str+c},{pcIsSpace:!1,str:""}).str},IT=(e,t)=>{const n=x.fromDom(t),s=x.fromDom(e);return gb(s,"pre,code",ie(it,n))},FT=(e,t)=>X(e)&&ur(e.data)&&!IT(e,t),LT=e=>fe(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Ml=(e,t)=>rs(e)&&!FT(e,t)||LT(e)||$T(e),$T=ib("data-mce-bookmark"),MT=ib("data-mce-bogus"),UT=WA("data-mce-bogus","all"),zT=(e,t)=>{let n=0;if(Ml(e,e))return!1;{let s=e.firstChild;if(!s)return!0;const o=new $t(s,e);do{if(t){if(UT(s)){s=o.next(!0);continue}if(MT(s)){s=o.next();continue}}if(Dt(s)){n++,s=o.next();continue}if(Ml(s,e))return!1;s=o.next()}while(s);return n<=1}},Yt=(e,t=!0)=>zT(e.dom,t),HT=e=>e.nodeName.toLowerCase()==="span",Nb=(e,t)=>se(e)&&(Ml(e,t)||Ef(x.fromDom(e))),WT=(e,t)=>{const n=new $t(e,t).prev(!1),s=new $t(e,t).next(!1),o=lt(n)||Nb(n,t),r=lt(s)||Nb(s,t);return o&&r},Ab=e=>HT(e)&&e.getAttribute("data-mce-type")==="bookmark",VT=(e,t)=>X(e)&&e.data.length>0&&WT(e,t),jT=e=>fe(e)?e.childNodes.length>0:!1,qT=e=>yf(e)||aa(e),Tf=(e,t,n)=>{var s;const o=n||t;if(fe(t)&&Ab(t))return t;const r=t.childNodes;for(let i=r.length-1;i>=0;i--)Tf(e,r[i],o);if(fe(t)){const i=t.childNodes;i.length===1&&Ab(i[0])&&((s=t.parentNode)===null||s===void 0||s.insertBefore(i[0],t))}return!qT(t)&&!Ml(t,o)&&!jT(t)&&!VT(t,o)&&e.remove(t),t},KT=Q.makeMap,Ul=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zl=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,GT=/[<>&\"\']/g,YT=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,XT={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},fr={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},QT={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ZT=e=>{const t=x.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Tb=(e,t)=>{const n={};if(e){const s=e.split(",");t=t||10;for(let o=0;o<s.length;o+=2){const r=String.fromCharCode(parseInt(s[o],t));if(!fr[r]){const i="&"+s[o+1]+";";n[r]=i,n[i]=r}}return n}else return},Rf=Tb("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Rb=(e,t)=>e.replace(t?Ul:zl,n=>fr[n]||n),JT=e=>(""+e).replace(GT,t=>fr[t]||t),Pb=(e,t)=>e.replace(t?Ul:zl,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":fr[n]||"&#"+n.charCodeAt(0)+";"),Pf=(e,t,n)=>{const s=n||Rf;return e.replace(t?Ul:zl,o=>fr[o]||s[o]||o)},Ro={encodeRaw:Rb,encodeAllRaw:JT,encodeNumeric:Pb,encodeNamed:Pf,getEncodeFunc:(e,t)=>{const n=Tb(t)||Rf,s=(i,a)=>i.replace(a?Ul:zl,c=>fr[c]!==void 0?fr[c]:n[c]!==void 0?n[c]:c.length>1?"&#"+((c.charCodeAt(0)-55296)*1024+(c.charCodeAt(1)-56320)+65536)+";":"&#"+c.charCodeAt(0)+";"),o=(i,a)=>Pf(i,a,n),r=KT(e.replace(/\+/g,","));return r.named&&r.numeric?s:r.named?t?o:Pf:r.numeric?Pb:Rb},decode:e=>e.replace(YT,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):XT[n]||String.fromCharCode(n)):QT[t]||Rf[t]||ZT(t))},Hl={},Wl={},eR={},si=Q.makeMap,rn=Q.each,Of=Q.extend,Ob=Q.explode,tR=Q.inArray,en=(e,t)=>(e=Q.trim(e),e?e.split(t||" "):[]),Db=(e,t={})=>{const n=si(e," ",si(e.toUpperCase()," "));return Of(n,t)},Bb=e=>Db("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),nR=e=>{const t={};let n,s,o,r;const i=(c,u="",d="")=>{const g=en(d),p=en(c);let E=p.length;for(;E--;){const _=en([n,u].join(" "));t[p[E]]={attributes:Is(_,()=>({})),attributesOrder:_,children:Is(g,K(eR))}}},a=(c,u)=>{const d=en(c),g=en(u);let p=d.length;for(;p--;){const E=t[d[p]];for(let _=0,y=g.length;_<y;_++)E.attributes[g[_]]={},E.attributesOrder.push(g[_])}};if(Hl[e])return Hl[e];if(n="id accesskey class dir lang style tabindex title role",s="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",s+=" article aside details dialog figure main header footer hgroup section nav",o+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"){n+=" xml:lang";const c="acronym applet basefont big font strike tt";o=[o,c].join(" "),rn(en(c),d=>{i(d,"",o)});const u="center dir isindex noframes";s=[s,u].join(" "),r=[s,o].join(" "),rn(en(u),d=>{i(d,"",r)})}return r=r||[s,o].join(" "),i("html","manifest","head body"),i("head","","base command link meta noscript script style title"),i("title hr noscript br"),i("base","href target"),i("link","href rel media hreflang type sizes hreflang"),i("meta","name http-equiv content charset"),i("style","media type scoped"),i("script","src async defer type charset"),i("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),i("address dt dd div caption","",r),i("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),i("blockquote","cite",r),i("ol","reversed start type","li"),i("ul","","li"),i("li","value",r),i("dl","","dt dd"),i("a","href target rel media hreflang type",o),i("q","cite",o),i("ins del","cite datetime",r),i("img","src sizes srcset alt usemap ismap width height"),i("iframe","src name width height",r),i("embed","src type width height"),i("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),i("param","name value"),i("map","name",[r,"area"].join(" ")),i("area","alt coords shape href target rel media hreflang type"),i("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),i("colgroup","span","col"),i("col","span"),i("tbody thead tfoot","","tr"),i("tr","","td th"),i("td","colspan rowspan headers",r),i("th","colspan rowspan headers scope abbr",r),i("form","accept-charset action autocomplete enctype method name novalidate target",r),i("fieldset","disabled form name",[r,"legend"].join(" ")),i("label","form for",o),i("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),i("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),i("select","disabled form multiple name required size","option optgroup"),i("optgroup","disabled label","option"),i("option","disabled label selected value"),i("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),i("menu","type label",[r,"li"].join(" ")),i("noscript","",r),e!=="html4"&&(i("wbr"),i("ruby","",[o,"rt rp"].join(" ")),i("figcaption","",r),i("mark rt rp summary bdi","",o),i("canvas","width height",r),i("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),i("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),i("picture","","img source"),i("source","src srcset type media sizes"),i("track","kind src srclang label default"),i("datalist","",[o,"option"].join(" ")),i("article section nav aside main header footer","",r),i("hgroup","","h1 h2 h3 h4 h5 h6"),i("figure","",[r,"figcaption"].join(" ")),i("time","datetime",o),i("dialog","open",r),i("command","type label icon disabled checked radiogroup command"),i("output","for form name",o),i("progress","value max",o),i("meter","value min max low high optimum",o),i("details","open",[r,"summary"].join(" ")),i("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(a("script","language xml:space"),a("style","xml:space"),a("object","declare classid code codebase codetype archive standby align border hspace vspace"),a("embed","align name hspace vspace"),a("param","valuetype type"),a("a","charset name rev shape coords"),a("br","clear"),a("applet","codebase archive code object alt name width height align hspace vspace"),a("img","name longdesc align border hspace vspace"),a("iframe","longdesc frameborder marginwidth marginheight scrolling align"),a("font basefont","size color face"),a("input","usemap align"),a("select"),a("textarea"),a("h1 h2 h3 h4 h5 h6 div p legend caption","align"),a("ul","type compact"),a("li","type"),a("ol dl menu dir","compact"),a("pre","width xml:space"),a("hr","align noshade size width"),a("isindex","prompt"),a("table","summary width frame rules cellspacing cellpadding align bgcolor"),a("col","width align char charoff valign"),a("colgroup","width align char charoff valign"),a("thead","align char charoff valign"),a("tr","align char charoff valign bgcolor"),a("th","axis align char charoff valign nowrap bgcolor width height"),a("form","accept"),a("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),a("tfoot","align char charoff valign"),a("tbody","align char charoff valign"),a("area","nohref"),a("body","background bgcolor text link vlink alink")),e!=="html4"&&(a("input button select textarea","autofocus"),a("input textarea","placeholder"),a("a","download"),a("link script img","crossorigin"),a("img","loading"),a("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&R([t.video,t.audio],c=>{delete c.children.audio,delete c.children.video}),rn(en("a form meter progress dfn"),c=>{t[c]&&delete t[c].children[c]}),delete t.caption.children.table,delete t.script,Hl[e]=t,t},Df=(e,t)=>{if(e){const n={};return le(e)&&(e={"*":e}),rn(e,(s,o)=>{n[o]=n[o.toUpperCase()]=t==="map"?si(s,/[, ]/):Ob(s,/[, ]/)}),n}else return},Po=(e={})=>{var t;const n={},s={};let o=[];const r={},i={},a=(Se,Ne,Qe)=>{const et=e[Se];if(et)return si(et,/[, ]/,si(et.toUpperCase(),/[, ]/));{let Bt=Wl[Se];return Bt||(Bt=Db(Ne,Qe),Wl[Se]=Bt),Bt}},c=(t=e.schema)!==null&&t!==void 0?t:"html5",u=nR(c);e.verify_html===!1&&(e.valid_elements="*[*]");const d=Df(e.valid_styles),g=Df(e.invalid_styles,"map"),p=Df(e.valid_classes,"map"),E=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),_=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),y=a("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),S=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),w="td th iframe video audio object script code",k=a("non_empty_elements",w+" pre",y),A=a("move_caret_before_on_enter_elements",w+" table",y),U=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),H=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",U),ee=a("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");rn("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Se=>{i[Se]=new RegExp("</"+Se+"[^>]*>","gi")});const W=Se=>new RegExp("^"+Se.replace(/([?+*])/g,".$1")+"$"),F=Se=>{const Ne=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Qe=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,et=/[*?+]/;if(Se){const Bt=en(Se,",");let vt,mt;n["@"]&&(vt=n["@"].attributes,mt=n["@"].attributesOrder);for(let Pt=0,Qt=Bt.length;Pt<Qt;Pt++){let It=Ne.exec(Bt[Pt]);if(It){const Ss=It[1],Jn=It[2],ws=It[3],xs=It[5],ks={},Ns=[],Ft={attributes:ks,attributesOrder:Ns};if(Ss==="#"&&(Ft.paddEmpty=!0),Ss==="-"&&(Ft.removeEmpty=!0),It[4]==="!"&&(Ft.removeEmptyAttrs=!0),vt&&(dt(vt,(es,As)=>{ks[As]=es}),mt&&Ns.push(...mt)),xs){const es=en(xs,"|");for(let As=0,Br=es.length;As<Br;As++)if(It=Qe.exec(es[As]),It){const as={},In=It[1],un=It[2].replace(/[\\:]:/g,":"),ls=It[3],Fn=It[4];if(In==="!"&&(Ft.attributesRequired=Ft.attributesRequired||[],Ft.attributesRequired.push(un),as.required=!0),In==="-"){delete ks[un],Ns.splice(tR(Ns,un),1);continue}if(ls&&(ls==="="&&(Ft.attributesDefault=Ft.attributesDefault||[],Ft.attributesDefault.push({name:un,value:Fn}),as.defaultValue=Fn),ls==="~"&&(Ft.attributesForced=Ft.attributesForced||[],Ft.attributesForced.push({name:un,value:Fn}),as.forcedValue=Fn),ls==="<"&&(as.validValues=si(Fn,"?"))),et.test(un)){const Ir=as;Ft.attributePatterns=Ft.attributePatterns||[],Ir.pattern=W(un),Ft.attributePatterns.push(Ir)}else ks[un]||Ns.push(un),ks[un]=as}}if(!vt&&Jn==="@"&&(vt=ks,mt=Ns),ws&&(Ft.outputName=Jn,n[ws]=Ft),et.test(Jn)){const es=Ft;es.pattern=W(Jn),o.push(es)}else n[Jn]=Ft}}}},L=Se=>{o=[],R(Un(n),Ne=>{delete n[Ne]}),F(Se),rn(u,(Ne,Qe)=>{s[Qe]=Ne.children})},te=Se=>{const Ne=/^(~)?(.+)$/;Se&&(delete Wl.text_block_elements,delete Wl.block_elements,rn(en(Se,","),Qe=>{const et=Ne.exec(Qe);if(et){const Bt=et[1]==="~",vt=Bt?"span":"div",mt=et[2];if(s[mt]=s[vt],r[mt]=vt,k[mt.toUpperCase()]={},k[mt]={},Bt||(H[mt.toUpperCase()]={},H[mt]={}),!n[mt]){let Pt=n[vt];Pt=Of({},Pt),delete Pt.removeEmptyAttrs,delete Pt.removeEmpty,n[mt]=Pt}rn(s,(Pt,Qt)=>{Pt[vt]&&(s[Qt]=Pt=Of({},s[Qt]),Pt[mt]=Pt[vt])})}}))},me=Se=>{const Ne=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete Hl[c],Se&&rn(en(Se,","),Qe=>{const et=Ne.exec(Qe);if(et){const Bt=et[1];let vt;Bt?vt=s[et[2]]:vt=s[et[2]]={"#comment":{}},vt=s[et[2]],rn(en(et[3],"|"),mt=>{Bt==="-"?delete vt[mt]:vt[mt]={}})}})},be=Se=>{const Ne=n[Se];if(Ne)return Ne;let Qe=o.length;for(;Qe--;){const et=o[Qe];if(et.pattern.test(Se))return et}};e.valid_elements?L(e.valid_elements):(rn(u,(Se,Ne)=>{n[Ne]={attributes:Se.attributes,attributesOrder:Se.attributesOrder},s[Ne]=Se.children}),rn(en("strong/b em/i"),Se=>{const Ne=en(Se,"/");n[Ne[1]].outputName=Ne[0]}),rn(ee,(Se,Ne)=>{n[Ne]&&(e.padd_empty_block_inline_children&&(n[Ne].paddInEmptyBlock=!0),n[Ne].removeEmpty=!0)}),rn(en("ol ul blockquote a table tbody"),Se=>{n[Se]&&(n[Se].removeEmpty=!0)}),rn(en("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),Se=>{n[Se].paddEmpty=!0}),rn(en("span"),Se=>{n[Se].removeEmptyAttrs=!0})),te(e.custom_elements),me(e.valid_children),F(e.extended_valid_elements),me("+ol[ul|ol],+ul[ul|ol]"),rn({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Se,Ne)=>{n[Ne]&&(n[Ne].parentsRequired=en(Se))}),e.invalid_elements&&rn(Ob(e.invalid_elements),Se=>{n[Se]&&delete n[Se]}),be("span")||F("span[!data-mce-type|*]");const Te=K(d),ze=K(g),qe=K(p),st=K(S),Mt=K(H),Z=K(U),Re=K(ee),Oe=K(Object.seal(y)),ke=K(_),kt=K(k),ae=K(A),we=K(E),Ee=K(Object.seal(i)),ne=(Se,Ne)=>{const Qe=s[Se.toLowerCase()];return!!(Qe&&Qe[Ne.toLowerCase()])},Ie=(Se,Ne)=>{const Qe=be(Se);if(Qe)if(Ne){if(Qe.attributes[Ne])return!0;const et=Qe.attributePatterns;if(et){let Bt=et.length;for(;Bt--;)if(et[Bt].pattern.test(Ne))return!0}}else return!0;return!1},De=K(r);return{type:c,children:s,elements:n,getValidStyles:Te,getValidClasses:qe,getBlockElements:Mt,getInvalidStyles:ze,getVoidElements:Oe,getTextBlockElements:Z,getTextInlineElements:Re,getBoolAttrs:st,getElementRule:be,getSelfClosingElements:ke,getNonEmptyElements:kt,getMoveCaretBeforeOnEnterElements:ae,getWhitespaceElements:we,getSpecialElements:Ee,isValidChild:ne,isValid:Ie,getCustomElements:De,addValidElements:F,setValidElements:L,addCustomElements:te,addValidChildren:me}},Bf=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,r={};let i,a;const c=Jr;t&&(i=t.getValidStyles(),a=t.getInvalidStyles());const u=(`\\" \\' \\; \\: ; : `+c).split(" ");for(let g=0;g<u.length;g++)r[u[g]]=c+g,r[c+g]=u[g];const d={parse:g=>{const p={};let E=!1;const _=e.url_converter,y=e.url_converter_scope||d,S=(F,L,te)=>{const me=p[F+"-top"+L];if(!me)return;const be=p[F+"-right"+L];if(!be)return;const Te=p[F+"-bottom"+L];if(!Te)return;const ze=p[F+"-left"+L];if(!ze)return;const qe=[me,be,Te,ze];let st=qe.length-1;for(;st--&&qe[st]===qe[st+1];);st>-1&&te||(p[F+L]=st===-1?qe[0]:qe.join(" "),delete p[F+"-top"+L],delete p[F+"-right"+L],delete p[F+"-bottom"+L],delete p[F+"-left"+L])},w=F=>{const L=p[F];if(!L)return;const te=L.split(" ");let me=te.length;for(;me--;)if(te[me]!==te[0])return!1;return p[F]=te[0],!0},k=(F,L,te,me)=>{!w(L)||!w(te)||!w(me)||(p[F]=p[L]+" "+p[te]+" "+p[me],delete p[L],delete p[te],delete p[me])},A=F=>(E=!0,r[F]),U=(F,L)=>(E&&(F=F.replace(/\uFEFF[0-9]/g,te=>r[te])),L||(F=F.replace(/\\([\'\";:])/g,"$1")),F),H=F=>String.fromCharCode(parseInt(F.slice(1),16)),ee=F=>F.replace(/\\[0-9a-f]+/gi,H),W=(F,L,te,me,be,Te)=>{if(be=be||Te,be)return be=U(be),"'"+be.replace(/\'/g,"\\'")+"'";if(L=U(L||te||me||""),!e.allow_script_urls){const ze=L.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ze)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ze))return""}return _&&(L=_.call(y,L,"style")),"url('"+L.replace(/\'/g,"\\'")+"')"};if(g){g=g.replace(/[\u0000-\u001F]/g,""),g=g.replace(/\\[\"\';:\uFEFF]/g,A).replace(/\"[^\"]+\"|\'[^\']+\'/g,L=>L.replace(/[;:]/g,A));let F;for(;F=s.exec(g);){s.lastIndex=F.index+F[0].length;let L=F[1].replace(o,"").toLowerCase(),te=F[2].replace(o,"");if(L&&te){if(L=ee(L),te=ee(te),L.indexOf(c)!==-1||L.indexOf('"')!==-1||!e.allow_script_urls&&(L==="behavior"||/expression\s*\(|\/\*|\*\//.test(te)))continue;L==="font-weight"&&te==="700"?te="bold":(L==="color"||L==="background-color")&&(te=te.toLowerCase()),te=te.replace(n,W),p[L]=E?U(te,!0):te}}S("border","",!0),S("border","-width"),S("border","-color"),S("border","-style"),S("padding",""),S("margin",""),k("border","border-width","border-style","border-color"),p.border==="medium none"&&delete p.border,p["border-image"]==="none"&&delete p["border-image"]}return p},serialize:(g,p)=>{let E="";const _=(S,w)=>{const k=w[S];if(k)for(let A=0,U=k.length;A<U;A++){const H=k[A],ee=g[H];ee&&(E+=(E.length>0?" ":"")+H+": "+ee+";")}},y=(S,w)=>{if(!a||!w)return!0;let k=a["*"];return k&&k[S]?!1:(k=a[w],!(k&&k[S]))};return p&&i?(_("*",i),_(p,i)):dt(g,(S,w)=>{S&&y(w,p)&&(E+=(E.length>0?" ":"")+w+": "+S+";")}),E}};return d},sR={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},oR=e=>e instanceof Event||He(e.initEvent),rR=e=>e.isDefaultPrevented===Et||e.isDefaultPrevented===nt,iR=e=>Ve(e.preventDefault)||oR(e),Ib=(e,t)=>{const n=t!=null?t:{};for(const s in e)$e(sR,s)||(n[s]=e[s]);return se(e.composedPath)&&(n.composedPath=()=>e.composedPath()),n},If=(e,t,n,s)=>{var o;const r=Ib(t,s);return r.type=e,Ve(r.target)&&(r.target=(o=r.srcElement)!==null&&o!==void 0?o:n),iR(t)&&(r.preventDefault=()=>{r.defaultPrevented=!0,r.isDefaultPrevented=Et,He(t.preventDefault)&&t.preventDefault()},r.stopPropagation=()=>{r.cancelBubble=!0,r.isPropagationStopped=Et,He(t.stopPropagation)&&t.stopPropagation()},r.stopImmediatePropagation=()=>{r.isImmediatePropagationStopped=Et,r.stopPropagation()},rR(r)||(r.isDefaultPrevented=r.defaultPrevented===!0?Et:nt,r.isPropagationStopped=r.cancelBubble===!0?Et:nt,r.isImmediatePropagationStopped=nt)),r},aR="mce-data-",lR=/^(?:mouse|contextmenu)|click/,Ff=(e,t,n,s)=>{e.addEventListener(t,n,s||!1)},Vl=(e,t,n,s)=>{e.removeEventListener(t,n,s||!1)},cR=e=>se(e)&&lR.test(e.type),fa=(e,t)=>{const n=If(e.type,e,document,t);if(cR(e)&&lt(e.pageX)&&!lt(e.clientX)){const s=n.target.ownerDocument||document,o=s.documentElement,r=s.body,i=n;i.pageX=e.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),i.pageY=e.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)}return n},uR=(e,t,n)=>{const s=e.document,o={type:"ready"};if(n.domLoaded){t(o);return}const r=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,i=()=>{Vl(e,"DOMContentLoaded",i),Vl(e,"load",i),n.domLoaded||(n.domLoaded=!0,t(o)),e=null};r()?i():Ff(e,"DOMContentLoaded",i),n.domLoaded||Ff(e,"load",i)};class dr{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=aR+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,s,o){const r=this;let i;const a=window,c=p=>{r.executeHandlers(fa(p||a.event),u)};if(!t||X(t)||Ao(t))return s;let u;t[r.expando]?u=t[r.expando]:(u=r.count++,t[r.expando]=u,r.events[u]={}),o=o||t;const d=n.split(" ");let g=d.length;for(;g--;){let p=d[g],E=c,_=!1,y=!1;if(p==="DOMContentLoaded"&&(p="ready"),r.domLoaded&&p==="ready"&&t.readyState==="complete"){s.call(o,fa({type:p}));continue}!r.hasFocusIn&&(p==="focusin"||p==="focusout")&&(_=!0,y=p==="focusin"?"focus":"blur",E=S=>{const w=fa(S||a.event);w.type=w.type==="focus"?"focusin":"focusout",r.executeHandlers(w,u)}),i=r.events[u][p],i?p==="ready"&&r.domLoaded?s(fa({type:p})):i.push({func:s,scope:o}):(r.events[u][p]=i=[{func:s,scope:o}],i.fakeName=y,i.capture=_,i.nativeHandler=E,p==="ready"?uR(t,E,r):Ff(t,y||p,E,_))}return t=i=null,s}unbind(t,n,s){if(!t||X(t)||Ao(t))return this;const o=t[this.expando];if(o){let r=this.events[o];if(n){const i=n.split(" ");let a=i.length;for(;a--;){const c=i[a],u=r[c];if(u){if(s){let d=u.length;for(;d--;)if(u[d].func===s){const g=u.nativeHandler,p=u.fakeName,E=u.capture,_=u.slice(0,d).concat(u.slice(d+1));_.nativeHandler=g,_.fakeName=p,_.capture=E,r[c]=_}}(!s||u.length===0)&&(delete r[c],Vl(t,u.fakeName||c,u.nativeHandler,u.capture))}}}else dt(r,(i,a)=>{Vl(t,i.fakeName||a,i.nativeHandler,i.capture)}),r={};for(const i in r)if($e(r,i))return this;delete this.events[o];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,s){return this.dispatch(t,n,s)}dispatch(t,n,s){if(!t||X(t)||Ao(t))return this;const o=fa({type:n,target:t},s);do{const r=t[this.expando];r&&this.executeHandlers(o,r),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!o.isPropagationStopped());return this}clean(t){if(!t||X(t)||Ao(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let s=n.length;for(;s--;)t=n[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const s=this.events[n],o=s&&s[t.type];if(o)for(let r=0,i=o.length;r<i;r++){const a=o[r];if(a&&a.func.call(a.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}dr.Event=new dr;const Lf=Q.each,fR=Q.grep,$f="data-mce-style",dR=Q.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),da=(e,t,n)=>{Ve(n)||n===""?sn(e,t):Kt(e,t,n)},Fb=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),oi=(e,t)=>{let n=0;if(e)for(let s=e.nodeType,o=e.previousSibling;o;o=o.previousSibling){const r=o.nodeType;t&&X(o)&&(r===s||!o.data.length)||(n++,s=r)}return n},Lb=(e,t)=>{const n=os(t,"style"),s=e.serialize(e.parse(n),xt(t));da(t,$f,s)},mR=(e,t)=>zt(e)?$e(dR,t)?e+"":e+"px":e,$b=(e,t,n)=>{const s=Fb(t);Ve(n)||n===""?Zh(e,s):Yh(e,s,mR(n,s))},pR=(e,t,n)=>{const s=t.keep_values,o={set:(i,a,c)=>{const u=x.fromDom(i);He(t.url_converter)&&se(a)&&(a=t.url_converter.call(t.url_converter_scope||n(),String(a),c,i));const d="data-mce-"+c;da(u,d,a),da(u,c,a)},get:(i,a)=>{const c=x.fromDom(i);return os(c,"data-mce-"+a)||os(c,a)}},r={style:{set:(i,a)=>{const c=x.fromDom(i);s&&da(c,$f,a),sn(c,"style"),le(a)&&Nl(c,e.parse(a))},get:i=>{const a=x.fromDom(i),c=os(a,$f)||os(a,"style");return e.serialize(e.parse(c),xt(a))}}};return s&&(r.href=r.src=o),r},ft=(e,t={})=>{const n={},s=window,o={};let r=0;const i=!0,a=!0,c=pb.forElement(x.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),u=[],d=t.schema?t.schema:Po({}),g=Bf({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),p=t.ownEvents?new dr:dr.Event,E=d.getBlockElements(),_=O=>le(O)?$e(E,O):fe(O)&&$e(E,O.nodeName),y=O=>O&&e&&le(O)?e.getElementById(O):O,S=O=>{const D=y(O);return se(D)?x.fromDom(D):null},w=(O,D,G="")=>{let q;const he=S(O);if(se(he)&&ss(he)){const We=Fr[D];We&&We.get?q=We.get(he.dom,D):q=os(he,D)}return se(q)?q:G},k=O=>{const D=y(O);return Ve(D)?[]:D.attributes},A=(O,D,G)=>{ke(O,q=>{if(fe(q)){const he=x.fromDom(q),We=G===""?null:G,pt=os(he,D),gt=Fr[D];gt&&gt.set?gt.set(he.dom,We,D):da(he,D,We),pt!==We&&t.onSetAttrib&&t.onSetAttrib({attrElm:he.dom,attrName:D,attrValue:We})}})},U=(O,D)=>O.cloneNode(D),H=()=>t.root_element||e.body,ee=O=>{const D=rb(O);return{x:D.x,y:D.y,w:D.width,h:D.height}},W=(O,D)=>XA(e.body,y(O),D),F=(O,D,G)=>{ke(O,q=>{const he=x.fromDom(q);$b(he,D,G),t.update_styles&&Lb(g,he)})},L=(O,D)=>{ke(O,G=>{const q=x.fromDom(G);dt(D,(he,We)=>{$b(q,We,he)}),t.update_styles&&Lb(g,q)})},te=(O,D,G)=>{const q=y(O);if(!(Ve(q)||!fe(q)))return G?Ms(x.fromDom(q),Fb(D)):(D=D.replace(/-(\D)/g,(he,We)=>We.toUpperCase()),D==="float"&&(D="cssFloat"),q.style?q.style[D]:void 0)},me=O=>{const D=y(O);if(!D)return{w:0,h:0};let G=te(D,"width"),q=te(D,"height");return(!G||G.indexOf("px")===-1)&&(G="0"),(!q||q.indexOf("px")===-1)&&(q="0"),{w:parseInt(G,10)||D.offsetWidth||D.clientWidth,h:parseInt(q,10)||D.offsetHeight||D.clientHeight}},be=O=>{const D=y(O),G=W(D),q=me(D);return{x:G.x,y:G.y,w:q.w,h:q.h}},Te=(O,D)=>{if(!O)return!1;const G=Ct(O)?O:[O];return Y(G,q=>ds(x.fromDom(q),D))},ze=(O,D,G,q)=>{const he=[];let We=y(O);q=q===void 0;const pt=G||(H().nodeName!=="BODY"?H().parentNode:null);if(le(D))if(D==="*")D=fe;else{const gt=D;D=Ln=>Te(Ln,gt)}for(;We&&!(We===pt||Ve(We.nodeType)||aa(We)||yf(We));){if(!D||D(We))if(q)he.push(We);else return[We];We=We.parentNode}return q?he:null},qe=(O,D,G)=>{const q=ze(O,D,G,!1);return q&&q.length>0?q[0]:null},st=(O,D,G)=>{let q=D;if(O){le(D)&&(q=he=>Te(he,D));for(let he=O[G];he;he=he[G])if(He(q)&&q(he))return he}return null},Mt=(O,D)=>st(O,D,"nextSibling"),Z=(O,D)=>st(O,D,"previousSibling"),Re=O=>He(O.querySelectorAll),Oe=(O,D)=>{var G,q;const he=(q=(G=y(D))!==null&&G!==void 0?G:t.root_element)!==null&&q!==void 0?q:e;return Re(he)?wt(he.querySelectorAll(O)):[]},ke=function(O,D,G){const q=G!=null?G:this;if(Ct(O)){const he=[];return Lf(O,(We,pt)=>{const gt=y(We);gt&&he.push(D.call(q,gt,pt))}),he}else{const he=y(O);return he?D.call(q,he):!1}},kt=(O,D)=>{ke(O,G=>{dt(D,(q,he)=>{A(G,he,q)})})},ae=(O,D)=>{ke(O,G=>{const q=x.fromDom(G);Tl(q,D)})},we=(O,D,G,q,he)=>ke(O,We=>{const pt=le(D)?e.createElement(D):D;return se(G)&&kt(pt,G),q&&(!le(q)&&q.nodeType?pt.appendChild(q):le(q)&&ae(pt,q)),he?pt:We.appendChild(pt)}),Ee=(O,D,G)=>we(e.createElement(O),O,D,G,!0),ne=Ro.decode,Ie=Ro.encodeAllRaw,De=(O,D,G="")=>{let q="<"+O;for(const he in D)qr(D,he)&&(q+=" "+he+'="'+Ie(D[he])+'"');return Qi(G)&&$e(d.getVoidElements(),O)?q+" />":q+">"+G+"</"+O+">"},Se=O=>{const D=e.createElement("div"),G=e.createDocumentFragment();G.appendChild(D),O&&(D.innerHTML=O);let q;for(;q=D.firstChild;)G.appendChild(q);return G.removeChild(D),G},Ne=(O,D)=>ke(O,G=>{const q=x.fromDom(G);return D&&R(on(q),he=>{zn(he)&&he.dom.length===0?_t(he):Wn(q,he)}),_t(q),q.dom}),Qe=O=>ke(O,D=>{const G=D.attributes;for(let q=G.length-1;q>=0;q--)D.removeAttributeNode(G.item(q))}),et=O=>g.parse(O),Bt=(O,D)=>g.serialize(O,D),vt=O=>{if(jo!==ft.DOM&&e===document){if(n[O])return;n[O]=!0}let D=e.getElementById("mceDefaultStyles");if(!D){D=e.createElement("style"),D.id="mceDefaultStyles",D.type="text/css";const G=e.head;G.firstChild?G.insertBefore(D,G.firstChild):G.appendChild(D)}D.styleSheet?D.styleSheet.cssText+=O:D.appendChild(e.createTextNode(O))},mt=O=>{O||(O=""),R(O.split(","),D=>{o[D]=!0,c.load(D).catch(Me)})},Pt=(O,D,G)=>{ke(O,q=>{if(fe(q)){const he=x.fromDom(q),We=D.split(" ");R(We,pt=>{se(G)?(G?ta:xl)(he,pt):fA(he,pt)})}})},Qt=(O,D)=>{Pt(O,D,!0)},It=(O,D)=>{Pt(O,D,!1)},Ss=(O,D)=>{const G=S(O),q=D.split(" ");return se(G)&&rt(q,he=>df(G,he))},Jn=O=>{ke(O,D=>Zh(x.fromDom(D),"display"))},ws=O=>{ke(O,D=>Yh(x.fromDom(D),"display","none"))},xs=O=>{const D=S(O);return se(D)&&Gr(Al(D,"display"),"none")},ks=O=>(O||"mce_")+r++,Ns=O=>{const D=S(O);return se(D)?fe(D.dom)?D.dom.outerHTML:DA(D):""},Ft=(O,D)=>{ke(O,G=>{fe(G)&&(G.outerHTML=D)})},es=(O,D)=>{const G=y(D);return ke(O,q=>{const he=G==null?void 0:G.parentNode,We=G==null?void 0:G.nextSibling;return he&&(We?he.insertBefore(q,We):he.appendChild(q)),q})},As=(O,D,G)=>ke(D,q=>{var he;const We=Ct(D)?O.cloneNode(!0):O;return G&&Lf(fR(q.childNodes),pt=>{We.appendChild(pt)}),(he=q.parentNode)===null||he===void 0||he.replaceChild(We,q),q}),Br=(O,D)=>{if(O.nodeName!==D.toUpperCase()){const G=Ee(D);return Lf(k(O),q=>{A(G,q.nodeName,w(O,q.nodeName))}),As(G,O,!0),G}else return O},as=(O,D)=>{let G=O;for(;G;){let q=D;for(;q&&G!==q;)q=q.parentNode;if(G===q)break;G=G.parentNode}return!G&&O.ownerDocument?O.ownerDocument.documentElement:G},In=O=>{if(fe(O)){const D=O.nodeName.toLowerCase()==="a"&&!w(O,"href")&&w(O,"id");if(w(O,"name")||w(O,"data-mce-bookmark")||D)return!0}return!1},un=(O,D)=>{let G=0;if(In(O))return!1;const q=O.firstChild;if(q){const he=new $t(q,O),We=d?d.getWhitespaceElements():{},pt=D||(d?d.getNonEmptyElements():null);let gt=q;do{if(fe(gt)){const Ln=gt.getAttribute("data-mce-bogus");if(Ln){gt=he.next(Ln==="all");continue}const ll=gt.nodeName.toLowerCase();if(pt&&pt[ll]){if(ll==="br"){G++,gt=he.next();continue}return!1}if(In(gt))return!1}if(Ao(gt)||X(gt)&&!ur(gt.data)||X(gt)&&gt.parentNode&&We[gt.parentNode.nodeName]&&ur(gt.data))return!1;gt=he.next()}while(gt)}return G<=1},ls=()=>e.createRange(),Fn=(O,D,G)=>{let q=ls(),he,We;if(O&&D&&O.parentNode&&D.parentNode){const pt=O.parentNode;return q.setStart(pt,oi(O)),q.setEnd(D.parentNode,oi(D)),he=q.extractContents(),q=ls(),q.setStart(D.parentNode,oi(D)+1),q.setEnd(pt,oi(O)+1),We=q.extractContents(),pt.insertBefore(Tf(jo,he),O),G?pt.insertBefore(G,O):pt.insertBefore(D,O),pt.insertBefore(Tf(jo,We),O),Ne(O),G||D}else return},Ir=(O,D,G,q)=>{if(Ct(O)){let he=O.length;const We=[];for(;he--;)We[he]=Ir(O[he],D,G,q);return We}else return t.collect&&(O===e||O===s)&&u.push([O,D,G,q]),p.bind(O,D,G,q||jo)},xu=(O,D,G)=>{if(Ct(O)){let q=O.length;const he=[];for(;q--;)he[q]=xu(O[q],D,G);return he}else{if(u.length>0&&(O===e||O===s)){let q=u.length;for(;q--;){const[he,We,pt]=u[q];O===he&&(!D||D===We)&&(!G||G===pt)&&p.unbind(he,We,pt)}}return p.unbind(O,D,G)}},vo=(O,D,G)=>p.dispatch(O,D,G),Vo=(O,D,G)=>p.dispatch(O,D,G),ku=O=>{if(O&&fe(O)){const D=O.getAttribute("data-mce-contenteditable");return D&&D!=="inherit"?D:O.contentEditable!=="inherit"?O.contentEditable:null}else return null},jo={doc:e,settings:t,win:s,files:o,stdMode:i,boxModel:a,styleSheetLoader:c,boundEvents:u,styles:g,schema:d,events:p,isBlock:_,root:null,clone:U,getRoot:H,getViewPort:ee,getRect:be,getSize:me,getParent:qe,getParents:ze,get:y,getNext:Mt,getPrev:Z,select:Oe,is:Te,add:we,create:Ee,createHTML:De,createFragment:Se,remove:Ne,setStyle:F,getStyle:te,setStyles:L,removeAllAttribs:Qe,setAttrib:A,setAttribs:kt,getAttrib:w,getPos:W,parseStyle:et,serializeStyle:Bt,addStyle:vt,loadCSS:mt,addClass:Qt,removeClass:It,hasClass:Ss,toggleClass:Pt,show:Jn,hide:ws,isHidden:xs,uniqueId:ks,setHTML:ae,getOuterHTML:Ns,setOuterHTML:Ft,decode:ne,encode:Ie,insertAfter:es,replace:As,rename:Br,findCommonAncestor:as,run:ke,getAttribs:k,isEmpty:un,createRng:ls,nodeIndex:oi,split:Fn,bind:Ir,unbind:xu,fire:Vo,dispatch:vo,getContentEditable:ku,getContentEditableParent:O=>{const D=H();let G=null;for(let q=O;q&&q!==D&&(G=ku(q),G===null);q=q.parentNode);return G},destroy:()=>{if(u.length>0){let O=u.length;for(;O--;){const[D,G,q]=u[O];p.unbind(D,G,q)}}dt(o,(O,D)=>{c.unload(D),delete o[D]})},isChildOf:(O,D)=>O===D||D.contains(O),dumpRng:O=>"startContainer: "+O.startContainer.nodeName+", startOffset: "+O.startOffset+", endContainer: "+O.endContainer.nodeName+", endOffset: "+O.endOffset},Fr=pR(g,t,K(jo));return jo};ft.DOM=ft(document),ft.nodeIndex=oi;const gR=ft.DOM,hR=0,bR=1,jl=2,Mb=3;class mo{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,s)=>{const o=gR;let r;const i=()=>{o.remove(u),r&&(r.onerror=r.onload=r=null)},a=()=>{i(),n()},c=()=>{i(),s("Failed to load script: "+t)},u=o.uniqueId();r=document.createElement("script"),r.id=u,r.type="text/javascript",r.src=Q._addCacheSuffix(t),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=a,r.onerror=c,(document.getElementsByTagName("head")[0]||document.body).appendChild(r)})}isDone(t){return this.states[t]===jl}markDone(t){this.states[t]=jl}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=hR),new Promise((o,r)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:o,reject:r})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,s=(c,u)=>{bt(n.scriptLoadedCallbacks,u).each(d=>{R(d,g=>g[c](u))}),delete n.scriptLoadedCallbacks[u]},o=c=>{const u=j(c,d=>d.status==="rejected");return u.length>0?Promise.reject(ot(u,({reason:d})=>Ct(d)?d:[d])):Promise.resolve()},r=c=>Promise.allSettled(V(c,u=>n.states[u]===jl?(s("resolve",u),Promise.resolve()):n.states[u]===Mb?(s("reject",u),Promise.reject(u)):(n.states[u]=bR,n.loadScript(u).then(()=>{n.states[u]=jl,s("resolve",u);const d=n.queue;return d.length>0?(n.queue=[],r(d).then(o)):Promise.resolve()},()=>(n.states[u]=Mb,s("reject",u),Promise.reject(u)))))),i=c=>(n.loading=!0,r(c).then(u=>{n.loading=!1;const d=n.queueLoadedCallbacks.shift();return b.from(d).each(Zo),o(u)})),a=Jg(t);return n.loading?new Promise((c,u)=>{n.queueLoadedCallbacks.push(()=>i(a).then(c,u))}):i(a)}}mo.ScriptLoader=new mo;const Vt=e=>{let t=e;return{get:()=>t,set:o=>{t=o}}},vR=e=>tt(e)&&$e(e,"raw"),CR=e=>Ct(e)&&e.length>1,ma={},Mf=Vt("en"),Ub=()=>bt(ma,Mf.get()),gs={getData:()=>Cl(ma,e=>({...e})),setCode:e=>{e&&Mf.set(e)},getCode:()=>Mf.get(),add:(e,t)=>{let n=ma[e];n||(ma[e]=n={}),dt(t,(s,o)=>{n[o.toLowerCase()]=s})},translate:e=>{const t=Ub().getOr({}),n=i=>He(i)?Object.prototype.toString.call(i):s(i)?"":""+i,s=i=>i===""||i===null||i===void 0,o=i=>{const a=n(i);return bt(t,a.toLowerCase()).map(n).getOr(a)},r=i=>i.replace(/{context:\w+}$/,"");if(s(e))return"";if(vR(e))return n(e.raw);if(CR(e)){const i=e.slice(1),a=o(e[0]).replace(/\{([0-9]+)\}/g,(c,u)=>$e(i,u)?n(i[u]):c);return r(a)}return r(o(e))},isRtl:()=>Ub().bind(e=>bt(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>$e(ma,e)},ln=()=>{const e=[],t={},n={},s=[],o=(y,S)=>{const w=j(s,k=>k.name===y&&k.state===S);R(w,k=>k.resolve())},r=y=>$e(t,y),i=y=>$e(n,y),a=y=>{if(n[y])return n[y].instance},c=(y,S)=>{const w=gs.getCode(),k=","+(S||"")+",";!w||S&&k.indexOf(","+w+",")===-1||mo.ScriptLoader.add(t[y]+"/langs/"+w+".js")},u=(y,S)=>{ln.languageLoad!==!1&&(r(y)?c(y,S):_(y,"loaded").then(()=>c(y,S)))},d=(y,S)=>(e.push(S),n[y]={instance:S},o(y,"added"),S),g=y=>{delete t[y],delete n[y]},p=(y,S)=>le(S)?le(y)?{prefix:"",resource:S,suffix:""}:{prefix:y.prefix,resource:S,suffix:y.suffix}:S,E=(y,S)=>{if(t[y])return Promise.resolve();let w=le(S)?S:S.prefix+S.resource+S.suffix;w.indexOf("/")!==0&&w.indexOf("://")===-1&&(w=ln.baseURL+"/"+w),t[y]=w.substring(0,w.lastIndexOf("/"));const k=()=>(o(y,"loaded"),Promise.resolve());return n[y]?k():mo.ScriptLoader.add(w).then(k)},_=(y,S="added")=>S==="added"&&i(y)||S==="loaded"&&r(y)?Promise.resolve():new Promise(w=>{s.push({name:y,state:S,resolve:w})});return{items:e,urls:t,lookup:n,get:a,requireLangPack:u,add:d,remove:g,createUrl:p,load:E,waitFor:_}};ln.languageLoad=!0,ln.baseURL="",ln.PluginManager=ln(),ln.ThemeManager=ln(),ln.ModelManager=ln();const yR=e=>{const t=Vt(b.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(b.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:a=>{n(),t.set(b.some(a))}}},ER=e=>{const t=Vt(b.none()),n=()=>t.get().each(a=>clearInterval(a));return{clear:()=>{n(),t.set(b.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:a=>{n(),t.set(b.some(setInterval(a,e)))}}},Oo=()=>{const e=yR(Me);return{...e,on:n=>e.get().each(n)}},ql=(e,t)=>{let n=null;return{cancel:()=>{hn(n)||(clearTimeout(n),n=null)},throttle:(...r)=>{hn(n)&&(n=setTimeout(()=>{n=null,e.apply(null,r)},t))}}},Uf=(e,t)=>{let n=null;const s=()=>{hn(n)||(clearTimeout(n),n=null)};return{cancel:s,throttle:(...r)=>{s(),n=setTimeout(()=>{n=null,e.apply(null,r)},t)}}},pa=K("mce-annotation"),mr=K("data-mce-annotation"),ri=K("data-mce-annotation-uid"),ga=K("data-mce-annotation-active"),ha=K("data-mce-annotation-classes"),ba=K("data-mce-annotation-attrs"),zb=e=>t=>it(t,e),Hb=(e,t)=>{const n=e.selection.getRng(),s=x.fromDom(n.startContainer),o=x.fromDom(e.getBody()),r=t.fold(()=>"."+pa(),c=>`[${mr()}="${c}"]`),i=kl(s,n.startOffset).getOr(s);return ar(i,r,zb(o)).bind(c=>ao(c,`${ri()}`).bind(u=>ao(c,`${mr()}`).map(d=>{const g=Vb(e,u);return{uid:u,name:d,elements:g}})))},_R=e=>ss(e)&&df(e,pa()),Wb=(e,t)=>wl(e,"data-mce-bogus")||gb(e,'[data-mce-bogus="all"]',zb(t)),Vb=(e,t)=>{const n=x.fromDom(e.getBody()),s=vn(n,`[${ri()}="${t}"]`);return j(s,o=>!Wb(o,n))},jb=(e,t)=>{const n=x.fromDom(e.getBody()),s=vn(n,`[${mr()}="${t}"]`),o={};return R(s,r=>{if(!Wb(r,n)){const i=os(r,ri()),a=bt(o,i).getOr([]);o[i]=a.concat([r])}}),o},SR=(e,t)=>{const n=Vt({}),s=()=>({listeners:[],previous:Oo()}),o=(g,p)=>{r(g,E=>(p(E),E))},r=(g,p)=>{const E=n.get(),_=bt(E,g).getOrThunk(s),y=p(_);E[g]=y,n.set(E)},i=(g,p,E)=>{o(g,_=>{R(_.listeners,y=>y(!0,g,{uid:p,nodes:V(E,S=>S.dom)}))})},a=g=>{o(g,p=>{R(p.listeners,E=>E(!1,g))})},c=(g,p)=>{R(Vb(e,g),E=>{p?Kt(E,ga(),"true"):sn(E,ga())})},u=Uf(()=>{const g=So(t.getNames());R(g,p=>{r(p,E=>{const _=E.previous.get();return Hb(e,b.some(p)).fold(()=>{_.each(y=>{a(p),E.previous.clear(),c(y,!1)})},({uid:y,name:S,elements:w})=>{Gr(_,y)||(_.each(k=>c(k,!1)),i(S,y,w),E.previous.set(y),c(y,!0))}),{previous:E.previous,listeners:E.listeners}})})},30);return e.on("remove",()=>{u.cancel()}),e.on("NodeChange",()=>{u.throttle()}),{addListener:(g,p)=>{r(g,E=>({previous:E.previous,listeners:E.listeners.concat([p])}))}}},wR=(e,t)=>{const n=mr(),s=r=>b.from(r.attr(n)).bind(t.lookup),o=r=>{var i,a;r.attr(ri(),null),r.attr(mr(),null),r.attr(ga(),null);const c=b.from(r.attr(ba())).map(p=>p.split(",")).getOr([]),u=b.from(r.attr(ha())).map(p=>p.split(",")).getOr([]);R(c,p=>r.attr(p,null));const d=(a=(i=r.attr("class"))===null||i===void 0?void 0:i.split(" "))!==null&&a!==void 0?a:[],g=Nn(d,[pa()].concat(u));r.attr("class",g.length>0?g.join(" "):null),r.attr(ha(),null),r.attr(ba(),null)};e.serializer.addTempAttr(ga()),e.serializer.addAttributeFilter(n,r=>{for(const i of r)s(i).each(a=>{a.persistent===!1&&(i.name==="span"?i.unwrap():o(i))})})},xR=()=>{const e={};return{register:(o,r)=>{e[o]={name:o,settings:r}},lookup:o=>bt(e,o).map(r=>r.settings),getNames:()=>Un(e)}};let qb=0;const Kb=e=>{const n=new Date().getTime(),s=Math.floor(Math.random()*1e9);return qb++,e+"_"+s+qb+String(n)},kR=(e,t)=>{R(t,n=>{ta(e,n)})},NR=(e,t)=>{R(t,n=>{xl(e,n)})},Gb=(e,t)=>x.fromDom(e.dom.cloneNode(t)),ii=e=>Gb(e,!1),Yb=e=>Gb(e,!0),AR=(e,t)=>{const n=x.fromTag(t),s=Bh(e);return wo(n,s),n},TR=(e,t)=>{const n=AR(e,t);ko(e,n);const s=on(e);return or(n,s),_t(e),n},Xb=(e,t,n=nt)=>{const s=new $t(e,t),o=r=>{let i;do i=s[r]();while(i&&!X(i)&&!n(i));return b.from(i).filter(X)};return{current:()=>b.from(s.current()).filter(X),next:()=>o("next"),prev:()=>o("prev"),prev2:()=>o("prev2")}},pr=(e,t)=>{const n=t||(i=>e.isBlock(i)||Dt(i)||yt(i)),s=(i,a,c,u)=>{if(X(i)){const d=u(i,a,i.data);if(d!==-1)return b.some({container:i,offset:d})}return c().bind(d=>s(d.container,d.offset,c,u))};return{backwards:(i,a,c,u)=>{const d=Xb(i,u!=null?u:e.getRoot(),n);return s(i,a,()=>d.prev().map(g=>({container:g,offset:g.length})),c).getOrNull()},forwards:(i,a,c,u)=>{const d=Xb(i,u!=null?u:e.getRoot(),n);return s(i,a,()=>d.next().map(g=>({container:g,offset:0})),c).getOrNull()}}},ai=Math.round,gr=e=>e?{left:ai(e.left),top:ai(e.top),bottom:ai(e.bottom),right:ai(e.right),width:ai(e.width),height:ai(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Qb=(e,t)=>(e=gr(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),RR=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,Zb=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,va=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:Zb(t.top-e.bottom,e,t)},Ca=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:Zb(t.bottom-e.top,e,t),PR=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,OR=e=>_e(e,(t,n)=>t.fold(()=>b.some(n),s=>{const o=Math.min(n.left,s.left),r=Math.min(n.top,s.top),i=Math.max(n.right,s.right),a=Math.max(n.bottom,s.bottom);return b.some({top:r,right:i,bottom:a,left:o,width:i-o,height:a-r})}),b.none()),Jb=(e,t,n)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),o=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(n-o)*(n-o))},DR=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),BR=(e,t,n)=>Math.min(Math.max(e,t),n),Kl=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Do=(e,t)=>{if(fe(e)&&e.hasChildNodes()){const n=e.childNodes,s=BR(t,0,n.length-1);return n[s]}else return e},IR=(e,t)=>{if(!(t<0&&fe(e)&&e.hasChildNodes()))return Do(e,t)},FR=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),ev=e=>le(e)&&e.charCodeAt(0)>=768&&FR.test(e),LR=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},$R=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},tv=fe,MR=rs,nv=Ol("display","block table"),UR=Ol("float","left right"),ya=$R(tv,MR,On(UR)),zR=On(Ol("white-space","pre pre-line pre-wrap")),Ea=X,zf=Dt,sv=ft.nodeIndex,Gl=IR,Hf=e=>e?e.createRange():ft.DOM.createRng(),Wf=e=>le(e)&&/[\r\n\t ]/.test(e),ov=e=>!!e.setStart&&!!e.setEnd,Vf=e=>{const t=e.startContainer,n=e.startOffset;if(Wf(e.toString())&&zR(t.parentNode)&&X(t)){const s=t.data;if(Wf(s[n-1])||Wf(s[n+1]))return!0}return!1},HR=e=>{const t=e.ownerDocument,n=Hf(t),s=t.createTextNode(Gt),o=e.parentNode;o.insertBefore(s,e),n.setStart(s,0),n.setEnd(s,1);const r=gr(n.getBoundingClientRect());return o.removeChild(s),r},WR=e=>{const t=e.startContainer,n=e.endContainer,s=e.startOffset,o=e.endOffset;if(t===n&&X(n)&&s===0&&o===1){const r=e.cloneRange();return r.setEndAfter(n),Bo(r)}else return null},rv=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Bo=e=>{var t;let n;const s=e.getClientRects();return s.length>0?n=gr(s[0]):n=gr(e.getBoundingClientRect()),!ov(e)&&zf(e)&&rv(n)?HR(e):rv(n)&&ov(e)&&(t=WR(e))!==null&&t!==void 0?t:n},hr=(e,t)=>{const n=Qb(e,t);return n.width=1,n.right=n.left+1,n},VR=e=>{const t=[],n=i=>{i.height!==0&&(t.length>0&&RR(i,t[t.length-1])||t.push(i))},s=(i,a)=>{const c=Hf(i.ownerDocument);if(a<i.data.length){if(ev(i.data[a]))return;if(ev(i.data[a-1])&&(c.setStart(i,a),c.setEnd(i,a+1),!Vf(c))){n(hr(Bo(c),!1));return}}a>0&&(c.setStart(i,a-1),c.setEnd(i,a),Vf(c)||n(hr(Bo(c),!1))),a<i.data.length&&(c.setStart(i,a),c.setEnd(i,a+1),Vf(c)||n(hr(Bo(c),!0)))},o=e.container(),r=e.offset();if(Ea(o))return s(o,r),t;if(tv(o))if(e.isAtEnd()){const i=Gl(o,r);Ea(i)&&s(i,i.data.length),ya(i)&&!zf(i)&&n(hr(Bo(i),!1))}else{const i=Gl(o,r);if(Ea(i)&&s(i,0),ya(i)&&e.isAtEnd())return n(hr(Bo(i),!1)),t;const a=Gl(e.container(),e.offset()-1);ya(a)&&!zf(a)&&(nv(a)||nv(i)||!ya(i))&&n(hr(Bo(a),!1)),ya(i)&&n(hr(Bo(i),!0))}return t},$=(e,t,n)=>{const s=()=>(Ea(e),t===0),o=()=>Ea(e)?t>=e.data.length:t>=e.childNodes.length,r=()=>{const d=Hf(e.ownerDocument);return d.setStart(e,t),d.setEnd(e,t),d},i=()=>(n||(n=VR($(e,t))),n),a=()=>i().length>0,c=d=>d&&e===d.container()&&t===d.offset(),u=d=>Gl(e,d?t-1:t);return{container:K(e),offset:K(t),toRange:r,getClientRects:i,isVisible:a,isAtStart:s,isAtEnd:o,isEqual:c,getNode:u}};$.fromRangeStart=e=>$(e.startContainer,e.startOffset),$.fromRangeEnd=e=>$(e.endContainer,e.endOffset),$.after=e=>$(e.parentNode,sv(e)+1),$.before=e=>$(e.parentNode,sv(e)),$.isAbove=(e,t)=>bn(tn(t.getClientRects()),Ht(e.getClientRects()),va).getOr(!1),$.isBelow=(e,t)=>bn(Ht(t.getClientRects()),tn(e.getClientRects()),Ca).getOr(!1),$.isAtStart=e=>e?e.isAtStart():!1,$.isAtEnd=e=>e?e.isAtEnd():!1,$.isTextPosition=e=>e?X(e.container()):!1,$.isElementPosition=e=>!$.isTextPosition(e);const Yl=(e,t)=>{X(t)&&t.data.length===0&&e.remove(t)},jR=(e,t,n)=>{t.insertNode(n),Yl(e,n.previousSibling),Yl(e,n.nextSibling)},qR=(e,t,n)=>{const s=b.from(n.firstChild),o=b.from(n.lastChild);t.insertNode(n),s.each(r=>Yl(e,r.previousSibling)),o.each(r=>Yl(e,r.nextSibling))},jf=(e,t,n)=>{yf(n)?qR(e,t,n):jR(e,t,n)},hs=X,iv=ir,av=ft.nodeIndex,lv=e=>{const t=e.parentNode;return iv(t)?lv(t):t},qf=e=>e?El(e.childNodes,(t,n)=>(iv(n)&&n.nodeName!=="BR"?t=t.concat(qf(n)):t.push(n),t),[]):[],KR=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&hs(n);)t+=n.data.length;return t},cv=e=>t=>e===t,GR=e=>{let t,n;t=qf(lv(e)),n=th(t,cv(e),e),t=t.slice(0,n+1);const s=El(t,(o,r,i)=>(hs(r)&&hs(t[i-1])&&o++,o),0);return t=Yi(t,ms([e.nodeName])),n=th(t,cv(e),e),n-s},uv=e=>(hs(e)?"text()":e.nodeName.toLowerCase())+"["+GR(e)+"]",YR=(e,t,n)=>{const s=[];for(let o=t.parentNode;o&&o!==e&&!(n&&n(o));o=o.parentNode)s.push(o);return s},fv=(e,t)=>{let n=[],s=t.container(),o=t.offset(),r;if(hs(s))r=KR(s,o);else{const a=s.childNodes;o>=a.length?(r="after",o=a.length-1):r="before",s=a[o]}n.push(uv(s));let i=YR(e,s);return i=Yi(i,On(ir)),n=n.concat(of(i,a=>uv(a))),n.reverse().join("/")+","+r},XR=(e,t,n)=>{let s=qf(e);return s=Yi(s,(o,r)=>!hs(o)||!hs(s[r-1])),s=Yi(s,ms([t])),s[n]},QR=(e,t)=>{let n=e,s=0;for(;hs(n);){const o=n.data.length;if(t>=s&&t<=s+o){e=n,t=t-s;break}if(!hs(n.nextSibling)){e=n,t=o;break}s+=o,n=n.nextSibling}return hs(e)&&t>e.data.length&&(t=e.data.length),$(e,t)},dv=(e,t)=>{if(!t)return null;const n=t.split(","),s=n[0].split("/"),o=n.length>1?n[1]:"before",r=El(s,(i,a)=>{const c=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(a);return c?(c[1]==="text()"&&(c[1]="#text"),XR(i,c[1],parseInt(c[2],10))):null},e);if(!r)return null;if(!hs(r)&&r.parentNode){let i;return o==="after"?i=av(r)+1:i=av(r),$(r.parentNode,i)}return QR(r,parseInt(o,10))},Xl=yt,ZR=(e,t,n)=>{let s=e(t.data.slice(0,n)).length;for(let o=t.previousSibling;o&&X(o);o=o.previousSibling)s+=e(o.data).length;return s},mv=(e,t,n,s,o)=>{const r=o?s.startContainer:s.endContainer;let i=o?s.startOffset:s.endOffset;const a=[],c=e.getRoot();if(X(r))a.push(n?ZR(t,r,i):i);else{let u=0;const d=r.childNodes;i>=d.length&&d.length&&(u=1,i=Math.max(0,d.length-1)),a.push(e.nodeIndex(d[i],n)+u)}for(let u=r;u&&u!==c;u=u.parentNode)a.push(e.nodeIndex(u,n));return a},JR=(e,t,n,s)=>{const o=t.dom,r=mv(o,e,n,s,!0),i=t.isForward(),a=Eb(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:r,forward:i,...a};{const c=mv(o,e,n,s,!1);return{start:r,end:c,forward:i,...a}}},Kf=(e,t,n)=>{let s=0;return Q.each(e.select(t),o=>{if(o.getAttribute("data-mce-bogus")!=="all"){if(o===n)return!1;s++;return}}),s},pv=(e,t)=>{let n=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(fe(n)&&n.nodeName==="TR"){const o=n.childNodes;n=o[Math.min(t?s:s-1,o.length-1)],n&&(s=t?0:n.childNodes.length,t?e.setStart(n,s):e.setEnd(n,s))}},gv=e=>(pv(e,!0),pv(e,!1),e),hv=(e,t)=>{if(fe(e)&&(e=Do(e,t),Xl(e)))return e;if(Vn(e)){X(e)&&ti(e)&&(e=e.parentNode);let n=e.previousSibling;if(Xl(n)||(n=e.nextSibling,Xl(n)))return n}},e1=e=>hv(e.startContainer,e.startOffset)||hv(e.endContainer,e.endOffset),bv=(e,t,n)=>{const s=n.getNode(),o=n.getRng();if(s.nodeName==="IMG"||Xl(s)){const i=s.nodeName;return{name:i,index:Kf(n.dom,i,s)}}const r=e1(o);if(r){const i=r.tagName;return{name:i,index:Kf(n.dom,i,r)}}return JR(e,n,t,o)},t1=e=>{const t=e.getRng();return{start:fv(e.dom.getRoot(),$.fromRangeStart(t)),end:fv(e.dom.getRoot(),$.fromRangeEnd(t)),forward:e.isForward()}},n1=e=>({rng:e.getRng(),forward:e.isForward()}),vv=(e,t,n)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",s,"&#xFEFF;"):e.create("span",s)},Cv=(e,t)=>{const n=e.dom;let s=e.getRng();const o=n.uniqueId(),r=e.isCollapsed(),i=e.getNode(),a=i.nodeName,c=e.isForward();if(a==="IMG")return{name:a,index:Kf(n,a,i)};const u=gv(s.cloneRange());if(!r){u.collapse(!1);const g=vv(n,o+"_end",t);jf(n,u,g)}s=gv(s),s.collapse(!0);const d=vv(n,o+"_start",t);return jf(n,s,d),e.moveToBookmark({id:o,keep:!0,forward:c}),{id:o,forward:c}},s1=(e,t,n=!1)=>t===2?bv(fo,n,e):t===3?t1(e):t?n1(e):Cv(e,!1),Gf=ie(bv,Ot,!0),yv=e=>{const t=r=>r(e),n=K(e),s=()=>o,o={tag:!0,inner:e,fold:(r,i)=>i(e),isValue:Et,isError:nt,map:r=>Cn.value(r(e)),mapError:s,bind:t,exists:t,forall:t,getOr:n,or:s,getOrThunk:n,orThunk:s,getOrDie:n,each:r=>{r(e)},toOptional:()=>b.some(e)};return o},Ev=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(s,o)=>s(e),isValue:nt,isError:Et,map:t,mapError:s=>Cn.error(s(e)),bind:t,exists:nt,forall:Et,getOr:Ot,or:Ot,getOrThunk:ji,orThunk:ji,getOrDie:vl(String(e)),each:Me,toOptional:b.none};return n},Cn={value:yv,error:Ev,fromOption:(e,t)=>e.fold(()=>Ev(t),yv)},Hs={generate:e=>{if(!Ct(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return R(e,(s,o)=>{const r=Un(s);if(r.length!==1)throw new Error("one and only one name per case");const i=r[0],a=s[i];if(n[i]!==void 0)throw new Error("duplicate key detected:"+i);if(i==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ct(a))throw new Error("case arguments must be an array");t.push(i),n[i]=(...c)=>{const u=c.length;if(u!==a.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+a.length+" ("+a+"), got "+u);return{fold:(...g)=>{if(g.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+g.length);return g[o].apply(null,c)},match:g=>{const p=Un(g);if(t.length!==p.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+p.join(","));if(!rt(t,_=>z(p,_)))throw new Error("Not all branches were specified when using match. Specified: "+p.join(", ")+`
Required: `+t.join(", "));return g[i].apply(null,c)},log:g=>{console.log(g,{constructors:t,constructor:i,params:c})}}}}),n}};Hs.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const o1=e=>{const t=[],n=[];return R(e,s=>{s.fold(o=>{t.push(o)},o=>{n.push(o)})}),{errors:t,values:n}},r1=e=>e.type==="inline-command"||e.type==="inline-format",i1=e=>e.type==="block-command"||e.type==="block-format",a1=e=>{const t=s=>Cn.error({message:s,pattern:e}),n=(s,o,r)=>{if(e.format!==void 0){let i;if(Ct(e.format)){if(!rt(e.format,le))return t(s+" pattern has non-string items in the `format` array");i=e.format}else if(le(e.format))i=[e.format];else return t(s+" pattern has non-string `format` parameter");return Cn.value(o(i))}else return e.cmd!==void 0?le(e.cmd)?Cn.value(r(e.cmd,e.value)):t(s+" pattern has non-string `cmd` parameter"):t(s+" pattern is missing both `format` and `cmd` parameters")};if(!tt(e))return t("Raw pattern is not an object");if(!le(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!le(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let s=e.start,o=e.end;return o.length===0&&(o=s,s=""),n("Inline",r=>({type:"inline-format",start:s,end:o,format:r}),(r,i)=>({type:"inline-command",start:s,end:o,cmd:r,value:i}))}else return e.replacement!==void 0?le(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):Cn.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?t("Block pattern has empty `start` parameter"):n("Block",s=>({type:"block-format",start:e.start,format:s[0]}),(s,o)=>({type:"block-command",start:e.start,cmd:s,value:o}))},_v=e=>j(e,i1),Sv=e=>j(e,r1),l1=(e,t)=>({inlinePatterns:Sv(e),blockPatterns:_v(e),dynamicPatternsLookup:t}),wv=e=>{const t=o1(V(e,a1));return R(t.errors,n=>console.error(n.message,n.pattern)),t.values},c1=e=>t=>{const n=e(t);return wv(n)},Yf=tr().deviceType,u1=Yf.isTouch(),f1=ft.DOM,d1=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return _e(t,(n,s)=>{const o=s.split("="),r=o[0],i=o.length>1?o[1]:r;return n[Kr(r)]=Kr(i),n},{})},xv=e=>gn(e,RegExp),de=e=>t=>t.options.get(e),Xf=e=>le(e)||tt(e),kv=(e,t="")=>n=>{const s=le(n);if(s)if(n.indexOf("=")!==-1){const o=d1(n);return{value:bt(o,e.id).getOr(t),valid:s}}else return{value:n,valid:s};else return{valid:!1,message:"Must be a string."}},m1=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:kv(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:kv(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const s=le(n)&&Fs(n);return s?{value:n,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const s=z(["block","linebreak","invert","default"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>je(n)?{valid:!0,value:n}:le(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const s=n===!1||le(n)||ns(n,le);return s?le(n)?{value:V(n.split(","),Kr),valid:s}:Ct(n)?{value:n,valid:s}:n===!1?{value:[],valid:s}:{value:n,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Jf(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const s=le(n)||ns(n,le);return s?{value:Ct(n)?n:V(n.split(","),Kr),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const s=je(n)||le(n);return s?n===!1||Yf.isiPhone()||Yf.isiPad()?{value:"",valid:s}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!u1}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:n=>n===!1||le(n)||He(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const s=n===!1||le(n);return s?{value:n===!1?"":n,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean"}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Xf}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Xf}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Xf}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>le(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>ns(n,tt)||n===!1?{value:wv(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:n=>He(n)?{value:c1(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>ns(n,xv)?{value:n,valid:!0}:xv(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:gs.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:f1.getAttrib(e.getElement(),"placeholder")})})},p1=de("iframe_attrs"),g1=de("doctype"),Nv=de("document_base_url"),h1=de("body_id"),b1=de("body_class"),Av=de("content_security_policy"),v1=de("br_in_pre"),Dn=de("forced_root_block"),_a=de("forced_root_block_attrs"),C1=de("newline_behavior"),y1=de("br_newline_selector"),E1=de("no_newline_selector"),_1=de("keep_styles"),S1=de("end_container_on_empty_block"),Tv=de("automatic_uploads"),Rv=de("images_reuse_filename"),w1=de("images_replace_blob_uris"),Pv=de("icons"),x1=de("icons_url"),k1=de("images_upload_url"),N1=de("images_upload_base_path"),A1=de("images_upload_credentials"),T1=de("images_upload_handler"),R1=de("content_css_cors"),Qf=de("referrer_policy"),Ov=de("language"),P1=de("language_url"),Dv=de("indent_use_margin"),O1=de("indentation"),D1=de("content_css"),B1=de("content_style"),Bv=de("font_css"),I1=de("directionality"),F1=de("inline_boundaries_selector"),Iv=de("object_resizing"),L1=de("resize_img_proportional"),$1=de("placeholder"),Fv=de("event_root"),M1=de("service_message"),li=de("theme"),U1=de("theme_url"),Zf=de("model"),z1=de("model_url"),Sa=de("inline_boundaries"),H1=de("formats"),W1=de("preview_styles"),V1=de("format_empty_lines"),j1=de("format_noneditable_selector"),q1=de("custom_ui_selector"),Jf=de("inline"),K1=de("hidden_input"),G1=de("submit_patch"),Y1=de("add_form_submit_trigger"),X1=de("add_unload_trigger"),Q1=de("custom_undo_redo_levels"),Z1=de("disable_nodechange"),Lv=de("readonly"),J1=de("content_css_cors"),Ql=de("plugins"),eP=de("external_plugins"),tP=de("block_unsupported_drop"),nP=de("visual"),sP=de("visual_table_class"),$v=de("visual_anchor_class"),oP=de("iframe_aria_text"),rP=de("setup"),iP=de("init_instance_callback"),aP=de("urlconverter_callback"),lP=de("auto_focus"),cP=de("browser_spellcheck"),uP=de("protect"),fP=de("paste_block_drop"),Zl=de("paste_data_images"),dP=de("paste_preprocess"),mP=de("paste_postprocess"),pP=de("paste_webkit_styles"),gP=de("paste_remove_styles_if_webkit"),hP=de("paste_merge_formats"),bP=de("smart_paste"),vP=de("paste_as_text"),CP=de("paste_tab_spaces"),yP=de("allow_html_data_urls"),EP=de("text_patterns"),_P=de("text_patterns_lookup"),Mv=de("noneditable_class"),SP=de("editable_class"),wP=de("noneditable_regexp"),xP=de("preserve_cdata"),kP=e=>e.options.isSet("text_patterns_lookup"),NP=e=>Q.explode(e.options.get("font_size_style_values")),AP=e=>Q.explode(e.options.get("font_size_classes")),TP=e=>e.options.get("encoding")==="xml",Uv=e=>Q.explode(e.options.get("images_file_types")),RP=de("table_tab_navigation"),PP=fe,zv=X,Hv=e=>{const t=e.parentNode;t&&t.removeChild(e)},Wv=e=>{const t=fo(e);return{count:e.length-t.length,text:t}},Vv=e=>{let t;for(;(t=e.data.lastIndexOf(Jt))!==-1;)e.deleteData(t,1)},jv=(e,t)=>(br(e),t),OP=(e,t)=>{const n=Wv(e.data.substr(0,t.offset())),s=Wv(e.data.substr(t.offset()));return(n.text+s.text).length>0?(Vv(e),$(e,t.offset()-n.count)):t},DP=(e,t)=>{const n=t.container(),s=B(wt(n.childNodes),e).map(o=>o<t.offset()?$(n,t.offset()-1):t).getOr(t);return br(e),s},BP=(e,t)=>zv(e)&&t.container()===e?OP(e,t):jv(e,t),IP=(e,t)=>t.container()===e.parentNode?DP(e,t):jv(e,t),FP=(e,t)=>$.isTextPosition(t)?BP(e,t):IP(e,t),br=e=>{PP(e)&&Vn(e)&&(yb(e)?e.removeAttribute("data-mce-caret"):Hv(e)),zv(e)&&(Vv(e),e.data.length===0&&Hv(e))},LP=yt,$P=zs,MP=Dl,UP="*[contentEditable=false],video,audio,embed,object",qv=(e,t,n)=>{const s=Qb(t.getBoundingClientRect(),n);let o,r;if(e.tagName==="BODY"){const a=e.ownerDocument.documentElement;o=e.scrollLeft||a.scrollLeft,r=e.scrollTop||a.scrollTop}else{const a=e.getBoundingClientRect();o=e.scrollLeft-a.left,r=e.scrollTop-a.top}s.left+=o,s.right+=o,s.top+=r,s.bottom+=r,s.width=1;let i=t.offsetWidth-t.clientWidth;return i>0&&(n&&(i*=-1),s.left+=i,s.right+=i),s},zP=e=>{var t,n;const s=vn(x.fromDom(e),UP);for(let o=0;o<s.length;o++){const r=s[o].dom;let i=r.previousSibling;if($l(i)){const a=i.data;a.length===1?(t=i.parentNode)===null||t===void 0||t.removeChild(i):i.deleteData(a.length-1,1)}i=r.nextSibling,Ll(i)&&(i.data.length===1?(n=i.parentNode)===null||n===void 0||n.removeChild(i):i.deleteData(0,1))}},HP=(e,t,n,s)=>{const o=Oo();let r,i;const a=Dn(e),c=e.dom,u=(y,S)=>{let w;if(d(),MP(S))return null;if(n(S)){const k=yT(a,S,y),A=qv(t,S,y);c.setStyle(k,"top",A.top),i=k;const U=c.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});c.setStyles(U,{...A}),c.add(t,U),o.set({caret:U,element:S,before:y}),y&&c.addClass(U,"mce-visual-caret-before"),g(),w=S.ownerDocument.createRange(),w.setStart(k,0),w.setEnd(k,0)}else return i=CT(S,y),w=S.ownerDocument.createRange(),wa(i.nextSibling)?(w.setStart(i,0),w.setEnd(i,0)):(w.setStart(i,1),w.setEnd(i,1)),w;return w},d=()=>{zP(t),i&&(br(i),i=null),o.on(y=>{c.remove(y.caret),o.clear()}),r&&(clearInterval(r),r=void 0)},g=()=>{r=setInterval(()=>{o.on(y=>{s()?c.toggleClass(y.caret,"mce-visual-caret-hidden"):c.addClass(y.caret,"mce-visual-caret-hidden")})},500)};return{show:u,hide:d,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{o.on(y=>{const S=qv(t,y.element,y.before);c.setStyles(y.caret,{...S})})},destroy:()=>clearInterval(r)}},Kv=()=>Xe.browser.isFirefox(),wa=e=>LP(e)||$P(e),xa=e=>wa(e)||uo(e)&&Kv(),WP=Us,ed=yt,VP=zs,Gv=Ol("display","block table table-cell table-caption list-item"),Yv=Vn,Xv=ti,jP=fe,qP=X,KP=rs,ci=e=>e>0,vr=e=>e<0,Jl=(e,t)=>{let n;for(;n=e(t);)if(!Xv(n))return n;return null},ka=(e,t,n,s,o)=>{const r=new $t(e,s),i=ed(e)||Xv(e);let a;if(vr(t)){if(i&&(a=Jl(r.prev.bind(r),!0),n(a)))return a;for(;a=Jl(r.prev.bind(r),o);)if(n(a))return a}if(ci(t)){if(i&&(a=Jl(r.next.bind(r),!0),n(a)))return a;for(;a=Jl(r.next.bind(r),o);)if(n(a))return a}return null},GP=(e,t)=>{const n=o=>WP(o.dom),s=o=>o.dom===t;return Qr(x.fromDom(e),n,s).map(o=>o.dom).getOr(t)},Io=(e,t)=>{for(;e&&e!==t;){if(Gv(e))return e;e=e.parentNode}return null},Ws=(e,t,n)=>Io(e.container(),n)===Io(t.container(),n),td=(e,t)=>{if(!t)return b.none();const n=t.container(),s=t.offset();return jP(n)?b.from(n.childNodes[s+e]):b.none()},Qv=(e,t)=>{var n;const o=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),o},YP=(e,t,n)=>Io(t,e)===Io(n,e),Zv=(e,t,n)=>{const s=e?"previousSibling":"nextSibling";let o=n;for(;o&&o!==t;){let r=o[s];if(r&&Yv(r)&&(r=r[s]),ed(r)||VP(r)){if(YP(t,r,o))return r;break}if(KP(r))break;o=o.parentNode}return null},Na=ie(Qv,!0),Aa=ie(Qv,!1),nd=(e,t,n)=>{let s;const o=ie(Zv,!0,t),r=ie(Zv,!1,t),i=n.startContainer,a=n.startOffset;if(ti(i)){const c=qP(i)?i.parentNode:i,u=c.getAttribute("data-mce-caret");if(u==="before"&&(s=c.nextSibling,xa(s)))return Na(s);if(u==="after"&&(s=c.previousSibling,xa(s)))return Aa(s)}if(!n.collapsed)return n;if(X(i)){if(Yv(i)){if(e===1){if(s=r(i),s)return Na(s);if(s=o(i),s)return Aa(s)}if(e===-1){if(s=o(i),s)return Aa(s);if(s=r(i),s)return Na(s)}return n}if($l(i)&&a>=i.data.length-1)return e===1&&(s=r(i),s)?Na(s):n;if(Ll(i)&&a<=1)return e===-1&&(s=o(i),s)?Aa(s):n;if(a===i.data.length)return s=r(i),s?Na(s):n;if(a===0)return s=o(i),s?Aa(s):n}return n},Jv=(e,t)=>td(e?0:-1,t).filter(ed),Ta=(e,t,n)=>{const s=nd(e,t,n);return e===-1?$.fromRangeStart(s):$.fromRangeEnd(s)},ec=e=>b.from(e.getNode()).map(x.fromDom),XP=e=>b.from(e.getNode(!0)).map(x.fromDom),sd=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},tc=(e,t)=>{const n=Ws(e,t);return!n&&Dt(e.getNode())?!0:n};var jt;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(jt||(jt={}));const QP=yt,Vs=X,eC=fe,od=Dt,ui=rs,tC=PT,nc=wb,ZP=(e,t)=>{const n=[];let s=e;for(;s&&s!==t;)n.push(s),s=s.parentNode;return n},nC=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,sC=(e,t)=>{if(ci(e)){if(ui(t.previousSibling)&&!Vs(t.previousSibling))return $.before(t);if(Vs(t))return $(t,0)}if(vr(e)){if(ui(t.nextSibling)&&!Vs(t.nextSibling))return $.after(t);if(Vs(t))return $(t,t.data.length)}return vr(e)?od(t)?$.before(t):$.after(t):$.before(t)},JP=(e,t)=>{const n=t.nextSibling;return n&&ui(n)?Vs(n)?$(n,0):$.before(n):rd(jt.Forwards,$.after(t),e)},rd=(e,t,n)=>{let s,o,r,i;if(!eC(n)||!t)return null;if(t.isEqual($.after(n))&&n.lastChild){if(i=$.after(n.lastChild),vr(e)&&ui(n.lastChild)&&eC(n.lastChild))return od(n.lastChild)?$.before(n.lastChild):i}else i=t;const a=i.container();let c=i.offset();if(Vs(a)){if(vr(e)&&c>0)return $(a,--c);if(ci(e)&&c<a.length)return $(a,++c);s=a}else{if(vr(e)&&c>0&&(o=nC(a,c-1),ui(o)))return!tC(o)&&(r=ka(o,e,nc,o),r)?Vs(r)?$(r,r.data.length):$.after(r):Vs(o)?$(o,o.data.length):$.before(o);if(ci(e)&&c<a.childNodes.length&&(o=nC(a,c),ui(o)))return od(o)?JP(n,o):!tC(o)&&(r=ka(o,e,nc,o),r)?Vs(r)?$(r,0):$.before(r):Vs(o)?$(o,0):$.after(o);s=o||i.getNode()}if(s&&(ci(e)&&i.isAtEnd()||vr(e)&&i.isAtStart())&&(s=ka(s,e,Et,n,!0),nc(s,n)))return sC(e,s);o=s&&ka(s,e,nc,n);const u=Jo(j(ZP(a,n),QP));return u&&(!o||!u.contains(o))?(ci(e)?i=$.after(u):i=$.before(u),i):o?sC(e,o):null},js=e=>({next:t=>rd(jt.Forwards,t,e),prev:t=>rd(jt.Backwards,t,e)}),eO=(e,t,n)=>{const s=e?$.before(n):$.after(n);return jn(e,t,s)},tO=e=>Dt(e)?$.before(e):$.after(e),oC=e=>$.isTextPosition(e)?e.offset()===0:rs(e.getNode()),rC=e=>{if($.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return rs(e.getNode(!0))},iC=(e,t)=>!$.isTextPosition(e)&&!$.isTextPosition(t)&&e.getNode()===t.getNode(!0),nO=e=>!$.isTextPosition(e)&&Dt(e.getNode()),sO=(e,t,n)=>e?!iC(t,n)&&!nO(t)&&rC(t)&&oC(n):!iC(n,t)&&oC(t)&&rC(n),jn=(e,t,n)=>{const s=js(t);return b.from(e?s.next(n):s.prev(n))},sc=(e,t,n)=>jn(e,t,n).bind(s=>Ws(n,s,t)&&sO(e,n,s)?jn(e,t,s):b.some(s)),aC=(e,t,n,s)=>sc(e,t,n).bind(o=>s(o)?aC(e,t,o,s):b.some(o)),fi=(e,t)=>{const n=e?t.firstChild:t.lastChild;return X(n)?b.some($(n,e?0:n.data.length)):n?rs(n)?b.some(e?$.before(n):tO(n)):eO(e,t,n):b.none()},An=ie(jn,!0),qn=ie(jn,!1),yn=ie(fi,!0),qs=ie(fi,!1),id="_mce_caret",bs=e=>fe(e)&&e.id===id,Cr=(e,t)=>{let n=t;for(;n&&n!==e;){if(bs(n))return n;n=n.parentNode}return null},oO=e=>le(e.start),rO=e=>$e(e,"rng"),iO=e=>$e(e,"id"),lC=e=>$e(e,"name"),cC=e=>Q.isArray(e.start),oc=e=>!lC(e)&&je(e.forward)?e.forward:!0,uC=(e,t)=>(fe(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),aO=(e,t)=>{const n=b.from(dv(e.getRoot(),t.start)),s=b.from(dv(e.getRoot(),t.end));return bn(n,s,(o,r)=>{const i=e.createRng();return i.setStart(o.container(),o.offset()),i.setEnd(r.container(),r.offset()),{range:i,forward:oc(t)}})},lO=(e,t)=>{var n;const o=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Jt);e.appendChild(o),t.setStart(o,0),t.setEnd(o,0)},cO=e=>!e.hasChildNodes(),uO=(e,t)=>qs(e).fold(nt,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),fC=(e,t,n)=>cO(t)&&Cr(e,t)?(lO(t,n),!0):!1,dC=(e,t,n,s)=>{const o=n[t?"start":"end"],r=e.getRoot();if(o){let i=r,a=o[0];for(let c=o.length-1;i&&c>=1;c--){const u=i.childNodes;if(fC(r,i,s))return!0;if(o[c]>u.length-1)return fC(r,i,s)?!0:uO(i,s);i=u[o[c]]}X(i)&&(a=Math.min(o[0],i.data.length)),fe(i)&&(a=Math.min(o[0],i.childNodes.length)),t?s.setStart(i,a):s.setEnd(i,a)}return!0},ad=e=>X(e)&&e.data.length>0,mC=(e,t,n)=>{const s=e.get(n.id+"_"+t),o=s==null?void 0:s.parentNode,r=n.keep;if(s&&o){let i,a;if(t==="start"?r?s.hasChildNodes()?(i=s.firstChild,a=1):ad(s.nextSibling)?(i=s.nextSibling,a=0):ad(s.previousSibling)?(i=s.previousSibling,a=s.previousSibling.data.length):(i=o,a=e.nodeIndex(s)+1):(i=o,a=e.nodeIndex(s)):r?s.hasChildNodes()?(i=s.firstChild,a=1):ad(s.previousSibling)?(i=s.previousSibling,a=s.previousSibling.data.length):(i=o,a=e.nodeIndex(s)):(i=o,a=e.nodeIndex(s)),!r){const c=s.previousSibling,u=s.nextSibling;Q.each(Q.grep(s.childNodes),g=>{X(g)&&(g.data=g.data.replace(/\uFEFF/g,""))});let d;for(;d=e.get(n.id+"_"+t);)e.remove(d,!0);if(X(u)&&X(c)&&!Xe.browser.isOpera()){const g=c.data.length;c.appendData(u.data),e.remove(u),i=c,a=g}}return b.some($(i,a))}else return b.none()},fO=(e,t)=>{const n=e.createRng();return dC(e,!0,t,n)&&dC(e,!1,t,n)?b.some({range:n,forward:oc(t)}):b.none()},dO=(e,t)=>{const n=mC(e,"start",t),s=mC(e,"end",t);return bn(n,s.or(n),(o,r)=>{const i=e.createRng();return i.setStart(uC(e,o.container()),o.offset()),i.setEnd(uC(e,r.container()),r.offset()),{range:i,forward:oc(t)}})},mO=(e,t)=>b.from(e.select(t.name)[t.index]).map(n=>{const s=e.createRng();return s.selectNode(n),{range:s,forward:!0}}),pO=(e,t)=>{const n=e.dom;if(t){if(cC(t))return fO(n,t);if(oO(t))return aO(n,t);if(iO(t))return dO(n,t);if(lC(t))return mO(n,t);if(rO(t))return b.some({range:t.rng,forward:oc(t)})}return b.none()},gO=(e,t,n)=>s1(e,t,n),hO=(e,t)=>{pO(e,t).each(({range:n,forward:s})=>{e.setRng(n,s)})},Kn=e=>fe(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",rc=(e=>t=>e===t)(Gt),di=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,ld=e=>!di(e)&&!rc(e)&&!hb(e),bO=e=>({value:e}),cd=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},vO=e=>{const t=cd(e.red)+cd(e.green)+cd(e.blue);return bO(t)},CO=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,yO=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,pC=(e,t,n,s)=>({red:e,green:t,blue:n,alpha:s}),gC=(e,t,n,s)=>{const o=parseInt(e,10),r=parseInt(t,10),i=parseInt(n,10),a=parseFloat(s);return pC(o,r,i,a)},EO=e=>{if(e==="transparent")return b.some(pC(0,0,0,0));const t=CO.exec(e);if(t!==null)return b.some(gC(t[1],t[2],t[3],"1"));const n=yO.exec(e);return n!==null?b.some(gC(n[1],n[2],n[3],n[4])):b.none()},ic=e=>EO(e).map(vO).map(t=>"#"+t.value).getOr(e),ud=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},_O=e=>ot(e,t=>{const n=Kl(t);return n?[x.fromDom(n)]:[]}),SO=e=>ud(e).length>1,wO=e=>j(_O(e),Bl),xO=e=>vn(e,"td[data-mce-selected],th[data-mce-selected]"),hC=(e,t)=>{const n=xO(t);return n.length>0?n:wO(e)},mi=e=>hC(ud(e.selection.getSel()),x.fromDom(e.getBody())),Ra=(e,t)=>la(e,"table",t),kO=e=>{const t=e.startContainer,n=e.startOffset;return X(t)?n===0?b.some(x.fromDom(t)):b.none():b.from(t.childNodes[n]).map(x.fromDom)},NO=e=>{const t=e.endContainer,n=e.endOffset;return X(t)?n===t.data.length?b.some(x.fromDom(t)):b.none():b.from(t.childNodes[n-1]).map(x.fromDom)},bC=e=>Vh(e).fold(K([e]),t=>[e].concat(bC(t))),fd=e=>mf(e).fold(K([e]),t=>xt(t)==="br"?sr(t).map(n=>[e].concat(fd(n))).getOr([]):[e].concat(fd(t))),dd=(e,t)=>bn(kO(t),NO(t),(n,s)=>{const o=Ce(bC(e),ie(it,n)),r=Ce(fd(e),ie(it,s));return o.isSome()&&r.isSome()}).getOr(!1),md=(e,t,n,s)=>{const o=n,r=new $t(n,o),i=Gi(e.schema.getMoveCaretBeforeOnEnterElements(),(c,u)=>!z(["td","th","table"],u.toLowerCase()));let a=n;do{if(X(a)&&Q.trim(a.data).length!==0){s?t.setStart(a,0):t.setEnd(a,a.data.length);return}if(i[a.nodeName]){s?t.setStartBefore(a):a.nodeName==="BR"?t.setEndBefore(a):t.setEndAfter(a);return}}while(a=s?r.next():r.prev());o.nodeName==="BODY"&&(s?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},ac=e=>{const t=e.selection.getSel();return se(t)&&t.rangeCount>0},pd=(e,t)=>{const n=mi(e);n.length>0?R(n,s=>{const o=s.dom,r=e.dom.createRng();r.setStartBefore(o),r.setEndAfter(o),t(r,!0)}):t(e.selection.getRng(),!1)},vC=(e,t,n)=>{const s=Cv(e,t);n(s),e.moveToBookmark(s)},Pa=e=>zt(e==null?void 0:e.nodeType),gd=e=>fe(e)&&!Kn(e)&&!bs(e)&&!ir(e),AO=(e,t)=>{if(gd(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),s=parseInt(n,10);return!isNaN(s)&&s>0}else return!1},yr=e=>e.isContentEditable===!0,CC=(e,t,n)=>{const{selection:s,dom:o}=e,r=s.getNode(),i=yt(r);vC(s,!0,()=>{t()}),i&&yt(r)&&o.isChildOf(r,e.getBody())?e.selection.select(r):n(s.getStart())&&TO(o,s)},TO=(e,t)=>{var n,s;const o=t.getRng(),{startContainer:r,startOffset:i}=o,a=t.getNode();if(!AO(e,a)&&fe(r)){const c=r.childNodes,u=e.getRoot();let d;if(i<c.length){const g=c[i];d=new $t(g,(n=e.getParent(g,e.isBlock))!==null&&n!==void 0?n:u)}else{const g=c[c.length-1];d=new $t(g,(s=e.getParent(g,e.isBlock))!==null&&s!==void 0?s:u),d.next(!0)}for(let g=d.current();g;g=d.next()){if(e.getContentEditable(g)==="false")return;if(X(g)&&!bd(g)){o.setStart(g,0),t.setRng(o);return}}}},yC=(e,t,n)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=n?e:e[s];e;e=e[s])if(fe(e)||!bd(e))return e}},hd=(e,t)=>(Pa(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]),pi=(e,t,n)=>e.schema.isValidChild(t,n),bd=(e,t=!1)=>{if(se(e)&&X(e)){const n=t?e.data.replace(/ /g,"\xA0"):e.data;return ur(n)}else return!1},RO=e=>se(e)&&X(e)&&e.length===0,PO=(e,t)=>{const n="[data-mce-cef-wrappable]",s=j1(e),o=Qi(s)?n:`${n},${s}`;return ds(x.fromDom(t),o)},EC=(e,t)=>{const n=e.dom;return gd(t)&&n.getContentEditable(t)==="false"&&PO(e,t)&&n.select('[contenteditable="true"]',t).length===0},Fo=(e,t)=>He(e)?e(t):(se(t)&&(e=e.replace(/%(\w+)/g,(n,s)=>t[s]||n)),e),vd=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),Cd=(e,t)=>{if(Ve(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=ic(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},lc=(e,t,n)=>{const s=e.getStyle(t,n);return Cd(s,n)},_C=(e,t)=>{let n;return e.getParent(t,s=>fe(s)?(n=e.getStyle(s,"text-decoration"),!!n&&n!=="none"):!1),n},cc=(e,t,n)=>e.getParents(t,n,e.getRoot()),yd=(e,t,n)=>{const s=e.formatter.get(t);return se(s)&&Y(s,n)},OO=(e,t)=>yd(e,t,s=>{const o=r=>He(r)||r.length>1&&r.charAt(0)==="%";return Y(["styles","attributes"],r=>bt(s,r).exists(i=>{const a=Ct(i)?i:nf(i);return Y(a,o)}))}),DO=(e,t,n)=>{const s=["inline","block","selector","attributes","styles","classes"],o=r=>Gi(r,(i,a)=>Y(s,c=>c===a));return yd(e,t,r=>{const i=o(r);return yd(e,n,a=>{const c=o(a);return AN(i,c)})})},Ks=e=>qr(e,"block"),BO=e=>Ks(e)&&e.wrapper===!0,IO=e=>Ks(e)&&e.wrapper!==!0,Gn=e=>qr(e,"selector"),qt=e=>qr(e,"inline"),FO=e=>Gn(e)&&qt(e)&&Gr(bt(e,"mixed"),!0),Ed=e=>Gn(e)&&e.expand!==!1&&!qt(e),gi=Kn,SC=cc,wC=bd,LO=hd,$O=e=>Dt(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,xC=(e,t)=>{let n=t;for(;n;){if(fe(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},kC=(e,t,n,s)=>{const o=t.data;for(let r=n;e?r>=0:r<o.length;e?r--:r++)if(s(o.charAt(r)))return e?r+1:r;return-1},MO=(e,t,n)=>kC(e,t,n,s=>rc(s)||di(s)),UO=(e,t,n)=>kC(e,t,n,ld),NC=(e,t,n,s,o,r)=>{let i;const a=e.getParent(n,e.isBlock)||t,c=(d,g,p)=>{const E=pr(e),_=o?E.backwards:E.forwards;return b.from(_(d,g,(y,S)=>gi(y.parentNode)?-1:(i=y,p(o,y,S)),a))};return c(n,s,MO).bind(d=>r?c(d.container,d.offset+(o?-1:0),UO):b.some(d)).orThunk(()=>i?b.some({container:i,offset:o?0:i.length}):b.none())},AC=(e,t,n,s,o)=>{const r=s[o];X(s)&&Qi(s.data)&&r&&(s=r);const i=SC(e,s);for(let a=0;a<i.length;a++)for(let c=0;c<t.length;c++){const u=t[c];if(!(se(u.collapsed)&&u.collapsed!==n.collapsed)&&Gn(u)&&e.is(i[a],u.selector))return i[a]}return s},TC=(e,t,n,s)=>{var o;let r=n;const i=e.dom,a=i.getRoot(),c=t[0];if(Ks(c)&&(r=c.wrapper?null:i.getParent(n,c.block,a)),!r){const u=(o=i.getParent(n,"LI,TD,TH"))!==null&&o!==void 0?o:a;r=i.getParent(X(n)?n.parentNode:n,d=>d!==a&&LO(e,d),u)}if(r&&Ks(c)&&c.wrapper&&(r=SC(i,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r&&r[s]&&!i.isBlock(r[s])&&(r=r[s],!vd(r,"br")););return r||n},RC=(e,t,n,s)=>{const o=n.parentNode;return se(n[s])?!1:o===t||Ve(o)||e.isBlock(o)?!0:RC(e,t,o,s)},uc=(e,t,n,s,o)=>{let r=n;const i=o?"previousSibling":"nextSibling",a=e.getRoot();if(X(n)&&!wC(n)&&(o?s>0:s<n.data.length))return n;for(;r;){if(!t[0].block_expand&&e.isBlock(r))return r;for(let c=r[i];c;c=c[i]){const u=X(c)&&!RC(e,a,c,i);if(!gi(c)&&!$O(c)&&!wC(c,u))return r}if(r===a||r.parentNode===a){n=r;break}r=r.parentNode}return n},PC=e=>gi(e.parentNode)||gi(e),hi=(e,t,n,s=!1)=>{let{startContainer:o,startOffset:r,endContainer:i,endOffset:a}=t;const c=e.dom,u=n[0];return fe(o)&&o.hasChildNodes()&&(o=Do(o,r),X(o)&&(r=0)),fe(i)&&i.hasChildNodes()&&(i=Do(i,t.collapsed?a:a-1),X(i)&&(a=i.data.length)),o=xC(c,o),i=xC(c,i),PC(o)&&(o=gi(o)?o:o.parentNode,t.collapsed?o=o.previousSibling||o:o=o.nextSibling||o,X(o)&&(r=t.collapsed?o.length:0)),PC(i)&&(i=gi(i)?i:i.parentNode,t.collapsed?i=i.nextSibling||i:i=i.previousSibling||i,X(i)&&(a=t.collapsed?0:i.length)),t.collapsed&&(NC(c,e.getBody(),o,r,!0,s).each(({container:p,offset:E})=>{o=p,r=E}),NC(c,e.getBody(),i,a,!1,s).each(({container:p,offset:E})=>{i=p,a=E})),(qt(u)||u.block_expand)&&((!qt(u)||!X(o)||r===0)&&(o=uc(c,n,o,r,!0)),(!qt(u)||!X(i)||a===i.data.length)&&(i=uc(c,n,i,a,!1))),Ed(u)&&(o=AC(c,n,t,o,"previousSibling"),i=AC(c,n,t,i,"nextSibling")),(Ks(u)||Gn(u))&&(o=TC(e,n,o,"previousSibling"),i=TC(e,n,i,"nextSibling"),Ks(u)&&(c.isBlock(o)||(o=uc(c,n,o,r,!0)),c.isBlock(i)||(i=uc(c,n,i,a,!1)))),fe(o)&&o.parentNode&&(r=c.nodeIndex(o),o=o.parentNode),fe(i)&&i.parentNode&&(a=c.nodeIndex(i)+1,i=i.parentNode),{startContainer:o,startOffset:r,endContainer:i,endOffset:a}},Oa=(e,t,n)=>{var s;const o=t.startOffset,r=Do(t.startContainer,o),i=t.endOffset,a=Do(t.endContainer,i-1),c=S=>{const w=S[0];X(w)&&w===r&&o>=w.data.length&&S.splice(0,1);const k=S[S.length-1];return i===0&&S.length>0&&k===a&&X(k)&&S.splice(S.length-1,1),S},u=(S,w,k)=>{const A=[];for(;S&&S!==k;S=S[w])A.push(S);return A},d=(S,w)=>e.getParent(S,k=>k.parentNode===w,w),g=(S,w,k)=>{const A=k?"nextSibling":"previousSibling";for(let U=S,H=U.parentNode;U&&U!==w;U=H){H=U.parentNode;const ee=u(U===S?U:U[A],A);ee.length&&(k||ee.reverse(),n(c(ee)))}};if(r===a)return n(c([r]));const p=(s=e.findCommonAncestor(r,a))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(r,a))return g(r,p,!0);if(e.isChildOf(a,r))return g(a,p);const E=d(r,p)||r,_=d(a,p)||a;g(r,E,!0);const y=u(E===r?E:E.nextSibling,"nextSibling",_===a?_.nextSibling:_);y.length&&n(c(y)),g(a,_)},zO=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],HO=e=>zn(e)&&Sf(e)===Jt,WO=(e,t,n,s)=>Hn(t).fold(()=>"skipping",o=>s==="br"||HO(t)?"valid":_R(t)?"existing":bs(t.dom)?"caret":Y(zO,r=>ds(t,r))?"valid-block":!pi(e,n,s)||!pi(e,xt(o),n)?"invalid-child":"valid"),VO=(e,t)=>{const n=hi(e,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},OC=(e,t,n,s,o,r)=>{const{uid:i=t,...a}=n;ta(e,pa()),Kt(e,`${ri()}`,i),Kt(e,`${mr()}`,s);const{attributes:c={},classes:u=[]}=o(i,a);if(wo(e,c),kR(e,u),r){u.length>0&&Kt(e,`${ha()}`,u.join(","));const d=Un(c);d.length>0&&Kt(e,`${ba()}`,d.join(","))}},jO=e=>{xl(e,pa()),sn(e,`${ri()}`),sn(e,`${mr()}`),sn(e,`${ga()}`);const t=ao(e,`${ba()}`).map(s=>s.split(",")).getOr([]),n=ao(e,`${ha()}`).map(s=>s.split(",")).getOr([]);R(t,s=>sn(e,s)),NR(e,n),sn(e,`${ha()}`),sn(e,`${ba()}`)},DC=(e,t,n,s,o)=>{const r=x.fromTag("span",e);return OC(r,t,n,s,o,!1),r},qO=(e,t,n,s,o,r)=>{const i=[],a=DC(e.getDoc(),n,r,s,o),c=Oo(),u=()=>{c.clear()},d=()=>c.get().getOrThunk(()=>{const _=ii(a);return i.push(_),c.set(_),_}),g=_=>{R(_,p)},p=_=>{switch(WO(e,_,"span",xt(_))){case"invalid-child":{u();const S=on(_);g(S),u();break}case"valid-block":{u(),OC(_,n,r,s,o,!0);break}case"valid":{const S=d();TA(_,S);break}}},E=_=>{const y=V(_,x.fromDom);g(y)};return Oa(e.dom,t,_=>{u(),E(_)}),i},KO=(e,t,n,s)=>{e.undoManager.transact(()=>{const o=e.selection,r=o.getRng(),i=mi(e).length>0,a=Kb("mce-annotation");if(r.collapsed&&!i&&VO(e,r),o.getRng().collapsed&&!i){const c=DC(e.getDoc(),a,s,t,n.decorate);Tl(c,Gt),o.getRng().insertNode(c.dom),o.select(c.dom)}else vC(o,!1,()=>{pd(e,c=>{qO(e,c,a,t,n.decorate,s)})})})},BC=e=>{const t=xR();wR(e,t);const n=SR(e,t),s=uf("span"),o=r=>{R(r,i=>{s(i)?No(i):jO(i)})};return{register:(r,i)=>{t.register(r,i)},annotate:(r,i)=>{t.lookup(r).each(a=>{KO(e,r,a,i)})},annotationChanged:(r,i)=>{n.addListener(r,i)},remove:r=>{const i=e.selection.getBookmark();Hb(e,b.some(r)).each(({elements:a})=>{o(a)}),e.selection.moveToBookmark(i)},removeAll:r=>{const i=e.selection.getBookmark();dt(jb(e,r),(a,c)=>{o(a)}),e.selection.moveToBookmark(i)},getAll:r=>{const i=jb(e,r);return Cl(i,a=>V(a,c=>c.dom))}}},Da=e=>({getBookmark:ie(gO,e),moveToBookmark:ie(hO,e)});Da.isBookmarkNode=Kn;const IC=(e,t,n)=>n.collapsed?!1:Y(n.getClientRects(),s=>PR(s,e,t)),GO=(e,t)=>e.dispatch("PreProcess",t),YO=(e,t)=>e.dispatch("PostProcess",t),XO=e=>{e.dispatch("remove")},QO=e=>{e.dispatch("detach")},ZO=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},JO=(e,t,n,s,o)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:s,origin:o})},eD=(e,t,n,s,o)=>{e.dispatch("ObjectResized",{target:t,width:n,height:s,origin:o})},tD=e=>{e.dispatch("PreInit")},nD=e=>{e.dispatch("PostRender")},sD=e=>{e.dispatch("Init")},oD=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},FC=(e,t,n)=>{e.dispatch(t,n)},LC=(e,t,n,s)=>{e.dispatch("FormatApply",{format:t,node:n,vars:s})},$C=(e,t,n,s)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:s})},rD=(e,t)=>e.dispatch("BeforeSetContent",t),MC=(e,t)=>e.dispatch("SetContent",t),iD=(e,t)=>e.dispatch("BeforeGetContent",t),UC=(e,t)=>e.dispatch("GetContent",t),aD=(e,t)=>{e.dispatch("AutocompleterStart",t)},lD=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},cD=e=>{e.dispatch("AutocompleterEnd")},uD=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),fD=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),zC=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),pe={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||pe.metaKeyPressed(e),metaKeyPressed:e=>Xe.os.isMacOS()||Xe.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Er="data-mce-selected",dD="table,img,figure.image,hr,video,span.mce-preview-object",HC=Math.abs,fc=Math.round,_d={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},mD=e=>e.type==="longpress"||e.type.indexOf("touch")===0,WC=(e,t)=>{const n=t.dom,s=t.getDoc(),o=document,r=t.getBody();let i,a,c,u,d,g,p,E,_,y,S,w,k,A,U,H,ee;const W=ne=>se(ne)&&(lb(ne)||n.is(ne,"figure.image")),F=ne=>zs(ne)||n.hasClass(ne,"mce-preview-object"),L=(ne,Ie)=>{if(mD(ne)){const De=ne.touches[0];return W(ne.target)&&!IC(De.clientX,De.clientY,Ie)}else return W(ne.target)&&!IC(ne.clientX,ne.clientY,Ie)},te=ne=>{const Ie=ne.target;L(ne,t.selection.getRng())&&!ne.isDefaultPrevented()&&t.selection.select(Ie)},me=ne=>n.hasClass(ne,"mce-preview-object")&&se(ne.firstElementChild)?[ne,ne.firstElementChild]:n.is(ne,"figure.image")?[ne.querySelector("img")]:[ne],be=ne=>{const Ie=Iv(t);return!Ie||ne.getAttribute("data-mce-resize")==="false"||ne===t.getBody()?!1:n.hasClass(ne,"mce-preview-object")&&se(ne.firstElementChild)?ds(x.fromDom(ne.firstElementChild),Ie):ds(x.fromDom(ne),Ie)},Te=ne=>F(ne)?n.create("img",{src:Xe.transparentSrc}):ne.cloneNode(!0),ze=(ne,Ie,De)=>{if(se(De)){const Se=me(ne);R(Se,Ne=>{Ne.style[Ie]||!t.schema.isValid(Ne.nodeName.toLowerCase(),Ie)?n.setStyle(Ne,Ie,De):n.setAttrib(Ne,Ie,""+De)})}},qe=(ne,Ie,De)=>{ze(ne,"width",Ie),ze(ne,"height",De)},st=ne=>{let Ie,De,Se,Ne,Qe;Ie=ne.screenX-g,De=ne.screenY-p,A=Ie*u[2]+y,U=De*u[3]+S,A=A<5?5:A,U=U<5?5:U,(W(i)||F(i))&&L1(t)!==!1?Se=!pe.modifierPressed(ne):Se=pe.modifierPressed(ne),Se&&(HC(Ie)>HC(De)?(U=fc(A*w),A=fc(U/w)):(A=fc(U/w),U=fc(A*w))),qe(a,A,U),Ne=u.startPos.x+Ie,Qe=u.startPos.y+De,Ne=Ne>0?Ne:0,Qe=Qe>0?Qe:0,n.setStyles(c,{left:Ne,top:Qe,display:"block"}),c.innerHTML=A+" &times; "+U,u[2]<0&&a.clientWidth<=A&&n.setStyle(a,"left",E+(y-A)),u[3]<0&&a.clientHeight<=U&&n.setStyle(a,"top",_+(S-U)),Ie=r.scrollWidth-H,De=r.scrollHeight-ee,Ie+De!==0&&n.setStyles(c,{left:Ne-Ie,top:Qe-De}),k||(JO(t,i,y,S,"corner-"+u.name),k=!0)},Mt=()=>{const ne=k;k=!1,ne&&(ze(i,"width",A),ze(i,"height",U)),n.unbind(s,"mousemove",st),n.unbind(s,"mouseup",Mt),o!==s&&(n.unbind(o,"mousemove",st),n.unbind(o,"mouseup",Mt)),n.remove(a),n.remove(c),n.remove(d),Z(i),ne&&(eD(t,i,A,U,"corner-"+u.name),n.setAttrib(i,"style",n.getAttrib(i,"style"))),t.nodeChanged()},Z=ne=>{ae();const Ie=n.getPos(ne,r),De=Ie.x,Se=Ie.y,Ne=ne.getBoundingClientRect(),Qe=Ne.width||Ne.right-Ne.left,et=Ne.height||Ne.bottom-Ne.top;i!==ne&&(Oe(),i=ne,A=U=0);const Bt=t.dispatch("ObjectSelected",{target:ne});be(ne)&&!Bt.isDefaultPrevented()?dt(_d,(vt,mt)=>{const Pt=It=>{const Ss=me(i)[0];g=It.screenX,p=It.screenY,y=Ss.clientWidth,S=Ss.clientHeight,w=S/y,u=vt,u.name=mt,u.startPos={x:Qe*vt[0]+De,y:et*vt[1]+Se},H=r.scrollWidth,ee=r.scrollHeight,d=n.add(r,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(d,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),a=Te(i),n.addClass(a,"mce-clonedresizable"),n.setAttrib(a,"data-mce-bogus","all"),a.contentEditable="false",n.setStyles(a,{left:De,top:Se,margin:0}),qe(a,Qe,et),a.removeAttribute(Er),r.appendChild(a),n.bind(s,"mousemove",st),n.bind(s,"mouseup",Mt),o!==s&&(n.bind(o,"mousemove",st),n.bind(o,"mouseup",Mt)),c=n.add(r,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},y+" &times; "+S)};let Qt=n.get("mceResizeHandle"+mt);Qt&&n.remove(Qt),Qt=n.add(r,"div",{id:"mceResizeHandle"+mt,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+mt+"-resize; margin:0; padding:0"}),n.bind(Qt,"mousedown",It=>{It.stopImmediatePropagation(),It.preventDefault(),Pt(It)}),vt.elm=Qt,n.setStyles(Qt,{left:Qe*vt[0]+De-Qt.offsetWidth/2,top:et*vt[1]+Se-Qt.offsetHeight/2})}):Oe(!1)},Re=ql(Z,0),Oe=(ne=!0)=>{Re.cancel(),ae(),i&&ne&&i.removeAttribute(Er),dt(_d,(Ie,De)=>{const Se=n.get("mceResizeHandle"+De);Se&&(n.unbind(Se),n.remove(Se))})},ke=(ne,Ie)=>n.isChildOf(ne,Ie),kt=ne=>{if(k||t.removed||t.composing)return;const Ie=ne.type==="mousedown"?ne.target:e.getNode(),De=ar(x.fromDom(Ie),dD).map(Ne=>Ne.dom).getOrUndefined(),Se=se(De)?n.getAttrib(De,Er,"1"):"1";if(R(n.select(`img[${Er}],hr[${Er}]`),Ne=>{Ne.removeAttribute(Er)}),se(De)&&ke(De,r)){we();const Ne=e.getStart(!0);if(ke(Ne,De)&&ke(e.getEnd(!0),De)){n.setAttrib(De,Er,Se),Re.throttle(De);return}}Oe()},ae=()=>{dt(_d,ne=>{ne.elm&&(n.unbind(ne.elm),delete ne.elm)})},we=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{we(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",kt),t.on("keyup compositionend",ne=>{i&&i.nodeName==="TABLE"&&kt(ne)}),t.on("hide blur",Oe),t.on("contextmenu longpress",te,!0)}),t.on("remove",ae),{isResizable:be,showResizeRect:Z,hideResizeRect:Oe,updateResizeRect:kt,destroy:()=>{Re.cancel(),i=a=d=null}}},pD=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,s)=>{e.setStart(n.dom,s)},n=>{e.setStartAfter(n.dom)})},gD=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,s)=>{e.setEnd(n.dom,s)},n=>{e.setEndAfter(n.dom)})},VC=(e,t,n)=>{const s=e.document.createRange();return pD(s,t),gD(s,n),s},Sd=(e,t,n,s,o)=>{const r=e.document.createRange();return r.setStart(t.dom,n),r.setEnd(s.dom,o),r},Ba=Hs.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),jC=(e,t,n)=>t(x.fromDom(n.startContainer),n.startOffset,x.fromDom(n.endContainer),n.endOffset),hD=(e,t)=>t.match({domRange:n=>({ltr:K(n),rtl:b.none}),relative:(n,s)=>({ltr:er(()=>VC(e,n,s)),rtl:er(()=>b.some(VC(e,s,n)))}),exact:(n,s,o,r)=>({ltr:er(()=>Sd(e,n,s,o,r)),rtl:er(()=>b.some(Sd(e,o,r,n,s)))})}),bD=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(o=>o.collapsed===!1).map(o=>Ba.rtl(x.fromDom(o.endContainer),o.endOffset,x.fromDom(o.startContainer),o.startOffset)).getOrThunk(()=>jC(e,Ba.ltr,n)):jC(e,Ba.ltr,n)},vD=(e,t)=>{const n=hD(e,t);return bD(e,n)};Ba.ltr,Ba.rtl;const qC={create:(e,t,n,s)=>({start:e,soffset:t,finish:n,foffset:s})},CD=(e,t,n)=>{var s,o;return b.from((o=(s=e.dom).caretPositionFromPoint)===null||o===void 0?void 0:o.call(s,t,n)).bind(r=>{if(r.offsetNode===null)return b.none();const i=e.dom.createRange();return i.setStart(r.offsetNode,r.offset),i.collapse(),b.some(i)})},yD=(e,t,n)=>{var s,o;return b.from((o=(s=e.dom).caretRangeFromPoint)===null||o===void 0?void 0:o.call(s,t,n))},ED=(()=>document.caretPositionFromPoint?CD:document.caretRangeFromPoint?yD:b.none)(),_D=(e,t,n)=>{const s=x.fromDom(e.document);return ED(s,t,n).map(o=>qC.create(x.fromDom(o.startContainer),o.startOffset,x.fromDom(o.endContainer),o.endOffset))},wd=Hs.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),SD=(e,t,n,s)=>e.fold(t,n,s),wD=e=>e.fold(Ot,Ot,Ot),xD=wd.before,kD=wd.on,ND=wd.after,po={before:xD,on:kD,after:ND,cata:SD,getStart:wD},dc=Hs.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),AD=e=>dc.exact(e.start,e.soffset,e.finish,e.foffset),TD=e=>e.match({domRange:t=>x.fromDom(t.startContainer),relative:(t,n)=>po.getStart(t),exact:(t,n,s,o)=>t}),RD=dc.domRange,PD=dc.relative,OD=dc.exact,DD=e=>{const t=TD(e);return oa(t)},BD=qC.create,bi={domRange:RD,relative:PD,exact:OD,exactFromRange:AD,getWin:DD,range:BD},mc=(e,t)=>{const n=xt(e);return n==="input"?po.after(e):z(["br","img"],n)?t===0?po.before(e):po.after(e):po.on(e,t)},ID=(e,t)=>{const n=e.fold(po.before,mc,po.after),s=t.fold(po.before,mc,po.after);return bi.relative(n,s)},KC=(e,t,n,s)=>{const o=mc(e,t),r=mc(n,s);return bi.relative(o,r)},FD=e=>e.match({domRange:t=>{const n=x.fromDom(t.startContainer),s=x.fromDom(t.endContainer);return KC(n,t.startOffset,s,t.endOffset)},relative:ID,exact:KC}),xd=(e,t)=>{const s=(t||document).createDocumentFragment();return R(e,o=>{s.appendChild(o.dom)}),x.fromDom(s)},LD=e=>{const t=bi.getWin(e).dom,n=(o,r,i,a)=>Sd(t,o,r,i,a),s=FD(e);return vD(t,s).match({ltr:n,rtl:n})},$D=(e,t,n)=>_D(e,t,n),GC=(e,t,n)=>{const s=oa(x.fromDom(n));return $D(s.dom,e,t).map(o=>{const r=n.createRange();return r.setStart(o.start.dom,o.soffset),r.setEnd(o.finish.dom,o.foffset),r}).getOrUndefined()},kd=(e,t)=>se(e)&&se(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,MD=(e,t,n)=>{let s=e;for(;s&&s!==t;){if(n(s))return s;s=s.parentNode}return null},YC=(e,t,n)=>MD(e,t,n)!==null,UD=(e,t,n)=>YC(e,t,s=>s.nodeName===n),zD=(e,t)=>Vn(e)&&!YC(e,t,bs),XC=(e,t,n)=>{const s=t.parentNode;if(s){const o=new $t(t,e.getParent(s,e.isBlock)||e.getRoot());let r;for(;r=o[n?"prev":"next"]();)if(Dt(r))return!0}return!1},HD=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},WD=(e,t)=>{let n=t;for(;n&&n!==e;){if(yt(n))return!0;n=n.parentNode}return!1},Nd=(e,t,n,s,o)=>{const r=e.getRoot(),i=e.schema.getNonEmptyElements(),a=o.parentNode;let c,u;if(!a)return b.none();const d=e.getParent(a,e.isBlock)||r;if(s&&Dt(o)&&t&&e.isEmpty(d))return b.some($(a,e.nodeIndex(o)));const g=new $t(o,d);for(;u=g[s?"prev":"next"]();){if(e.getContentEditableParent(u)==="false"||zD(u,r))return b.none();if(X(u)&&u.data.length>0)return UD(u,r,"A")?b.none():b.some($(u,s?u.data.length:0));if(e.isBlock(u)||i[u.nodeName.toLowerCase()])return b.none();c=u}return Ao(c)?b.none():n&&c?b.some($(c,0)):b.none()},QC=(e,t,n,s)=>{const o=e.getRoot();let r,i=!1,a=n?s.startContainer:s.endContainer,c=n?s.startOffset:s.endOffset;const u=fe(a)&&c===a.childNodes.length,d=e.schema.getNonEmptyElements();let g=n;if(Vn(a))return b.none();if(fe(a)&&c>a.childNodes.length-1&&(g=!1),aa(a)&&(a=o,c=0),a===o){if(g&&(r=a.childNodes[c>0?c-1:0],r&&(Vn(r)||d[r.nodeName]||uo(r))))return b.none();if(a.hasChildNodes()){if(c=Math.min(!g&&c>0?c-1:c,a.childNodes.length-1),a=a.childNodes[c],c=X(a)&&u?a.data.length:0,!t&&a===o.lastChild&&uo(a)||WD(o,a)||Vn(a))return b.none();if(a.hasChildNodes()&&!uo(a)){r=a;const p=new $t(a,o);do{if(yt(r)||Vn(r)){i=!1;break}if(X(r)&&r.data.length>0){c=g?0:r.data.length,a=r,i=!0;break}if(d[r.nodeName.toLowerCase()]&&!cb(r)){c=e.nodeIndex(r),a=r.parentNode,g||c++,i=!0;break}}while(r=g?p.next():p.prev())}}}return t&&(X(a)&&c===0&&Nd(e,u,t,!0,a).each(p=>{a=p.container(),c=p.offset(),i=!0}),fe(a)&&(r=a.childNodes[c],r||(r=a.childNodes[c-1]),r&&Dt(r)&&!HD(r,"A")&&!XC(e,r,!1)&&!XC(e,r,!0)&&Nd(e,u,t,!0,r).each(p=>{a=p.container(),c=p.offset(),i=!0}))),g&&!t&&X(a)&&c===a.data.length&&Nd(e,u,t,!1,a).each(p=>{a=p.container(),c=p.offset(),i=!0}),i&&a?b.some($(a,c)):b.none()},pc=(e,t)=>{const n=t.collapsed,s=t.cloneRange(),o=$.fromRangeStart(t);return QC(e,n,!0,s).each(r=>{(!n||!$.isAbove(o,r))&&s.setStart(r.container(),r.offset())}),n||QC(e,n,!1,s).each(r=>{s.setEnd(r.container(),r.offset())}),n&&s.collapse(!0),kd(t,s)?b.none():b.some(s)},gc=(e,t)=>e.splitText(t),hc=e=>{let t=e.startContainer,n=e.startOffset,s=e.endContainer,o=e.endOffset;if(t===s&&X(t)){if(n>0&&n<t.data.length)if(s=gc(t,n),t=s.previousSibling,o>n){o=o-n;const r=gc(s,o).previousSibling;t=s=r,o=r.data.length,n=0}else o=0}else if(X(t)&&n>0&&n<t.data.length&&(t=gc(t,n),n=0),X(s)&&o>0&&o<s.data.length){const r=gc(s,o).previousSibling;s=r,o=r.data.length}return{startContainer:t,startOffset:n,endContainer:s,endOffset:o}},vi=e=>({walk:(o,r)=>Oa(e,o,r),split:hc,normalize:o=>pc(e,o).fold(nt,r=>(o.setStart(r.startContainer,r.startOffset),o.setEnd(r.endContainer,r.endOffset),!0))});vi.compareRanges=kd,vi.getCaretRangeFromPoint=GC,vi.getSelectedNode=Kl,vi.getNode=Do;const VD=((e,t)=>{const n=(a,c)=>{if(!zt(c)&&!c.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+c);const u=a.dom;na(u)&&(u.style[e]=c+"px")},s=a=>{const c=t(a);if(c<=0||c===null){const u=Ms(a,e);return parseFloat(u)||0}return c},o=s,r=(a,c)=>_e(c,(u,d)=>{const g=Ms(a,d),p=g===void 0?0:parseInt(g,10);return isNaN(p)?u:u+p},0);return{set:n,get:s,getOuter:o,aggregate:r,max:(a,c,u)=>{const d=r(a,u);return c>d?c-d:0}}})("height",e=>{const t=e.dom;return Yr(e)?t.getBoundingClientRect().height:t.offsetHeight}),jD=e=>VD.get(e),ZC=()=>x.fromDom(document),JC=(e,t)=>e.view(t).fold(K([]),s=>{const o=e.owner(s),r=JC(e,o);return[s].concat(r)}),qD=(e,t)=>{const n=t.owner(e);return JC(t,n)};var KD=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?b.none():b.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(x.fromDom)},owner:e=>co(e)});const GD=e=>{const t=ZC(),n=bf(t),s=qD(e,KD),o=hf(e),r=oe(s,(i,a)=>{const c=hf(a);return{left:i.left+c.left,top:i.top+c.top}},{left:0,top:0});return Xr(r.left+o.left+n.left,r.top+o.top+n.top)},Ad=e=>xt(e)==="textarea",YD=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),XD=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},QD=(e,t)=>{const n=on(e);if(n.length===0||Ad(e))return{element:e,offset:t};if(t<n.length&&!Ad(n[t]))return{element:n[t],offset:0};{const s=n[n.length-1];return Ad(s)?{element:e,offset:t}:xt(s)==="img"?{element:s,offset:1}:zn(s)?{element:s,offset:Sf(s).length}:{element:s,offset:on(s).length}}},ey=(e,t)=>{const n=zA(e),s=jD(e);return{element:e,bottom:n.top+s,height:s,pos:n,cleanup:t}},ZD=(e,t)=>{const n=QD(e,t),s=x.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Jt+"</span>");return Wn(n.element,s),ey(s,()=>_t(s))},JD=e=>ey(x.fromDom(e),Me),ty=(e,t,n,s)=>{tB(e,(o,r)=>eB(e,t,n,s),n)},ny=(e,t,n,s,o)=>{const r={elm:s.element.dom,alignToTop:o};if(YD(e,r))return;const i=bf(t).top;n(t,i,s,o),XD(e,r)},eB=(e,t,n,s)=>{const o=x.fromDom(e.getBody()),r=x.fromDom(e.getDoc());AA(o);const i=ZD(x.fromDom(n.startContainer),n.startOffset);ny(e,r,t,i,s),i.cleanup()},sy=(e,t,n,s)=>{const o=x.fromDom(e.getDoc());ny(e,o,n,JD(t),s)},tB=(e,t,n)=>{const s=n.startContainer,o=n.startOffset,r=n.endContainer,i=n.endOffset;t(x.fromDom(s),x.fromDom(r));const a=e.dom.createRng();a.setStart(s,o),a.setEnd(r,i),e.selection.setRng(n)},Td=(e,t,n,s)=>{const o=e.pos;if(n)nb(o.left,o.top,s);else{const r=o.top-t+e.height;nb(o.left,r,s)}},oy=(e,t,n,s,o)=>{const r=n+t,i=s.pos.top,a=s.bottom,c=a-i>=n;i<t?Td(s,n,o!==!1,e):i>r?Td(s,n,c?o!==!1:o===!0,e):a>r&&!c&&Td(s,n,o===!0,e)},ry=(e,t,n,s)=>{const o=oa(e).dom.innerHeight;oy(e,t,o,n,s)},iy=(e,t,n,s)=>{const o=oa(e).dom.innerHeight;oy(e,t,o,n,s);const r=GD(n.element),i=rb(window);r.top<i.y?sb(n.element,s!==!1):r.top>i.bottom&&sb(n.element,s===!0)},nB=(e,t,n)=>ty(e,ry,t,n),sB=(e,t,n)=>sy(e,t,ry,n),oB=(e,t,n)=>ty(e,iy,t,n),rB=(e,t,n)=>sy(e,t,iy,n),iB=(e,t,n)=>{(e.inline?sB:rB)(e,t,n)},Ia=(e,t,n)=>{(e.inline?nB:oB)(e,t,n)},ay=e=>e.dom.focus(),ly=e=>{const t=xo(e).dom;return e.dom===t.activeElement},Rd=(e=ZC())=>b.from(e.dom.activeElement).map(x.fromDom),aB=e=>Rd(xo(e)).filter(t=>e.dom.contains(t.dom)),cy=(e,t)=>{const n=zn(t)?Sf(t).length:on(t).length+1;return e>n?n:e<0?0:e},lB=e=>bi.range(e.start,cy(e.soffset,e.start),e.finish,cy(e.foffset,e.finish)),uy=(e,t)=>!Pl(t.dom)&&(lo(e,t)||it(e,t)),fy=e=>t=>uy(e,t.start)&&uy(e,t.finish),cB=e=>e.inline,uB=e=>bi.range(x.fromDom(e.startContainer),e.startOffset,x.fromDom(e.endContainer),e.endOffset),fB=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?b.none():b.from(t.getRangeAt(0))).map(uB)},dB=e=>{const t=oa(e);return fB(t.dom).filter(fy(e))},mB=(e,t)=>b.from(t).filter(fy(e)).map(lB),pB=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),b.some(t)}catch{return b.none()}},Pd=e=>{const t=cB(e)?dB(x.fromDom(e.getBody())):b.none();e.bookmark=t.isSome()?t:e.bookmark},Od=e=>(e.bookmark?e.bookmark:b.none()).bind(n=>mB(x.fromDom(e.getBody()),n)).bind(pB),gB=e=>{Od(e).each(t=>e.selection.setRng(t))},dy={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},hB=(e,t)=>(zt(t)||(t=0),setTimeout(e,t)),bB=(e,t)=>(zt(t)||(t=0),setInterval(e,t)),Yn={setEditorTimeout:(e,t,n)=>hB(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const s=bB(()=>{e.removed?clearInterval(s):t()},n);return s}},vB=e=>e.type==="nodechange"&&e.selectionChange,CB=(e,t)=>{const n=()=>{t.throttle()};ft.DOM.bind(document,"mouseup",n),e.on("remove",()=>{ft.DOM.unbind(document,"mouseup",n)})},yB=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},EB=(e,t)=>{yB(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{vB(n)||Pd(e)})},_B=e=>{const t=ql(()=>{Pd(e)},0);e.on("init",()=>{e.inline&&CB(e,t),EB(e,t)}),e.on("remove",()=>{t.cancel()})};let Ci;const Dd=ft.DOM,SB=e=>fe(e)&&dy.isEditorUIElement(e),wB=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},bc=(e,t)=>{const n=q1(e);return Dd.getParent(t,o=>SB(o)||(n?e.dom.is(o,n):!1))!==null},xB=e=>{try{const t=xo(x.fromDom(e.getElement()));return Rd(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},kB=(e,t)=>{const n=t.editor;_B(n),n.on("focusin",()=>{const s=e.focusedEditor;s!==n&&(s&&s.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:s}),n.focus(!0))}),n.on("focusout",()=>{Yn.setEditorTimeout(n,()=>{const s=e.focusedEditor;!bc(n,xB(n))&&s===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Ci||(Ci=s=>{const o=e.activeEditor;o&&Kh(s).each(r=>{const i=r;i.ownerDocument===document&&i!==document.body&&!bc(o,i)&&e.focusedEditor===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},Dd.bind(document,"focusin",Ci))},NB=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Ci&&(Dd.unbind(document,"focusin",Ci),Ci=null)},AB=e=>{e.on("AddEditor",ie(kB,e)),e.on("RemoveEditor",ie(NB,e))},TB=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),RB=e=>e.collapsed?b.from(Do(e.startContainer,e.startOffset)).map(x.fromDom):b.none(),PB=(e,t)=>RB(t).bind(n=>fT(n)?b.some(n):lo(e,n)?b.none():b.some(e)),my=(e,t)=>{PB(x.fromDom(e.getBody()),t).bind(n=>yn(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},Bd=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},OB=e=>ly(e)||aB(e).isSome(),DB=e=>se(e.iframeElement)&&ly(x.fromDom(e.iframeElement)),BB=e=>{const t=e.getBody();return t&&OB(x.fromDom(t))},IB=e=>{const t=xo(x.fromDom(e.getElement()));return Rd(t).filter(n=>!wB(n.dom)&&bc(e,n.dom)).isSome()},_r=e=>e.inline?BB(e):DB(e),FB=e=>_r(e)||IB(e),LB=e=>{const t=e.selection,n=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable(),se(e.bookmark)&&!_r(e)&&Od(e).each(r=>{e.selection.setRng(r),s=r});const o=TB(e,t.getNode());if(o&&e.dom.isChildOf(o,n)){Bd(o),my(e,s),Id(e);return}e.inline||(Xe.browser.isOpera()||Bd(n),e.getWin().focus()),(Xe.browser.isFirefox()||e.inline)&&(Bd(n),my(e,s)),Id(e)},Id=e=>e.editorManager.setActive(e),$B=(e,t)=>{e.removed||(t?Id(e):LB(e))},py=(e,t,n,s,o)=>{const r=n?t.startContainer:t.endContainer,i=n?t.startOffset:t.endOffset;return b.from(r).map(x.fromDom).map(a=>!s||!t.collapsed?kl(a,o(a,i)).getOr(a):a).bind(a=>ss(a)?b.some(a):Hn(a).filter(ss)).map(a=>a.dom).getOr(e)},gy=(e,t,n=!1)=>py(e,t,!0,n,(s,o)=>Math.min(jh(s),o)),hy=(e,t,n=!1)=>py(e,t,!1,n,(s,o)=>o>0?o-1:o),by=(e,t)=>{const n=e;for(;e&&X(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},MB=(e,t)=>{if(!t)return e;let n=t.startContainer,s=t.endContainer;const o=t.startOffset,r=t.endOffset;let i=t.commonAncestorContainer;t.collapsed||(n===s&&r-o<2&&n.hasChildNodes()&&(i=n.childNodes[o]),X(n)&&X(s)&&(n.length===o?n=by(n.nextSibling,!0):n=n.parentNode,r===0?s=by(s.previousSibling,!1):s=s.parentNode,n&&n===s&&(i=n)));const a=X(i)?i.parentNode:i;return fe(a)?a:e},UB=(e,t,n,s)=>{const o=[],r=e.getRoot(),i=e.getParent(n||gy(r,t,t.collapsed),e.isBlock),a=e.getParent(s||hy(r,t,t.collapsed),e.isBlock);if(i&&i!==r&&o.push(i),i&&a&&i!==a){let c=i;const u=new $t(i,r);for(;(c=u.next())&&c!==a;)e.isBlock(c)&&o.push(c)}return a&&i!==a&&a!==r&&o.push(a),o},zB=(e,t,n)=>b.from(t).bind(s=>b.from(s.parentNode).map(o=>{const r=e.nodeIndex(s),i=e.createRng();return i.setStart(o,r),i.setEnd(o,r+1),n&&(md(e,i,s,!0),md(e,i,s,!1)),i})),Fd=(e,t)=>V(t,n=>{const s=e.dispatch("GetSelectionRange",{range:n});return s.range!==n?s.range:n}),HB=e=>xt(e)==="img"?1:Cb(e).fold(()=>on(e).length,t=>t.length),WB=e=>Cb(e).filter(t=>t.trim().length!==0||t.indexOf(Gt)>-1).isSome(),VB=["img","br"],vy=e=>WB(e)||z(VB,xt(e)),jB=e=>JA(e,vy),qB=e=>KB(e,vy),KB=(e,t)=>{const n=s=>{const o=on(s);for(let r=o.length-1;r>=0;r--){const i=o[r];if(t(i))return b.some(i);const a=n(i);if(a.isSome())return a}return b.none()};return n(e)},Cy="[data-mce-autocompleter]",GB=(e,t)=>{if(yy(x.fromDom(e.getBody())).isNone()){const n=x.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Wt(n,x.fromDom(t.extractContents())),t.insertNode(n.dom),Hn(n).each(s=>s.dom.normalize()),qB(n).map(s=>{e.selection.setCursorLocation(s.dom,HB(s))})}},YB=e=>ar(e,Cy),yy=e=>ca(e,Cy),XB=(e,t)=>yy(t).each(n=>{const s=e.selection.getBookmark();No(n),e.selection.moveToBookmark(s)}),QB={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},vc=(e,t,n)=>{const s=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[s])return e[s];if(e!==t){let r=e[o];if(r)return r;for(let i=e.parent;i&&i!==t;i=i.parent)if(r=i[o],r)return r}},ZB=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!ur(n))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(n))},Ey=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class En{constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}static create(t,n){const s=new En(t,QB[t]||1);return n&&dt(n,(o,r)=>{s.attr(r,o)}),s}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const s=this;if(!le(t))return se(t)&&dt(t,(r,i)=>{s.attr(i,r)}),s;const o=s.attributes;if(o){if(n!==void 0){if(n===null){if(t in o.map){delete o.map[t];let r=o.length;for(;r--;)if(o[r].name===t)return o.splice(r,1),s}return s}if(t in o.map){let r=o.length;for(;r--;)if(o[r].name===t){o[r].value=n;break}}else o.push({name:t,value:n});return o.map[t]=n,s}return o.map[t]}}clone(){const t=this,n=new En(t.name,t.type),s=t.attributes;if(s){const o=[];o.map={};for(let r=0,i=s.length;r<i;r++){const a=s[r];a.name!=="id"&&(o[o.length]={name:a.name,value:a.value},o.map[a.name]=a.value)}n.attributes=o}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const s=n.next;t.insert(n,t,!0),n=s}t.remove()}remove(){const t=this,n=t.parent,s=t.next,o=t.prev;return n&&(n.firstChild===t?(n.firstChild=s,s&&(s.prev=null)):o&&(o.next=s),n.lastChild===t?(n.lastChild=o,o&&(o.next=null)):s&&(s.prev=o),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const s=n.lastChild;return s?(s.next=t,t.prev=s,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,s){t.parent&&t.remove();const o=n.parent||this;return s?(n===o.firstChild?o.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===o.lastChild?o.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=o,t}getAll(t){const n=this,s=[];for(let o=n.firstChild;o;o=vc(o,n))o.name===t&&s.push(o);return s}children(){const t=this,n=[];for(let s=t.firstChild;s;s=s.next)n.push(s);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let o=t.firstChild;o;o=vc(o,t))n.push(o);let s=n.length;for(;s--;){const o=n[s];o.parent=o.firstChild=o.lastChild=o.next=o.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},s){var o;const r=this;let i=r.firstChild;if(Ey(r))return!1;if(i)do{if(i.type===1){if(i.attr("data-mce-bogus"))continue;if(t[i.name]||Ey(i))return!1}if(i.type===8||i.type===3&&!ZB(i)||i.type===3&&i.parent&&n[i.parent.name]&&ur((o=i.value)!==null&&o!==void 0?o:"")||s&&s(i))return!1}while(i=vc(i,r));return!0}walk(t){return vc(this,null,t)}}const JB=(e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t)),_y=(e,t,n=0)=>{const s=e.toLowerCase();if(s.indexOf("[if ",n)!==-1&&JB(s,n)){const o=s.indexOf("[endif]",n);return s.indexOf(">",o)}else if(t){const o=s.indexOf(">",n);return o!==-1?o:s.length}else{const o=/--!?>/g;o.lastIndex=n;const r=o.exec(e);return r?r.index+r[0].length:s.length}},eI=(e,t,n)=>{const s=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,r=e.getVoidElements();let i=1,a=n;for(;i!==0;)for(s.lastIndex=a;;){const c=s.exec(t);if(c===null)return a;if(c[1]==="!"){Zt(c[2],"--")?a=_y(t,!1,c.index+3):a=_y(t,!0,c.index+1);break}else{o.lastIndex=s.lastIndex;const u=o.exec(t);if(hn(u)||u.index!==s.lastIndex)continue;c[1]==="/"?i-=1:$e(r,c[2])||(i+=1),a=s.lastIndex+u[0].length;break}}return a},tI=(e,t)=>{const n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},Sy=(e,t)=>{const n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s=e.schema;let o=tI(e.getTempAttrs(),t);const r=s.getVoidElements();let i;for(;i=n.exec(o);){const a=n.lastIndex,c=i[0].length;let u;r[i[1]]?u=a:u=eI(s,o,a),o=o.substring(0,a-c)+o.substring(u),n.lastIndex=a-c}return fo(o)},nI=Sy,sI=(e,t)=>{const n=Dn(e),s=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},oI=(e,t)=>{const n=e.getDoc(),s=xo(x.fromDom(e.getBody())),o=x.fromTag("div",n);Kt(o,"data-mce-bogus","all"),Nl(o,{position:"fixed",left:"-9999999px",top:"0"}),Tl(o,t.innerHTML);const r=vn(o,"[data-mce-bogus]");R(r,c=>{os(c,"data-mce-bogus")==="all"?_t(c):lr(c)?(Wn(c,x.fromText(Jr)),_t(c)):No(c)});const i=SA(s);Wt(i,o);const a=fo(o.dom.innerText);return _t(o),a},rI=(e,t,n)=>{let s;return t.format==="raw"?s=Q.trim(nI(e.serializer,n.innerHTML)):t.format==="text"?s=oI(e,n):t.format==="tree"?s=e.serializer.serialize(n,t):s=sI(e,e.serializer.serialize(n,t)),t.format!=="text"&&!Il(x.fromDom(n))&&le(s)?Q.trim(s):s},iI=(e,t)=>b.from(e.getBody()).fold(K(t.format==="tree"?new En("body",11):""),n=>rI(e,t,n)),wy=Q.makeMap,xy=e=>{const t=[];e=e||{};const n=e.indent,s=wy(e.indent_before||""),o=wy(e.indent_after||""),r=Ro.getEncodeFunc(e.entity_encoding||"raw",e.entities),i=e.element_format!=="xhtml";return{start:(a,c,u)=>{if(n&&s[a]&&t.length>0){const d=t[t.length-1];d.length>0&&d!==`
`&&t.push(`
`)}if(t.push("<",a),c)for(let d=0,g=c.length;d<g;d++){const p=c[d];t.push(" ",p.name,'="',r(p.value,!0),'"')}if(!u||i?t[t.length]=">":t[t.length]=" />",u&&n&&o[a]&&t.length>0){const d=t[t.length-1];d.length>0&&d!==`
`&&t.push(`
`)}},end:a=>{let c;t.push("</",a,">"),n&&o[a]&&t.length>0&&(c=t[t.length-1],c.length>0&&c!==`
`&&t.push(`
`))},text:(a,c)=>{a.length>0&&(t[t.length]=c?a:r(a))},cdata:a=>{t.push("<![CDATA[",a,"]]>")},comment:a=>{t.push("<!--",a,"-->")},pi:(a,c)=>{c?t.push("<?",a," ",r(c),"?>"):t.push("<?",a,"?>"),n&&t.push(`
`)},doctype:a=>{t.push("<!DOCTYPE",a,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Lo=(e={},t=Po())=>{const n=xy(e);return e.validate="validate"in e?e.validate:!0,{serialize:o=>{const r=e.validate,i={3:c=>{var u;n.text((u=c.value)!==null&&u!==void 0?u:"",c.raw)},8:c=>{var u;n.comment((u=c.value)!==null&&u!==void 0?u:"")},7:c=>{n.pi(c.name,c.value)},10:c=>{var u;n.doctype((u=c.value)!==null&&u!==void 0?u:"")},4:c=>{var u;n.cdata((u=c.value)!==null&&u!==void 0?u:"")},11:c=>{let u=c;if(u=u.firstChild)do a(u);while(u=u.next)}};n.reset();const a=c=>{var u;const d=i[c.type];if(d)d(c);else{const g=c.name,p=g in t.getVoidElements();let E=c.attributes;if(r&&E&&E.length>1){const _=[];_.map={};const y=t.getElementRule(c.name);if(y){for(let S=0,w=y.attributesOrder.length;S<w;S++){const k=y.attributesOrder[S];if(k in E.map){const A=E.map[k];_.map[k]=A,_.push({name:k,value:A})}}for(let S=0,w=E.length;S<w;S++){const k=E[S].name;if(!(k in _.map)){const A=E.map[k];_.map[k]=A,_.push({name:k,value:A})}}E=_}}if(n.start(g,E,p),!p){let _=c.firstChild;if(_){(g==="pre"||g==="textarea")&&_.type===3&&((u=_.value)===null||u===void 0?void 0:u[0])===`
`&&n.text(`
`,!0);do a(_);while(_=_.next)}n.end(g)}}};return o.type===1&&!e.inner?a(o):o.type===3?i[3](o):i[11](o),n.getContent()}}},ky=new Set;R(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{ky.add(t)});const Ny=["font","text-decoration","text-emphasis"],Ld=(e,t)=>Un(e.parseStyle(e.getAttrib(t,"style"))),aI=e=>ky.has(e),lI=(e,t)=>rt(Ld(e,t),n=>!aI(n)),cI=e=>j(e,t=>Y(Ny,n=>Zt(t,n))),uI=(e,t,n)=>{const s=Ld(e,t),o=Ld(e,n),r=i=>{var a,c;const u=(a=e.getStyle(t,i))!==null&&a!==void 0?a:"",d=(c=e.getStyle(n,i))!==null&&c!==void 0?c:"";return Fs(u)&&Fs(d)&&u!==d};return Y(s,i=>{const a=c=>Y(c,u=>u===i);if(!a(o)&&a(Ny)){const c=cI(o);return Y(c,r)}else return r(i)})},Ay=(e,t,n)=>b.from(n.container()).filter(X).exists(s=>{const o=e?0:-1;return t(s.data.charAt(n.offset()+o))}),$d=ie(Ay,!0,di),Md=ie(Ay,!1,di),fI=e=>{const t=e.container();return X(t)&&(t.data.length===0||Fl(t.data)&&Da.isBookmarkNode(t.parentNode))},$o=(e,t)=>n=>td(e?0:-1,n).filter(t).isSome(),Ty=e=>lb(e)&&Ms(x.fromDom(e),"display")==="block",Ry=e=>yt(e)&&!VA(e),dI=$o(!0,Ty),mI=$o(!1,Ty),Fa=$o(!0,zs),La=$o(!1,zs),Py=$o(!0,uo),Oy=$o(!1,uo),Mo=$o(!0,Ry),Uo=$o(!1,Ry),pI=e=>e.slice(0,-1),gI=(e,t,n)=>lo(t,e)?pI(CA(e,s=>n(s)||it(s,t))):[],Dy=(e,t)=>gI(e,t,nt),go=(e,t)=>[e].concat(Dy(e,t)),Ud=(e,t,n)=>aC(e,t,n,fI),By=(e,t)=>Ce(go(x.fromDom(t.container()),e),ps),Iy=(e,t,n)=>Ud(e,t.dom,n).forall(s=>By(t,n).fold(()=>!Ws(s,n,t.dom),o=>!Ws(s,n,t.dom)&&lo(o,x.fromDom(s.container())))),Fy=(e,t,n)=>By(t,n).fold(()=>Ud(e,t.dom,n).forall(s=>!Ws(s,n,t.dom)),s=>Ud(e,s.dom,n).isNone()),zd=ie(Fy,!1),Ly=ie(Fy,!0),hI=ie(Iy,!1),bI=ie(Iy,!0),vI=e=>ec(e).exists(lr),Cc=(e,t,n)=>{const s=j(go(x.fromDom(n.container()),t),ps),o=tn(s).getOr(t);return jn(e,o.dom,n).filter(vI)},Hd=(e,t)=>ec(t).exists(lr)||Cc(!0,e,t).isSome(),Wd=(e,t)=>XP(t).exists(lr)||Cc(!1,e,t).isSome(),CI=ie(Cc,!1),yI=ie(Cc,!0),$y=e=>$.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),My=(e,t)=>{const n=j(go(x.fromDom(t.container()),e),ps);return tn(n).getOr(e)},Uy=(e,t)=>$y(t)?Md(t):Md(t)||qn(My(e,t).dom,t).exists(Md),zy=(e,t)=>$y(t)?$d(t):$d(t)||An(My(e,t).dom,t).exists($d),EI=e=>z(["pre","pre-wrap"],e),Vd=e=>ec(e).bind(t=>Zr(t,ss)).exists(t=>EI(Ms(t,"white-space"))),_I=(e,t)=>qn(e.dom,t).isNone(),SI=(e,t)=>An(e.dom,t).isNone(),wI=(e,t)=>_I(e,t)||SI(e,t)||zd(e,t)||Ly(e,t)||Wd(e,t)||Hd(e,t),xI=e=>se(e)&&yt(e)&&Gv(e),Hy=(e,t)=>n=>xI(new $t(n,e)[t]()),kI=(e,t)=>{const n=An(e.dom,t).getOr(t),s=Hy(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(n.container()))},NI=(e,t)=>{const n=qn(e.dom,t).getOr(t),s=Hy(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(n.container()))},AI=(e,t)=>Vd(t)?!1:wI(e,t)||Uy(e,t)||zy(e,t),$a=(e,t)=>Vd(t)?!1:zd(e,t)||hI(e,t)||Wd(e,t)||Uy(e,t)||NI(e,t),TI=e=>{const t=e.container(),n=e.offset();return X(t)&&n<t.data.length?$(t,n+1):e},Ma=(e,t)=>Vd(t)?!1:Ly(e,t)||bI(e,t)||Hd(e,t)||zy(e,t)||kI(e,t),jd=(e,t)=>$a(e,t)||Ma(e,TI(t)),Wy=(e,t)=>rc(e.charAt(t)),Vy=(e,t)=>di(e.charAt(t)),RI=e=>{const t=e.container();return X(t)&&nn(t.data,Gt)},PI=e=>{const t=e.split("");return V(t,(n,s)=>rc(n)&&s>0&&s<t.length-1&&ld(t[s-1])&&ld(t[s+1])?" ":n).join("")},jy=(e,t,n)=>{const s=t.data,o=$(t,0);return!n&&Wy(s,0)&&!jd(e,o)?(t.data=" "+s.slice(1),!0):n&&Vy(s,0)&&$a(e,o)?(t.data=Gt+s.slice(1),!0):!1},OI=e=>{const t=e.data,n=PI(t);return n!==t?(e.data=n,!0):!1},qy=(e,t,n)=>{const s=t.data,o=$(t,s.length-1);return!n&&Wy(s,s.length-1)&&!jd(e,o)?(t.data=s.slice(0,-1)+" ",!0):n&&Vy(s,s.length-1)&&Ma(e,o)?(t.data=s.slice(0,-1)+Gt,!0):!1},DI=(e,t)=>{const n=t.container();if(!X(n))return b.none();if(RI(t)){const s=jy(e,n,!1)||OI(n)||qy(e,n,!1);return Zi(s,t)}else if(jd(e,t)){const s=jy(e,n,!0)||qy(e,n,!0);return Zi(s,t)}else return b.none()},BI=e=>{const t=x.fromDom(e.getBody());e.selection.isCollapsed()&&DI(t,$.fromRangeStart(e.selection.getRng())).each(n=>{e.selection.setRng(n.toRange())})},Ky=(e,t,n)=>{if(n===0)return;const s=x.fromDom(e),o=Qr(s,ps).getOr(s),r=e.data.slice(t,t+n),i=t+n>=e.data.length&&Ma(o,$(e,e.data.length)),a=t===0&&$a(o,$(e,0));e.replaceData(t,n,kb(r,4,a,i))},yc=(e,t)=>{const n=e.data.slice(t),s=n.length-UN(n).length;Ky(e,t,s)},qd=(e,t)=>{const n=e.data.slice(0,t),s=n.length-ih(n).length;Ky(e,t-s,s)},Kd=(e,t,n,s=!0)=>{const o=ih(e.data).length,r=s?e:t,i=s?t:e;return s?r.appendData(i.data):r.insertData(0,i.data),_t(x.fromDom(i)),n&&yc(r,o),r},II=(e,t)=>{const n=e.container(),s=e.offset();return!$.isTextPosition(e)&&n===t.parentNode&&s>$.before(t).offset()},FI=(e,t)=>II(t,e)?$(t.container(),t.offset()-1):t,LI=e=>X(e)?$(e,0):$.before(e),$I=e=>X(e)?$(e,e.data.length):$.after(e),Gy=e=>rs(e.previousSibling)?b.some($I(e.previousSibling)):e.previousSibling?qs(e.previousSibling):b.none(),Yy=e=>rs(e.nextSibling)?b.some(LI(e.nextSibling)):e.nextSibling?yn(e.nextSibling):b.none(),MI=(e,t)=>b.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>qn(e,$.before(n))).orThunk(()=>An(e,$.after(t))),UI=(e,t)=>An(e,$.after(t)).orThunk(()=>qn(e,$.before(t))),zI=(e,t)=>Gy(t).orThunk(()=>Yy(t)).orThunk(()=>MI(e,t)),HI=(e,t)=>Yy(t).orThunk(()=>Gy(t)).orThunk(()=>UI(e,t)),WI=(e,t,n)=>e?HI(t,n):zI(t,n),VI=(e,t,n)=>WI(e,t,n).map(ie(FI,n)),Xy=(e,t,n)=>{n.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},jI=e=>t=>t.dom===e,qI=(e,t)=>t&&$e(e.schema.getBlockElements(),xt(t)),KI=e=>{if(Yt(e)){const t=x.fromHtml('<br data-mce-bogus="1">');return ia(e),Wt(e,t),b.some($.before(t.dom))}else return b.none()},GI=(e,t,n)=>{const s=sr(e).filter(zn),o=ra(e).filter(zn);return _t(e),sA(s,o,t,(r,i,a)=>{const c=r.dom,u=i.dom,d=c.data.length;return Kd(c,u,n),a.container()===u?$(c,d):a}).orThunk(()=>(n&&(s.each(r=>qd(r.dom,r.dom.length)),o.each(r=>yc(r.dom,0))),t))},YI=(e,t)=>$e(e.schema.getTextInlineElements(),xt(t)),Sr=(e,t,n,s=!0)=>{const o=VI(t,e.getBody(),n.dom),r=Qr(n,ie(qI,e),jI(e.getBody())),i=GI(n,o,YI(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):r.bind(KI).fold(()=>{s&&Xy(e,t,i)},a=>{s&&Xy(e,t,b.some(a))})},XI=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,QI=e=>XI.test(e),wr=(e,t)=>ds(x.fromDom(t),F1(e)),ZI=e=>{var t;return ft.DOM.getStyle(e,"direction",!0)==="rtl"||QI((t=e.textContent)!==null&&t!==void 0?t:"")},JI=(e,t,n)=>j(ft.DOM.getParents(n.container(),"*",t),e),zo=(e,t,n)=>{const s=JI(e,t,n);return b.from(s[s.length-1])},eF=(e,t,n)=>{const s=Io(t,e),o=Io(n,e);return se(s)&&s===o},tF=e=>xf(e)||kf(e),Xn=(e,t)=>{const n=t.container(),s=t.offset();return e?ni(n)?X(n.nextSibling)?$(n.nextSibling,0):$.after(n):xf(t)?$(n,s+1):t:ni(n)?X(n.previousSibling)?$(n.previousSibling,n.previousSibling.data.length):$.before(n):kf(t)?$(n,s-1):t},Qy=ie(Xn,!0),Zy=ie(Xn,!1),Jy=(e,t)=>{const n=s=>s.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},nF=e=>{e.execCommand("delete")},e0=e=>Jy(e,"Delete"),sF=e=>Jy(e,"ForwardDelete"),oF=e=>t=>Gr(Hn(t),e,it),rF=e=>uT(e)||ua(e),Ec=(e,t)=>lo(e,t)?Zr(t,rF,oF(e)):b.none(),Gd=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},iF=(e,t,n)=>bn(yn(n),qs(n),(s,o)=>{const r=Xn(!0,s),i=Xn(!1,o),a=Xn(!1,t);return e?An(n,a).exists(c=>c.isEqual(i)&&t.isEqual(r)):qn(n,a).exists(c=>c.isEqual(r)&&t.isEqual(i))}).getOr(!0),t0=e=>(oA(e)?sr(e):mf(e)).bind(t0).orThunk(()=>b.some(e)),n0=(e,t,n,s=!0)=>{var o;t.deleteContents();const r=t0(n).getOr(n),i=x.fromDom((o=e.dom.getParent(r.dom,e.dom.isBlock))!==null&&o!==void 0?o:n.dom);if(i.dom===e.getBody()?Gd(e,s):Yt(i)&&(cr(i),s&&e.selection.setCursorLocation(i.dom,0)),!it(n,i)){const a=Gr(Hn(i),n)?[]:yA(i);R(a.concat(on(n)),c=>{!it(c,i)&&!lo(c,i)&&Yt(c)&&_t(c)})}},aF=e=>t=>it(e,t),Yd=e=>vn(e,"td,th"),lF=(e,t)=>{const n=u=>Ra(x.fromDom(u),t),s=n(e.startContainer),o=n(e.endContainer),r=s.isSome(),i=o.isSome(),a=bn(s,o,it).getOr(!1);return{startTable:s,endTable:o,isStartInTable:r,isEndInTable:i,isSameTable:a,isMultiTable:!a&&r&&i}},Xd=(e,t)=>({start:e,end:t}),cF=(e,t,n)=>({rng:e,table:t,cells:n}),Ua=Hs.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),_c=(e,t)=>ar(x.fromDom(e),"td,th",t),s0=e=>!it(e.start,e.end),o0=(e,t)=>Ra(e.start,t).bind(n=>Ra(e.end,t).bind(s=>Zi(it(n,s),n))),uF=(e,t)=>!s0(e)&&o0(e,t).exists(n=>{const s=n.dom.rows;return s.length===1&&s[0].cells.length===1}),fF=(e,t)=>{const n=_c(e.startContainer,t),s=_c(e.endContainer,t);return bn(n,s,Xd)},dF=e=>t=>Ra(t,e).bind(n=>Ht(Yd(n)).map(s=>Xd(t,s))),mF=e=>t=>Ra(t,e).bind(n=>tn(Yd(n)).map(s=>Xd(s,t))),Qd=e=>t=>o0(t,e).map(n=>cF(t,n,Yd(n))),r0=(e,t,n,s)=>{if(n.collapsed||!e.forall(s0))return b.none();if(t.isSameTable){const o=e.bind(Qd(s));return b.some({start:o,end:o})}else{const o=_c(n.startContainer,s),r=_c(n.endContainer,s),i=o.bind(dF(s)).bind(Qd(s)),a=r.bind(mF(s)).bind(Qd(s));return b.some({start:i,end:a})}},i0=(e,t)=>Ue(e,n=>it(n,t)),Zd=e=>bn(i0(e.cells,e.rng.start),i0(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),pF=(e,t,n)=>e.exists(s=>uF(s,n)&&dd(s.start,t)),a0=(e,t)=>{const{startTable:n,endTable:s}=t,o=e.cloneRange();return n.each(r=>o.setStartAfter(r.dom)),s.each(r=>o.setEndBefore(r.dom)),o},gF=(e,t,n,s)=>r0(e,t,n,s).bind(({start:o,end:r})=>o.or(r)).bind(o=>{const{isSameTable:r}=t,i=Zd(o).getOr([]);if(r&&o.cells.length===i.length)return b.some(Ua.fullTable(o.table));if(i.length>0){if(r)return b.some(Ua.partialTable(i,b.none()));{const a=a0(n,t);return b.some(Ua.partialTable(i,b.some({...t,rng:a})))}}else return b.none()}),hF=(e,t,n,s)=>r0(e,t,n,s).bind(({start:o,end:r})=>{const i=o.bind(Zd).getOr([]),a=r.bind(Zd).getOr([]);if(i.length>0&&a.length>0){const c=a0(n,t);return b.some(Ua.multiTable(i,a,c))}else return b.none()}),bF=(e,t)=>{const n=aF(e),s=fF(t,n),o=lF(t,n);return pF(s,t,n)?s.map(r=>Ua.singleCellTable(t,r.start)):o.isMultiTable?hF(s,o,t,n):gF(s,o,t,n)},l0=e=>R(e,t=>{sn(t,"contenteditable"),cr(t)}),vF=(e,t)=>b.from(e.dom.getParent(t,e.dom.isBlock)).map(x.fromDom),CF=(e,t,n)=>{n.each(s=>{t?_t(s):(cr(s),e.selection.setCursorLocation(s.dom,0))})},Jd=(e,t,n,s)=>{const o=n.cloneRange();s?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),em(e,o,t,!1).each(r=>r())},c0=e=>{const t=mi(e),n=x.fromDom(e.selection.getNode());Dl(n.dom)&&Yt(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&Y(t,s=>it(s,n))&&Kt(n,"data-mce-selected","1")},u0=(e,t,n)=>b.some(()=>{const s=e.selection.getRng(),o=n.bind(({rng:r,isStartInTable:i})=>{const a=vF(e,i?r.endContainer:r.startContainer);r.deleteContents(),CF(e,i,a.filter(Yt));const c=i?t[0]:t[t.length-1];return Jd(e,c,s,i),Yt(c)?b.none():b.some(i?t.slice(1):t.slice(0,-1))}).getOr(t);l0(o),c0(e)}),yF=(e,t,n,s)=>b.some(()=>{const o=e.selection.getRng(),r=t[0],i=n[n.length-1];Jd(e,r,o,!0),Jd(e,i,o,!1);const a=Yt(r)?t:t.slice(1),c=Yt(i)?n:n.slice(0,-1);l0(a.concat(c)),s.deleteContents(),c0(e)}),em=(e,t,n,s=!0)=>b.some(()=>{n0(e,t,n,s)}),EF=(e,t)=>b.some(()=>Sr(e,!1,t)),_F=(e,t,n)=>bF(t,n).bind(s=>s.fold(ie(em,e),ie(EF,e),ie(u0,e),ie(yF,e))),SF=(e,t)=>Sc(e,t),wF=(e,t,n,s)=>tm(t,s).fold(()=>_F(e,t,n),o=>SF(e,o)),xF=(e,t,n)=>{const s=x.fromDom(e.getBody()),o=e.selection.getRng();return n.length!==0?u0(e,n,b.none()):wF(e,s,o,t)},f0=(e,t)=>Ce(go(t,e),Bl),tm=(e,t)=>Ce(go(t,e),uf("caption")),kF=(e,t,n,s,o)=>sc(n,e.getBody(),o).bind(r=>f0(t,x.fromDom(r.getNode())).bind(i=>it(i,s)?b.none():b.some(Me))),Sc=(e,t)=>b.some(()=>{cr(t),e.selection.setCursorLocation(t.dom,0)}),NF=(e,t,n,s)=>yn(e.dom).bind(o=>qs(e.dom).map(r=>t?n.isEqual(o)&&s.isEqual(r):n.isEqual(r)&&s.isEqual(o))).getOr(!0),AF=(e,t)=>Sc(e,t),TF=(e,t,n)=>tm(e,x.fromDom(n.getNode())).fold(()=>b.some(Me),s=>Zi(!it(s,t),Me)),RF=(e,t,n,s,o)=>sc(n,e.getBody(),o).fold(()=>b.some(Me),r=>NF(s,n,o,r)?AF(e,s):TF(t,s,r)),PF=(e,t,n,s)=>{const o=$.fromRangeStart(e.selection.getRng());return f0(n,s).bind(r=>Yt(r)?Sc(e,r):kF(e,n,t,r,o))},OF=(e,t,n,s)=>{const o=$.fromRangeStart(e.selection.getRng());return Yt(s)?Sc(e,s):RF(e,n,t,s,o)},d0=(e,t)=>e?Py(t):Oy(t),DF=(e,t)=>{const n=$.fromRangeStart(e.selection.getRng());return d0(t,n)||jn(t,e.getBody(),n).exists(s=>d0(t,s))},BF=(e,t,n)=>{const s=x.fromDom(e.getBody());return tm(s,n).fold(()=>PF(e,t,s,n).orThunk(()=>Zi(DF(e,t),Me)),o=>OF(e,t,s,o))},nm=(e,t)=>{const n=x.fromDom(e.selection.getStart(!0)),s=mi(e);return e.selection.isCollapsed()&&s.length===0?BF(e,t,n):xF(e,n,s)},xr=(e,t)=>{let n=t;for(;n&&n!==e;){if(Us(n)||yt(n))return n;n=n.parentNode}return null},IF=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],FF=Q.each,sm=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),s=(r,i)=>{if(r.nodeName!==i.nodeName||r.nodeType!==i.nodeType)return!1;const a=u=>{const d={};return FF(t.getAttribs(u),g=>{const p=g.nodeName.toLowerCase();p!=="style"&&!o(p)&&(d[p]=t.getAttrib(u,p))}),d},c=(u,d)=>{for(const g in u)if($e(u,g)){const p=d[g];if(lt(p)||u[g]!==p)return!1;delete d[g]}for(const g in d)if($e(d,g))return!1;return!0};return fe(r)&&fe(i)&&(!c(a(r),a(i))||!c(t.parseStyle(t.getAttrib(r,"style")),t.parseStyle(t.getAttrib(i,"style"))))?!1:!Kn(r)&&!Kn(i)},o=r=>Y(IF,i=>Zt(r,i))||n.has(r);return{compare:s,isAttributeInternal:o}},LF=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},m0=(e,t,n,s)=>{const o=n.name;for(let r=0,i=e.length;r<i;r++){const a=e[r];if(a.name===o){const c=s.nodes[o];c?c.nodes.push(n):s.nodes[o]={filter:a,nodes:[n]}}}if(n.attributes)for(let r=0,i=t.length;r<i;r++){const a=t[r],c=a.name;if(c in n.attributes.map){const u=s.attributes[c];u?u.nodes.push(n):s.attributes[c]={filter:a,nodes:[n]}}}},$F=(e,t,n)=>{const s={nodes:{},attributes:{}};return n.firstChild&&LF(n,o=>{m0(e,t,o,s)}),s},p0=(e,t)=>{const n=(s,o)=>{dt(s,r=>{const i=wt(r.nodes);R(r.filter.callbacks,a=>{for(let c=i.length-1;c>=0;c--){const u=i[c];(!(o?u.attr(r.filter.name)!==void 0:u.name===r.filter.name)||Ve(u.parent))&&i.splice(c,1)}i.length>0&&a(i,r.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},g0=(e,t,n,s={})=>{const o=$F(e,t,n);p0(o,s)},om=(e,t,n,s)=>{if(t.insert&&n[s.name]){const o=new En("br",1);o.attr("data-mce-bogus","1"),s.empty().append(o)}else s.empty().append(new En("#text",3)).value=Gt},MF=e=>{var t;return h0(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Gt},h0=(e,t)=>{const n=e==null?void 0:e.firstChild;return se(n)&&n===e.lastChild&&n.name===t},UF=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},za=(e,t,n,s)=>s.isEmpty(t,n,o=>UF(e,o)),zF=(e,t)=>se(e)&&(e.name in t||e.name==="br"),rm=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const o of s)n&&!t.isValidChild(n.name,o.name)&&rm(o,t,n);e.unwrap()}},im=(e,t,n=Me)=>{const s=t.getTextBlockElements(),o=t.getNonEmptyElements(),r=t.getWhitespaceElements(),i=Q.makeMap("tr,td,th,tbody,thead,tfoot,table"),a=new Set;for(let c=0;c<e.length;c++){const u=e[c];let d,g,p;if(!u.parent||a.has(u))continue;if(s[u.name]&&u.parent.name==="li"){let _=u.next;for(;_&&s[_.name];){_.name="li",a.add(_),u.parent.insert(_,u.parent);_=_.next}u.unwrap();continue}const E=[u];for(d=u.parent;d&&!t.isValidChild(d.name,u.name)&&!i[d.name];d=d.parent)E.push(d);if(d&&E.length>1)if(t.isValidChild(d.name,u.name)){E.reverse(),g=E[0].clone(),n(g);let _=g;for(let y=0;y<E.length-1;y++){t.isValidChild(_.name,E[y].name)?(p=E[y].clone(),n(p),_.append(p)):p=_;for(let S=E[y].firstChild;S&&S!==E[y+1];){const w=S.next;p.append(S),S=w}_=p}za(t,o,r,g)?d.insert(u,E[0],!0):(d.insert(g,E[0],!0),d.insert(u,g)),d=E[0],(za(t,o,r,d)||h0(d,"br"))&&d.empty().remove()}else rm(u,t);else if(u.parent){if(u.name==="li"){let _=u.prev;if(_&&(_.name==="ul"||_.name==="ol")){_.append(u);continue}if(_=u.next,_&&(_.name==="ul"||_.name==="ol")&&_.firstChild){_.insert(u,_.firstChild,!0);continue}const y=new En("ul",1);n(y),u.wrap(y);continue}if(t.isValidChild(u.parent.name,"div")&&t.isValidChild("div",u.name)){const _=new En("div",1);n(_),u.wrap(_)}else rm(u,t)}}},HF=(e,t,n,s)=>{const o=document.createRange();return o.setStart(e,t),o.setEnd(n,s),o},WF=e=>{const t=$.fromRangeStart(e),n=$.fromRangeEnd(e),s=e.commonAncestorContainer;return jn(!1,s,n).map(o=>!Ws(t,n,s)&&Ws(t,o,s)?HF(t.container(),t.offset(),o.container(),o.offset()):e).getOr(e)},am=e=>e.collapsed?e:WF(e),VF=e=>se(e.firstChild)&&e.firstChild===e.lastChild,jF=e=>e.name==="br"||e.value===Gt,qF=(e,t)=>e.getBlockElements()[t.name]&&VF(t)&&jF(t.firstChild),KF=(e,t)=>{const n=e.getNonEmptyElements();return se(t)&&(t.isEmpty(n)||qF(e,t))},GF=(e,t)=>{let n=t.firstChild,s=t.lastChild;return n&&n.name==="meta"&&(n=n.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),KF(e,s)&&(s=s==null?void 0:s.prev),!n||n!==s?!1:n.name==="ul"||n.name==="ol"},YF=e=>{var t,n;const s=e.firstChild,o=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),o&&o.id==="mce_marker"&&((n=o.parentNode)===null||n===void 0||n.removeChild(o)),e},XF=(e,t,n)=>{const s=t.serialize(n),o=e.createFragment(s);return YF(o)},QF=e=>{var t;return j((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},ZF=e=>e.data===Gt||Dt(e),JF=e=>se(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&ZF(e.firstChild),eL=e=>!e.firstChild||JF(e),tL=e=>e.length>0&&eL(e[e.length-1])?e.slice(0,-1):e,lm=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},nL=(e,t)=>!!lm(e,t),sL=(e,t)=>{const n=t.cloneRange(),s=t.cloneRange();return n.setStartBefore(e),s.setEndAfter(e),[n.cloneContents(),s.cloneContents()]},oL=(e,t)=>{const n=$.before(e),o=js(t).next(n);return o?o.toRange():null},b0=(e,t)=>{const n=$.after(e),o=js(t).prev(n);return o?o.toRange():null},rL=(e,t,n,s)=>{const o=sL(e,s),r=e.parentNode;return r&&(r.insertBefore(o[0],e),Q.each(t,i=>{r.insertBefore(i,e)}),r.insertBefore(o[1],e),r.removeChild(e)),b0(t[t.length-1],n)},iL=(e,t,n)=>{const s=e.parentNode;return s&&Q.each(t,o=>{s.insertBefore(o,e)}),oL(e,n)},aL=(e,t,n,s)=>(s.insertAfter(t.reverse(),e),b0(t[0],n)),lL=(e,t,n,s)=>{const o=XF(t,e,s),r=lm(t,n.startContainer),i=tL(QF(o.firstChild)),a=1,c=2,u=t.getRoot(),d=g=>{const p=$.fromRangeStart(n),E=js(t.getRoot()),_=g===a?E.prev(p):E.next(p),y=_==null?void 0:_.getNode();return y?lm(t,y)!==r:!0};return r?d(a)?iL(r,i,u):d(c)?aL(r,i,u,t):rL(r,i,u,n):null},cL=["pre"],uL=(e,t,n,s)=>{var o;const r=t.firstChild,i=t.lastChild,a=i.attr("data-mce-type")==="bookmark"?i.prev:i,c=r===a,u=z(cL,r.name);if(c&&u){const d=r.attr("contenteditable")!=="false",g=((o=e.getParent(n,e.isBlock))===null||o===void 0?void 0:o.nodeName.toLowerCase())===r.name,p=b.from(xr(s,n)).forall(Us);return d&&g&&p}else return!1},cm=Dl,fL=(e,t,n)=>{if(se(n)){const s=e.getParent(t.endContainer,cm);return n===s&&dd(x.fromDom(n),t)}else return!1},dL=(e,t,n)=>{var s;if(n.getAttribute("data-mce-bogus")==="all")(s=n.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),n);else{const o=n.firstChild,r=n.lastChild;!o||o===r&&o.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},mL=(e,t)=>{b.from(e.getParent(t,"td,th")).map(x.fromDom).each(bT)},pL=(e,t)=>{const n=e.schema.getTextInlineElements(),s=e.dom;if(t){const o=e.getBody(),r=sm(e);Q.each(s.select("*[data-mce-fragment]"),i=>{if(se(n[i.nodeName.toLowerCase()])&&lI(s,i)){for(let c=i.parentElement;se(c)&&c!==o&&!uI(s,i,c);c=c.parentElement)if(r.compare(c,i)){s.remove(i,!0);break}}})}},gL=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},hL=e=>{Q.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},bL=e=>!!e.getAttribute("data-mce-fragment"),vL=(e,t)=>se(t)&&!e.schema.getVoidElements()[t.nodeName],CL=(e,t)=>{var n,s,o;let r;const i=e.dom,a=e.selection;if(!t)return;a.scrollIntoView(t);const c=xr(e.getBody(),t);if(c&&i.getContentEditable(c)==="false"){i.remove(t),a.select(c);return}let u=i.createRng();const d=t.previousSibling;if(X(d)){u.setStart(d,(s=(n=d.nodeValue)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0);const E=t.nextSibling;X(E)&&(d.appendData(E.data),(o=E.parentNode)===null||o===void 0||o.removeChild(E))}else u.setStartBefore(t),u.setEndBefore(t);const g=E=>{let _=$.fromRangeStart(E);return _=js(e.getBody()).next(_),_==null?void 0:_.toRange()},p=i.getParent(t,i.isBlock);i.remove(t),p&&i.isEmpty(p)&&(ia(x.fromDom(p)),u.setStart(p,0),u.setEnd(p,0),!cm(p)&&!bL(p)&&(r=g(u))?(u=r,i.remove(p)):i.add(p,i.create("br",{"data-mce-bogus":"1"}))),a.setRng(u)},yL=e=>{const t=e.dom,n=am(e.selection.getRng());e.selection.setRng(n);const s=t.getParent(n.startContainer,cm);fL(t,n,s)?em(e,n,x.fromDom(s)):e.getDoc().execCommand("Delete",!1)},EL=(e,t,n)=>{var s,o,r;const i=e.selection,a=e.dom,c=e.parser,u=n.merge,d=Lo({validate:!0},e.schema),g='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,g);let p=i.getRng();const E=p.startContainer,_=e.getBody();E===_&&i.isCollapsed()&&a.isBlock(_.firstChild)&&vL(e,_.firstChild)&&a.isEmpty(_.firstChild)&&(p=a.createRng(),p.setStart(_.firstChild,0),p.setEnd(_.firstChild,0),i.setRng(p)),i.isCollapsed()||yL(e);const y=i.getNode(),S={context:y.nodeName.toLowerCase(),data:n.data,insert:!0},w=c.parse(t,S);if(n.paste===!0&&GF(e.schema,w)&&nL(a,y))return p=lL(d,a,i.getRng(),w),p&&i.setRng(p),t;n.paste===!0&&uL(a,w,y,e.getBody())&&((s=w.firstChild)===null||s===void 0||s.unwrap()),gL(w);let k=w.lastChild;if(k&&k.attr("id")==="mce_marker"){const A=k;for(k=k.prev;k;k=k.walk(!0))if(k.type===3||!a.isBlock(k.name)){k.parent&&e.schema.isValidChild(k.parent.name,"span")&&k.parent.insert(A,k,k.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(y),!S.invalid)t=d.serialize(w),dL(e,t,y);else{e.selection.setContent(g);let A=i.getNode(),U;const H=e.getBody();for(aa(A)?A=U=H:U=A;U&&U!==H;)A=U,U=U.parentNode;t=A===H?H.innerHTML:a.getOuterHTML(A);const ee=c.parse(t);for(let te=ee;te;te=te.walk())if(te.attr("id")==="mce_marker"){te.replace(w);break}const W=w.children(),F=(r=(o=w.parent)===null||o===void 0?void 0:o.name)!==null&&r!==void 0?r:ee.name;w.unwrap();const L=j(W,te=>!e.schema.isValidChild(F,te.name));im(L,e.schema),g0(c.getNodeFilters(),c.getAttributeFilters(),ee),t=d.serialize(ee),A===H?a.setHTML(H,t):a.setOuterHTML(A,t)}return pL(e,u),CL(e,a.get("mce_marker")),hL(e.getBody()),mL(a,i.getStart()),t},wc=e=>e instanceof En,_L=e=>{_r(e)&&yn(e.getBody()).each(t=>{const n=t.getNode(),s=uo(n)?yn(n).getOr(t):t;e.selection.setRng(s.toRange())})},um=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&_L(e)},SL=(e,t,n,s)=>{if(n.length===0||/^\s+$/.test(n)){const o='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>");const r=Dn(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),r.toLowerCase())?(n=o,n=e.dom.createHTML(r,_a(e),n)):n||(n=o),um(e,n,s.no_selection),{content:n,html:n}}else{s.format!=="raw"&&(n=Lo({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const o=Il(x.fromDom(t))?n:Q.trim(n);return um(e,o,s.no_selection),{content:o,html:o}}},wL=(e,t,n,s)=>{g0(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const o=Lo({validate:!1},e.schema).serialize(n),r=Il(x.fromDom(t))?o:Q.trim(o);return um(e,r,s.no_selection),{content:n,html:r}},xL=(e,t,n)=>b.from(e.getBody()).map(s=>wc(t)?wL(e,s,t,n):SL(e,s,t,n)).getOr({content:t,html:wc(n.content)?"":n.content}),kL=(e,t)=>QA(e,t).isSome(),v0=e=>He(e)?e:nt,NL=(e,t,n)=>{let s=e.dom;const o=v0(n);for(;s.parentNode;){s=s.parentNode;const r=x.fromDom(s),i=t(r);if(i.isSome())return i;if(o(r))break}return b.none()},fm=(e,t,n)=>{const s=t(e),o=v0(n);return s.orThunk(()=>o(e)?b.none():NL(e,t,o))},dm=vd,C0=(e,t,n)=>{const s=e.formatter.get(n);if(s)for(let o=0;o<s.length;o++){const r=s[o];if(Gn(r)&&r.inherit===!1&&e.dom.is(t,r.selector))return!0}return!1},mm=(e,t,n,s,o)=>{const r=e.dom.getRoot();if(t===r)return!1;const i=e.dom.getParent(t,a=>C0(e,a,n)?!0:a.parentNode===r||!!Gs(e,a,n,s,!0));return!!Gs(e,i,n,s,o)},xc=(e,t,n)=>qt(n)&&dm(t,n.inline)||Ks(n)&&dm(t,n.block)?!0:Gn(n)?fe(t)&&e.is(t,n.selector):!1,y0=(e,t,n,s,o,r)=>{const i=n[s],a=s==="attributes";if(He(n.onmatch))return n.onmatch(t,n,s);if(i){if(eh(i)){for(let c=0;c<i.length;c++)if(a?e.getAttrib(t,i[c]):lc(e,t,i[c]))return!0}else for(const c in i)if($e(i,c)){const u=a?e.getAttrib(t,c):lc(e,t,c),d=Fo(i[c],r),g=Ve(u)||Qi(u);if(g&&Ve(d))continue;if(o&&g&&!n.exact||(!o||n.exact)&&!dm(u,Cd(d,c)))return!1}}return!0},Gs=(e,t,n,s,o)=>{const r=e.formatter.get(n),i=e.dom;if(r&&fe(t))for(let a=0;a<r.length;a++){const c=r[a];if(xc(e.dom,t,c)&&y0(i,t,c,"attributes",o,s)&&y0(i,t,c,"styles",o,s)){const u=c.classes;if(u){for(let d=0;d<u.length;d++)if(!e.dom.hasClass(t,Fo(u[d],s)))return}return c}}},pm=(e,t,n,s,o)=>{if(s)return mm(e,s,t,n,o);if(s=e.selection.getNode(),mm(e,s,t,n,o))return!0;const r=e.selection.getStart();return!!(r!==s&&mm(e,r,t,n,o))},AL=(e,t,n)=>{const s=[],o={},r=e.selection.getStart();return e.dom.getParent(r,i=>{for(let a=0;a<t.length;a++){const c=t[a];!o[c]&&Gs(e,i,c,n)&&(o[c]=!0,s.push(c))}},e.dom.getRoot()),s},TL=(e,t)=>{const n=o=>it(o,x.fromDom(e.getBody())),s=(o,r)=>Gs(e,o.dom,r)?b.some(r):b.none();return b.from(e.selection.getStart(!0)).bind(o=>fm(x.fromDom(o),r=>ro(t,i=>s(r,i)),n)).getOrNull()},RL=(e,t)=>{const n=e.formatter.get(t),s=e.dom;if(n){const o=e.selection.getStart(),r=cc(s,o);for(let i=n.length-1;i>=0;i--){const a=n[i];if(!Gn(a))return!0;for(let c=r.length-1;c>=0;c--)if(s.is(r[c],a.selector))return!0}}return!1},PL=(e,t,n)=>_e(n,(s,o)=>{const r=OO(e,o);return e.formatter.matchNode(t,o,{},r)?s.concat([o]):s},[]),yi=Jt,OL=(e,t)=>e.importNode(t,!0),DL=e=>{const t=[];let n=e;for(;n;){if(X(n)&&n.data!==yi||n.childNodes.length>1)return[];fe(n)&&t.push(n),n=n.firstChild}return t},E0=e=>DL(e).length>0,_0=e=>{if(e){const t=new $t(e,e);for(let n=t.current();n;n=t.next())if(X(n))return n}return null},gm=e=>{const t=x.fromTag("span");return wo(t,{id,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Wt(t,x.fromText(yi)),t},BL=e=>{const t=_0(e);return t&&t.data.charAt(0)===yi&&t.deleteData(0,1),t},hm=(e,t,n=!0)=>{const s=e.dom,o=e.selection;if(E0(t))Sr(e,!1,x.fromDom(t),n);else{const r=o.getRng(),i=s.getParent(t,s.isBlock),a=r.startContainer,c=r.startOffset,u=r.endContainer,d=r.endOffset,g=BL(t);s.remove(t,!0),a===g&&c>0&&r.setStart(g,c-1),u===g&&d>0&&r.setEnd(g,d-1),i&&s.isEmpty(i)&&cr(x.fromDom(i)),o.setRng(r)}},bm=(e,t,n=!0)=>{const s=e.dom,o=e.selection;if(t)hm(e,t,n);else if(t=Cr(e.getBody(),o.getStart()),!t)for(;t=s.get(id);)hm(e,t,!1)},IL=(e,t,n)=>{var s,o;const r=e.dom,i=r.getParent(n,ie(hd,e));i&&r.isEmpty(i)?(s=n.parentNode)===null||s===void 0||s.replaceChild(t,n):(hT(x.fromDom(n)),r.isEmpty(n)?(o=n.parentNode)===null||o===void 0||o.replaceChild(t,n):r.insertAfter(t,n))},S0=(e,t)=>(e.appendChild(t),t),w0=(e,t)=>{var n;const s=oe(e,(r,i)=>S0(r,i.cloneNode(!1)),t),o=(n=s.ownerDocument)!==null&&n!==void 0?n:document;return S0(s,o.createTextNode(yi))},FL=(e,t,n,s,o,r)=>{const i=e.formatter,a=e.dom,c=j(Un(i.get()),g=>g!==s&&!nn(g,"removeformat")),u=PL(e,n,c);if(j(u,g=>!DO(e,g,s)).length>0){const g=n.cloneNode(!1);return a.add(t,g),i.remove(s,o,g,r),a.remove(g),b.some(g)}else return b.none()},LL=(e,t,n)=>{let s;const o=e.selection,r=e.formatter.get(t);if(!r)return;const i=o.getRng();let a=i.startOffset;const u=i.startContainer.nodeValue;s=Cr(e.getBody(),o.getStart());const d=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(u&&a>0&&a<u.length&&d.test(u.charAt(a))&&d.test(u.charAt(a-1))){const g=o.getBookmark();i.collapse(!0);let p=hi(e,i,r);p=hc(p),e.formatter.apply(t,n,p),o.moveToBookmark(g)}else{let g=s?_0(s):null;(!s||(g==null?void 0:g.data)!==yi)&&(s=OL(e.getDoc(),gm(!0).dom),g=s.firstChild,i.insertNode(s),a=1),e.formatter.apply(t,n,s),o.setCursorLocation(g,a)}},$L=(e,t,n,s)=>{const o=e.dom,r=e.selection;let i=!1;const a=e.formatter.get(t);if(!a)return;const c=r.getRng(),u=c.startContainer,d=c.startOffset;let g=u;X(u)&&(d!==u.data.length&&(i=!0),g=g.parentNode);const p=[];let E;for(;g;){if(Gs(e,g,t,n,s)){E=g;break}g.nextSibling&&(i=!0),p.push(g),g=g.parentNode}if(!!E)if(i){const _=r.getBookmark();c.collapse(!0);let y=hi(e,c,a,!0);y=hc(y),e.formatter.remove(t,n,y,s),r.moveToBookmark(_)}else{const _=Cr(e.getBody(),E),y=gm(!1).dom;IL(e,y,_!=null?_:E);const S=FL(e,y,E,t,n,s),w=w0(p.concat(S.toArray()),y);_&&hm(e,_,!1),r.setCursorLocation(w,1),o.isEmpty(E)&&o.remove(E)}},ML=(e,t)=>{const n=e.selection,s=e.getBody();bm(e,null,!1),(t===8||t===46)&&n.isCollapsed()&&n.getStart().innerHTML===yi&&bm(e,Cr(s,n.getStart())),(t===37||t===39)&&bm(e,Cr(s,n.getStart()))},UL=e=>{e.on("mouseup keydown",t=>{ML(e,t.keyCode)})},zL=(e,t)=>{const n=gm(!1),s=w0(t,n.dom);return Wn(x.fromDom(e),n),_t(x.fromDom(e)),$(s,0)},HL=(e,t)=>{const n=e.schema.getTextInlineElements();return $e(n,xt(t))&&!bs(t.dom)&&!ir(t.dom)},WL=e=>bs(e.dom)&&E0(e.dom),Ha={},x0=ms(["pre"]),VL=(e,t)=>{Ha[e]||(Ha[e]=[]),Ha[e].push(t)},jL=(e,t)=>{$e(Ha,e)&&R(Ha[e],n=>{n(t)})};VL("pre",e=>{const t=e.selection.getRng(),n=o=>r=>{const i=r.previousSibling;return x0(i)&&z(o,i)},s=(o,r)=>{const i=x.fromDom(r),a=co(i).dom;_t(i),or(x.fromDom(o),[x.fromTag("br",a),x.fromTag("br",a),...on(i)])};if(!t.collapsed){const o=e.selection.getSelectedBlocks(),r=j(j(o,x0),n(o));R(r,i=>{s(i.previousSibling,i)})}});const k0=["fontWeight","fontStyle","color","fontSize","fontFamily"],qL=e=>tt(e.styles)&&Y(Un(e.styles),t=>z(k0,t)),KL=e=>Ce(e,t=>qt(t)&&t.inline==="span"&&qL(t)),N0=(e,t)=>{const n=e.get(t);return Ct(n)?KL(n):b.none()},A0=(e,t)=>qn(t,$.fromRangeStart(e)).isNone(),T0=(e,t)=>An(t,$.fromRangeEnd(e)).exists(n=>!Dt(n.getNode())||An(t,n).isSome())===!1,R0=e=>t=>KA(t)&&e.getContentEditableParent(t)!=="false",GL=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return A0(n,t[0])&&T0(n,t[0])?t:[];{const s=tn(t).filter(i=>A0(n,i)).toArray(),o=Ht(t).filter(i=>T0(n,i)).toArray(),r=t.slice(1,-1);return s.concat(r).concat(o)}},YL=e=>j(GL(e),R0(e.dom)),P0=e=>j(e.getSelectedBlocks(),R0(e.dom)),vm=Q.each,Cm=e=>fe(e)&&!Kn(e)&&!bs(e)&&!ir(e),O0=(e,t)=>{for(let n=e;n;n=n[t]){if(X(n)&&Fs(n.data))return e;if(fe(n)&&!Kn(n))return n}return e},D0=(e,t,n)=>{const s=sm(e),o=fe(t)&&yr(t),r=fe(n)&&yr(n);if(o&&r){const i=O0(t,"previousSibling"),a=O0(n,"nextSibling");if(s.compare(i,a)){for(let c=i.nextSibling;c&&c!==a;){const u=c;c=c.nextSibling,i.appendChild(u)}return e.dom.remove(a),Q.each(Q.grep(a.childNodes),c=>{i.appendChild(c)}),i}}return n},B0=(e,t,n,s)=>{var o;if(s&&t.merge_siblings!==!1){const r=(o=D0(e,yC(s),s))!==null&&o!==void 0?o:s;D0(e,r,yC(r,!0))}},XL=(e,t,n)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";vm(e.select(s,n),o=>{Cm(o)&&yr(o)&&vm(t.styles,(r,i)=>{e.setStyle(o,i,"")})})}},ym=(e,t,n)=>{vm(e.childNodes,s=>{Cm(s)&&(t(s)&&n(s),s.hasChildNodes()&&ym(s,t,n))})},QL=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},I0=(e,t)=>n=>!!(n&&lc(e,n,t)),F0=(e,t,n)=>s=>{e.setStyle(s,t,n),s.getAttribute("style")===""&&s.removeAttribute("style"),QL(e,s)},Ei=Hs.generate([{keep:[]},{rename:["name"]},{removed:[]}]),ZL=/^(src|href|style)$/,Em=Q.each,kc=vd,JL=e=>/^(TR|TH|TD)$/.test(e.nodeName),L0=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),$0=(e,t,n)=>{let s=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];if(fe(s)){const r=s.childNodes.length-1;!n&&o&&o--,s=s.childNodes[o>r?r:o]}return X(s)&&n&&o>=s.data.length&&(s=new $t(s,e.getBody()).next()||s),X(s)&&!n&&o===0&&(s=new $t(s,e.getBody()).prev()||s),s},M0=(e,t)=>{const n=t?"firstChild":"lastChild",s=e[n];return JL(e)&&s?e.nodeName==="TR"&&s[n]||s:e},_m=(e,t,n,s)=>{var o;const r=e.create(n,s);return(o=t.parentNode)===null||o===void 0||o.insertBefore(r,t),r.appendChild(t),r},U0=(e,t,n,s,o)=>{const r=x.fromDom(t),i=x.fromDom(e.create(s,o)),a=n?Wh(r):Hh(r);return or(i,a),n?(Wn(r,i),Jh(i,r)):(ko(r,i),Wt(i,r)),i.dom},e$=(e,t)=>t.links&&e.nodeName==="A",t$=(e,t,n)=>{const s=t.parentNode;let o;const r=e.dom,i=Dn(e);Ks(n)&&s===r.getRoot()&&(!n.list_block||!kc(t,n.list_block))&&R(wt(t.childNodes),a=>{pi(e,i,a.nodeName.toLowerCase())?o?o.appendChild(a):(o=_m(r,a,i),r.setAttribs(o,_a(e))):o=null}),!(FO(n)&&!kc(n.inline,t))&&r.remove(t,!0)},z0=(e,t,n)=>zt(e)?{name:t,value:null}:{name:e,value:Fo(t,n)},H0=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},W0=(e,t,n,s,o)=>{let r=!1;Em(n.styles,(i,a)=>{const{name:c,value:u}=z0(a,i,s),d=Cd(u,c);(n.remove_similar||hn(u)||!fe(o)||kc(lc(e,o,c),d))&&e.setStyle(t,c,""),r=!0}),r&&H0(e,t)},n$=(e,t,n)=>{t==="removeformat"?R(P0(e.selection),s=>{R(k0,o=>e.dom.setStyle(s,o,"")),H0(e.dom,s)}):N0(e.formatter,t).each(s=>{R(P0(e.selection),o=>W0(e.dom,o,s,n,null))})},V0=(e,t,n,s,o)=>{const r=e.dom,i=sm(e);if(!t.ceFalseOverride&&s&&r.getContentEditableParent(s)==="false"||s&&!xc(r,s,t)&&!e$(s,t))return Ei.keep();const a=s,c=t.preserve_attributes;if(qt(t)&&t.remove==="all"&&Ct(c)){const u=j(r.getAttribs(a),d=>z(c,d.name.toLowerCase()));if(r.removeAllAttribs(a),R(u,d=>r.setAttrib(a,d.name,d.value)),u.length>0)return Ei.rename("span")}if(t.remove!=="all"){W0(r,a,t,n,o),Em(t.attributes,(d,g)=>{const{name:p,value:E}=z0(g,d,n);if(t.remove_similar||hn(E)||!fe(o)||kc(r.getAttrib(o,p),E)){if(p==="class"){const _=r.getAttrib(a,p);if(_){let y="";if(R(_.split(/\s+/),S=>{/mce\-\w+/.test(S)&&(y+=(y?" ":"")+S)}),y){r.setAttrib(a,p,y);return}}}if(ZL.test(p)&&a.removeAttribute("data-mce-"+p),p==="style"&&ms(["li"])(a)&&r.getStyle(a,"list-style-type")==="none"){a.removeAttribute(p),r.setStyle(a,"list-style-type","none");return}p==="class"&&a.removeAttribute("className"),a.removeAttribute(p)}}),Em(t.classes,d=>{d=Fo(d,n),(!fe(o)||r.hasClass(o,d))&&r.removeClass(a,d)});const u=r.getAttribs(a);for(let d=0;d<u.length;d++){const g=u[d].nodeName;if(!i.isAttributeInternal(g))return Ei.keep()}}return t.remove!=="none"?(t$(e,a,t),Ei.removed()):Ei.keep()},Wa=(e,t,n,s,o)=>V0(e,t,n,s,o).fold(nt,r=>(e.dom.rename(s,r),!0),Et),s$=(e,t,n,s,o)=>{let r;return t.parentNode&&R(cc(e.dom,t.parentNode).reverse(),i=>{if(!r&&fe(i)&&i.id!=="_start"&&i.id!=="_end"){const a=Gs(e,i,n,s,o);a&&a.split!==!1&&(r=i)}}),r},o$=(e,t,n,s)=>V0(e,t,n,s,s).fold(K(s),o=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,o)),K(null)),r$=(e,t,n,s,o,r,i,a)=>{var c,u;let d,g;const p=e.dom;if(n){const E=n.parentNode;for(let _=s.parentNode;_&&_!==E;_=_.parentNode){let y=p.clone(_,!1);for(let S=0;S<t.length&&(y=o$(e,t[S],a,y),y!==null);S++);y&&(d&&y.appendChild(d),g||(g=y),d=y)}r&&(!i.mixed||!p.isBlock(n))&&(s=(c=p.split(n,s))!==null&&c!==void 0?c:s),d&&g&&((u=o.parentNode)===null||u===void 0||u.insertBefore(d,o),g.appendChild(o),qt(i)&&B0(e,i,a,d))}return s},j0=(e,t,n,s,o)=>{const r=e.formatter.get(t),i=r[0],a=e.dom,c=e.selection,u=y=>{const S=s$(e,y,t,n,o);return r$(e,r,S,y,y,!0,i,n)},d=y=>Kn(y)&&fe(y)&&(y.id==="_start"||y.id==="_end"),g=y=>Y(r,S=>Wa(e,S,n,y,y)),p=y=>{const S=wt(y.childNodes),k=g(y)||Y(r,H=>xc(a,y,H)),A=y.parentNode;if(!k&&se(A)&&Ed(i)&&g(A),i.deep&&S.length)for(let H=0;H<S.length;H++)p(S[H]);R(["underline","line-through","overline"],H=>{fe(y)&&e.dom.getStyle(y,"text-decoration")===H&&y.parentNode&&_C(a,y.parentNode)===H&&Wa(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:H}},void 0,y)})},E=y=>{const S=a.get(y?"_start":"_end");if(S){let w=S[y?"firstChild":"lastChild"];return d(w)&&(w=w[y?"firstChild":"lastChild"]),X(w)&&w.data.length===0&&(w=y?S.previousSibling||S.nextSibling:S.nextSibling||S.previousSibling),a.remove(S,!0),w}else return null},_=y=>{let S,w,k=hi(e,y,r,y.collapsed);if(i.split){if(k=hc(k),S=$0(e,k,!0),w=$0(e,k),S!==w){if(S=M0(S,!0),w=M0(w,!1),L0(a,S,w)){const U=b.from(S.firstChild).getOr(S);u(U0(a,U,!0,"span",{id:"_start","data-mce-type":"bookmark"})),E(!0);return}if(L0(a,w,S)){const U=b.from(w.lastChild).getOr(w);u(U0(a,U,!1,"span",{id:"_end","data-mce-type":"bookmark"})),E(!1);return}S=_m(a,S,"span",{id:"_start","data-mce-type":"bookmark"}),w=_m(a,w,"span",{id:"_end","data-mce-type":"bookmark"});const A=a.createRng();A.setStartAfter(S),A.setEndBefore(w),Oa(a,A,U=>{R(U,H=>{!Kn(H)&&!Kn(H.parentNode)&&u(H)})}),u(S),u(w),S=E(!0),w=E()}else S=w=u(S);k.startContainer=S.parentNode?S.parentNode:S,k.startOffset=a.nodeIndex(S),k.endContainer=w.parentNode?w.parentNode:w,k.endOffset=a.nodeIndex(w)+1}Oa(a,k,A=>{R(A,p)})};if(s){if(Pa(s)){const y=a.createRng();y.setStartBefore(s),y.setEndAfter(s),_(y)}else _(s);$C(e,t,s,n);return}!c.isCollapsed()||!qt(i)||mi(e).length?(CC(e,()=>pd(e,_),y=>qt(i)&&pm(e,t,n,y)),e.nodeChanged()):$L(e,t,n,o),n$(e,t,n),$C(e,t,s,n)},q0=Q.each,i$=(e,t,n,s)=>{const o=r=>{if(fe(r)&&fe(r.parentNode)&&yr(r)){const i=_C(e,r.parentNode);e.getStyle(r,"color")&&i?e.setStyle(r,"text-decoration",i):e.getStyle(r,"text-decoration")===i&&e.setStyle(r,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Q.walk(s,o,"childNodes"),o(s))},a$=(e,t,n,s)=>{if(t.styles&&t.styles.backgroundColor){const o=I0(e,"fontSize");ym(s,r=>o(r)&&yr(r),F0(e,"backgroundColor",Fo(t.styles.backgroundColor,n)))}},l$=(e,t,n,s)=>{if(qt(t)&&(t.inline==="sub"||t.inline==="sup")){const o=I0(e,"fontSize");ym(s,i=>o(i)&&yr(i),F0(e,"fontSize",""));const r=j(e.select(t.inline==="sup"?"sub":"sup",s),yr);e.remove(r,!0)}},c$=(e,t,n,s)=>{q0(t,o=>{qt(o)&&q0(e.dom.select(o.inline,s),r=>{Cm(r)&&Wa(e,o,n,r,o.exact?r:null)}),XL(e.dom,o,s)})},u$=(e,t,n,s,o)=>{const r=o.parentNode;Gs(e,r,n,s)&&Wa(e,t,s,o)||t.merge_with_parents&&r&&e.dom.getParent(r,i=>Gs(e,i,n,s)?(Wa(e,t,s,o),!0):!1)},Nc=Q.each,f$=(e,t,n,s)=>{if(V1(e)&&qt(t)&&n.parentNode){const o=Bb(e.schema),r=kL(x.fromDom(n),i=>bs(i.dom));return qr(o,s)&&Yt(x.fromDom(n.parentNode),!1)&&!r}else return!1},K0=(e,t,n,s)=>{if(Nc(n.styles,(o,r)=>{e.setStyle(t,r,Fo(o,s))}),n.styles){const o=e.getAttrib(t,"style");o&&e.setAttrib(t,"data-mce-style",o)}},G0=(e,t,n,s)=>{const o=e.formatter.get(t),r=o[0],i=!s&&e.selection.isCollapsed(),a=e.dom,c=e.selection,u=(_,y=r)=>{He(y.onformat)&&y.onformat(_,y,n,s),K0(a,_,y,n),Nc(y.attributes,(S,w)=>{a.setAttrib(_,w,Fo(S,n))}),Nc(y.classes,S=>{const w=Fo(S,n);a.hasClass(_,w)||a.addClass(_,w)})},d=(_,y)=>{let S=!1;return Nc(_,w=>Gn(w)?a.getContentEditable(y)==="false"&&!w.ceFalseOverride||se(w.collapsed)&&w.collapsed!==i?!0:a.is(y,w.selector)&&!bs(y)?(u(y,w),S=!0,!1):!0:!1),S},g=_=>{if(le(_)){const y=a.create(_);return u(y),y}else return null},p=(_,y,S)=>{const w=[];let k=!0;const A=r.inline||r.block,U=g(A),H=F=>BO(r)&&Gs(e,F,t,n),ee=(F,L,te)=>{const me=IO(r)&&hd(e,F)&&pi(e,L,A);return te&&me},W=(F,L,te,me)=>{const be=F.nodeName.toLowerCase(),Te=pi(e,A,be)&&pi(e,L,A),ze=!S&&X(F)&&Fl(F.data),qe=bs(F),st=!qt(r)||!_.isBlock(F);return(te||me)&&Te&&!ze&&!qe&&st};Oa(_,y,F=>{let L;const te=me=>{let be=!1,Te=k,ze=!1;const qe=me.nodeName.toLowerCase(),st=me.parentNode,Mt=st.nodeName.toLowerCase(),Z=_.getContentEditable(me);se(Z)&&(Te=k,k=Z==="true",be=!0,ze=EC(e,me));const Re=k&&!be;if(Dt(me)&&!f$(e,r,me,Mt)){L=null,Ks(r)&&_.remove(me);return}if(H(me)){L=null;return}if(ee(qe,Mt,Re)){const Oe=_.rename(me,A);u(Oe),w.push(Oe),L=null;return}if(Gn(r)){let Oe=d(o,me);if(!Oe&&se(st)&&Ed(r)&&(Oe=d(o,st)),!qt(r)||Oe){L=null;return}}se(U)&&W(me,Mt,Re,ze)?(L||(L=_.clone(U,!1),st.insertBefore(L,me),w.push(L)),ze&&be&&(k=Te),L.appendChild(me)):(L=null,R(wt(me.childNodes),te),be&&(k=Te),L=null)};R(F,te)}),r.links===!0&&R(w,F=>{const L=te=>{te.nodeName==="A"&&u(te,r),R(wt(te.childNodes),L)};L(F)}),R(w,F=>{const L=be=>{let Te=0;return R(be.childNodes,ze=>{!RO(ze)&&!Kn(ze)&&Te++}),Te},te=be=>Ce(be.childNodes,gd).filter(ze=>_.getContentEditable(ze)!=="false"&&xc(_,ze,r)).map(ze=>{const qe=_.clone(ze,!1);return u(qe),_.replace(qe,be,!0),_.remove(ze,!0),qe}).getOr(be),me=L(F);if((w.length>1||!_.isBlock(F))&&me===0){_.remove(F,!0);return}(qt(r)||Ks(r)&&r.wrapper)&&(!r.exact&&me===1&&(F=te(F)),c$(e,o,n,F),u$(e,r,t,n,F),a$(_,r,n,F),i$(_,r,n,F),l$(_,r,n,F),B0(e,r,n,F))})},E=Pa(s)?s:c.getNode();if(a.getContentEditable(E)==="false"&&!EC(e,E)){s=E,d(o,s),LC(e,t,s,n);return}if(r){if(s)if(Pa(s)){if(!d(o,s)){const _=a.createRng();_.setStartBefore(s),_.setEndAfter(s),p(a,hi(e,_,o),!0)}}else p(a,s,!0);else!i||!qt(r)||mi(e).length?(c.setRng(am(c.getRng())),CC(e,()=>{pd(e,(_,y)=>{const S=y?_:hi(e,_,o);p(a,S,!1)})},Et),e.nodeChanged()):LL(e,t,n),N0(e.formatter,t).each(_=>{R(YL(e.selection),y=>K0(a,y,_,n))});jL(t,e)}LC(e,t,s,n)},Y0=e=>$e(e,"vars"),d$=(e,t)=>{e.set({}),t.on("NodeChange",n=>{J0(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const s=b.from(n.node).map(o=>Pa(o)?o:o.startContainer).bind(o=>fe(o)?b.some(o):b.from(o.parentElement)).getOrThunk(()=>X0(t));J0(t,s,e.get())})},X0=e=>e.selection.getStart(),Q0=(e,t,n,s,o)=>Ae(t,a=>{const c=e.formatter.matchNode(a,n,o!=null?o:{},s);return!lt(c)},a=>C0(e,a,n)?!0:s?!1:se(e.formatter.matchNode(a,n,o,!0))),Z0=(e,t)=>{const n=t!=null?t:X0(e);return j(cc(e.dom,n),s=>fe(s)&&!ir(s))},J0=(e,t,n)=>{const s=Z0(e,t);dt(n,(o,r)=>{const i=a=>{const c=Q0(e,s,r,a.similar,Y0(a)?a.vars:void 0),u=c.isSome();if(a.state.get()!==u){a.state.set(u);const d=c.getOr(t);Y0(a)?a.callback(u,{node:d,format:r,parents:s}):R(a.callbacks,g=>g(u,{node:d,format:r,parents:s}))}};R([o.withSimilar,o.withoutSimilar],i),R(o.withVars,i)})},m$=(e,t,n,s,o,r)=>{const i=t.get();R(n.split(","),a=>{const c=bt(i,a).getOrThunk(()=>{const d={withSimilar:{state:Vt(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Vt(!1),similar:!1,callbacks:[]},withVars:[]};return i[a]=d,d}),u=()=>{const d=Z0(e);return Q0(e,d,a,o,r).isSome()};if(lt(r)){const d=o?c.withSimilar:c.withoutSimilar;d.callbacks.push(s),d.callbacks.length===1&&d.state.set(u())}else c.withVars.push({state:Vt(u()),similar:o,vars:r,callback:s})}),t.set(i)},p$=(e,t,n)=>{const s=e.get();R(t.split(","),o=>bt(s,o).each(r=>{s[o]={withSimilar:{...r.withSimilar,callbacks:j(r.withSimilar.callbacks,i=>i!==n)},withoutSimilar:{...r.withoutSimilar,callbacks:j(r.withoutSimilar.callbacks,i=>i!==n)},withVars:j(r.withVars,i=>i.callback!==n)}})),e.set(s)},g$=(e,t,n,s,o,r)=>(m$(e,t,n,s,o,r),{unbind:()=>p$(t,n,s)}),h$=(e,t,n,s)=>{const o=e.formatter.get(t);o&&(pm(e,t,n,s)&&(!("toggle"in o[0])||o[0].toggle)?j0(e,t,n,s):G0(e,t,n,s))};function kr(e){return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(e)}function Sm(e,t){return Sm=Object.setPrototypeOf||function(s,o){return s.__proto__=o,s},Sm(e,t)}function b$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ac(e,t,n){return b$()?Ac=Reflect.construct:Ac=function(o,r,i){var a=[null];a.push.apply(a,r);var c=Function.bind.apply(o,a),u=new c;return i&&Sm(u,i.prototype),u},Ac.apply(null,arguments)}function vs(e){return v$(e)||C$(e)||y$(e)||E$()}function v$(e){if(Array.isArray(e))return wm(e)}function C$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y$(e,t){if(!!e){if(typeof e=="string")return wm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wm(e,t)}}function wm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function E$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _$=Object.hasOwnProperty,eE=Object.setPrototypeOf,S$=Object.isFrozen,w$=Object.getPrototypeOf,x$=Object.getOwnPropertyDescriptor,Tn=Object.freeze,Ys=Object.seal,k$=Object.create,tE=typeof Reflect<"u"&&Reflect,Tc=tE.apply,xm=tE.construct;Tc||(Tc=function(t,n,s){return t.apply(n,s)}),Tn||(Tn=function(t){return t}),Ys||(Ys=function(t){return t}),xm||(xm=function(t,n){return Ac(t,vs(n))});var N$=Cs(Array.prototype.forEach),A$=Cs(Array.prototype.pop),Va=Cs(Array.prototype.push),Rc=Cs(String.prototype.toLowerCase),T$=Cs(String.prototype.match),Ho=Cs(String.prototype.replace),R$=Cs(String.prototype.indexOf),P$=Cs(String.prototype.trim),Rn=Cs(RegExp.prototype.test),km=O$(TypeError);function Cs(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return Tc(e,t,s)}}function O$(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return xm(e,n)}}function Je(e,t){eE&&eE(e,null);for(var n=t.length;n--;){var s=t[n];if(typeof s=="string"){var o=Rc(s);o!==s&&(S$(t)||(t[n]=o),s=o)}e[s]=!0}return e}function Nr(e){var t=k$(null),n;for(n in e)Tc(_$,e,[n])&&(t[n]=e[n]);return t}function Pc(e,t){for(;e!==null;){var n=x$(e,t);if(n){if(n.get)return Cs(n.get);if(typeof n.value=="function")return Cs(n.value)}e=w$(e)}function s(o){return console.warn("fallback value for",o),null}return s}var nE=Tn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Nm=Tn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Am=Tn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D$=Tn(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Tm=Tn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),B$=Tn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),sE=Tn(["#text"]),oE=Tn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Rm=Tn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),rE=Tn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Oc=Tn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),I$=Ys(/\{\{[\w\W]*|[\w\W]*\}\}/gm),F$=Ys(/<%[\w\W]*|[\w\W]*%>/gm),L$=Ys(/^data-[\-\w.\u00B7-\uFFFF]/),$$=Ys(/^aria-[\-\w]+$/),M$=Ys(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),U$=Ys(/^(?:\w+script|data):/i),z$=Ys(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),H$=Ys(/^html$/i),W$=function(){return typeof window>"u"?null:window},V$=function(t,n){if(kr(t)!=="object"||typeof t.createPolicy!="function")return null;var s=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(s=n.currentScript.getAttribute(o));var r="dompurify"+(s?"#"+s:"");try{return t.createPolicy(r,{createHTML:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function iE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W$(),t=function(I){return iE(I)};if(t.version="2.3.8",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var n=e.document,s=e.document,o=e.DocumentFragment,r=e.HTMLTemplateElement,i=e.Node,a=e.Element,c=e.NodeFilter,u=e.NamedNodeMap,d=u===void 0?e.NamedNodeMap||e.MozNamedAttrMap:u,g=e.HTMLFormElement,p=e.DOMParser,E=e.trustedTypes,_=a.prototype,y=Pc(_,"cloneNode"),S=Pc(_,"nextSibling"),w=Pc(_,"childNodes"),k=Pc(_,"parentNode");if(typeof r=="function"){var A=s.createElement("template");A.content&&A.content.ownerDocument&&(s=A.content.ownerDocument)}var U=V$(E,n),H=U?U.createHTML(""):"",ee=s,W=ee.implementation,F=ee.createNodeIterator,L=ee.createDocumentFragment,te=ee.getElementsByTagName,me=n.importNode,be={};try{be=Nr(s).documentMode?s.documentMode:{}}catch{}var Te={};t.isSupported=typeof k=="function"&&W&&typeof W.createHTMLDocument<"u"&&be!==9;var ze=I$,qe=F$,st=L$,Mt=$$,Z=U$,Re=z$,Oe=M$,ke=null,kt=Je({},[].concat(vs(nE),vs(Nm),vs(Am),vs(Tm),vs(sE))),ae=null,we=Je({},[].concat(vs(oE),vs(Rm),vs(rE),vs(Oc))),Ee=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ne=null,Ie=null,De=!0,Se=!0,Ne=!1,Qe=!1,et=!1,Bt=!1,vt=!1,mt=!1,Pt=!1,Qt=!1,It=!0,Ss=!0,Jn=!1,ws={},xs=null,ks=Je({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ns=null,Ft=Je({},["audio","video","img","source","image","track"]),es=null,As=Je({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Br="http://www.w3.org/1998/Math/MathML",as="http://www.w3.org/2000/svg",In="http://www.w3.org/1999/xhtml",un=In,ls=!1,Fn,Ir=["application/xhtml+xml","text/html"],xu="text/html",vo,Vo=null,ku=s.createElement("form"),ng=function(I){return I instanceof RegExp||I instanceof Function},Nu=function(I){Vo&&Vo===I||((!I||kr(I)!=="object")&&(I={}),I=Nr(I),ke="ALLOWED_TAGS"in I?Je({},I.ALLOWED_TAGS):kt,ae="ALLOWED_ATTR"in I?Je({},I.ALLOWED_ATTR):we,es="ADD_URI_SAFE_ATTR"in I?Je(Nr(As),I.ADD_URI_SAFE_ATTR):As,Ns="ADD_DATA_URI_TAGS"in I?Je(Nr(Ft),I.ADD_DATA_URI_TAGS):Ft,xs="FORBID_CONTENTS"in I?Je({},I.FORBID_CONTENTS):ks,ne="FORBID_TAGS"in I?Je({},I.FORBID_TAGS):{},Ie="FORBID_ATTR"in I?Je({},I.FORBID_ATTR):{},ws="USE_PROFILES"in I?I.USE_PROFILES:!1,De=I.ALLOW_ARIA_ATTR!==!1,Se=I.ALLOW_DATA_ATTR!==!1,Ne=I.ALLOW_UNKNOWN_PROTOCOLS||!1,Qe=I.SAFE_FOR_TEMPLATES||!1,et=I.WHOLE_DOCUMENT||!1,mt=I.RETURN_DOM||!1,Pt=I.RETURN_DOM_FRAGMENT||!1,Qt=I.RETURN_TRUSTED_TYPE||!1,vt=I.FORCE_BODY||!1,It=I.SANITIZE_DOM!==!1,Ss=I.KEEP_CONTENT!==!1,Jn=I.IN_PLACE||!1,Oe=I.ALLOWED_URI_REGEXP||Oe,un=I.NAMESPACE||In,I.CUSTOM_ELEMENT_HANDLING&&ng(I.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ee.tagNameCheck=I.CUSTOM_ELEMENT_HANDLING.tagNameCheck),I.CUSTOM_ELEMENT_HANDLING&&ng(I.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ee.attributeNameCheck=I.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),I.CUSTOM_ELEMENT_HANDLING&&typeof I.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ee.allowCustomizedBuiltInElements=I.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Fn=Ir.indexOf(I.PARSER_MEDIA_TYPE)===-1?Fn=xu:Fn=I.PARSER_MEDIA_TYPE,vo=Fn==="application/xhtml+xml"?function(ce){return ce}:Rc,Qe&&(Se=!1),Pt&&(mt=!0),ws&&(ke=Je({},vs(sE)),ae=[],ws.html===!0&&(Je(ke,nE),Je(ae,oE)),ws.svg===!0&&(Je(ke,Nm),Je(ae,Rm),Je(ae,Oc)),ws.svgFilters===!0&&(Je(ke,Am),Je(ae,Rm),Je(ae,Oc)),ws.mathMl===!0&&(Je(ke,Tm),Je(ae,rE),Je(ae,Oc))),I.ADD_TAGS&&(ke===kt&&(ke=Nr(ke)),Je(ke,I.ADD_TAGS)),I.ADD_ATTR&&(ae===we&&(ae=Nr(ae)),Je(ae,I.ADD_ATTR)),I.ADD_URI_SAFE_ATTR&&Je(es,I.ADD_URI_SAFE_ATTR),I.FORBID_CONTENTS&&(xs===ks&&(xs=Nr(xs)),Je(xs,I.FORBID_CONTENTS)),Ss&&(ke["#text"]=!0),et&&Je(ke,["html","head","body"]),ke.table&&(Je(ke,["tbody"]),delete ne.tbody),Tn&&Tn(I),Vo=I)},sg=Je({},["mi","mo","mn","ms","mtext"]),og=Je({},["foreignobject","desc","title","annotation-xml"]),jo=Je({},["title","style","font","a","script"]),Fr=Je({},Nm);Je(Fr,Am),Je(Fr,D$);var O=Je({},Tm);Je(O,B$);var D=function(I){var ce=k(I);(!ce||!ce.tagName)&&(ce={namespaceURI:In,tagName:"template"});var xe=Rc(I.tagName),St=Rc(ce.tagName);return I.namespaceURI===as?ce.namespaceURI===In?xe==="svg":ce.namespaceURI===Br?xe==="svg"&&(St==="annotation-xml"||sg[St]):Boolean(Fr[xe]):I.namespaceURI===Br?ce.namespaceURI===In?xe==="math":ce.namespaceURI===as?xe==="math"&&og[St]:Boolean(O[xe]):I.namespaceURI===In?ce.namespaceURI===as&&!og[St]||ce.namespaceURI===Br&&!sg[St]?!1:!O[xe]&&(jo[xe]||!Fr[xe]):!1},G=function(I){Va(t.removed,{element:I});try{I.parentNode.removeChild(I)}catch{try{I.outerHTML=H}catch{I.remove()}}},q=function(I,ce){try{Va(t.removed,{attribute:ce.getAttributeNode(I),from:ce})}catch{Va(t.removed,{attribute:null,from:ce})}if(ce.removeAttribute(I),I==="is"&&!ae[I])if(mt||Pt)try{G(ce)}catch{}else try{ce.setAttribute(I,"")}catch{}},he=function(I){var ce,xe;if(vt)I="<remove></remove>"+I;else{var St=T$(I,/^[\r\n\t ]+/);xe=St&&St[0]}Fn==="application/xhtml+xml"&&(I='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+I+"</body></html>");var $n=U?U.createHTML(I):I;if(un===In)try{ce=new p().parseFromString($n,Fn)}catch{}if(!ce||!ce.documentElement){ce=W.createDocument(un,"template",null);try{ce.documentElement.innerHTML=ls?"":$n}catch{}}var Sn=ce.body||ce.documentElement;return I&&xe&&Sn.insertBefore(s.createTextNode(xe),Sn.childNodes[0]||null),un===In?te.call(ce,et?"html":"body")[0]:et?ce.documentElement:Sn},We=function(I){return F.call(I.ownerDocument||I,I,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},pt=function(I){return I instanceof g&&(typeof I.nodeName!="string"||typeof I.textContent!="string"||typeof I.removeChild!="function"||!(I.attributes instanceof d)||typeof I.removeAttribute!="function"||typeof I.setAttribute!="function"||typeof I.namespaceURI!="string"||typeof I.insertBefore!="function")},gt=function(I){return kr(i)==="object"?I instanceof i:I&&kr(I)==="object"&&typeof I.nodeType=="number"&&typeof I.nodeName=="string"},Ln=function(I,ce,xe){!Te[I]||N$(Te[I],function(St){St.call(t,ce,xe,Vo)})},ll=function(I){var ce;if(Ln("beforeSanitizeElements",I,null),pt(I)||Rn(/[\u0080-\uFFFF]/,I.nodeName))return G(I),!0;var xe=vo(I.nodeName);if(Ln("uponSanitizeElement",I,{tagName:xe,allowedTags:ke}),I.hasChildNodes()&&!gt(I.firstElementChild)&&(!gt(I.content)||!gt(I.content.firstElementChild))&&Rn(/<[/\w]/g,I.innerHTML)&&Rn(/<[/\w]/g,I.textContent)||xe==="select"&&Rn(/<template/i,I.innerHTML))return G(I),!0;if(!ke[xe]||ne[xe]){if(!ne[xe]&&jx(xe)&&(Ee.tagNameCheck instanceof RegExp&&Rn(Ee.tagNameCheck,xe)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(xe)))return!1;if(Ss&&!xs[xe]){var St=k(I)||I.parentNode,$n=w(I)||I.childNodes;if($n&&St)for(var Sn=$n.length,fn=Sn-1;fn>=0;--fn)St.insertBefore(y($n[fn],!0),S(I))}return G(I),!0}return I instanceof a&&!D(I)||(xe==="noscript"||xe==="noembed")&&Rn(/<\/no(script|embed)/i,I.innerHTML)?(G(I),!0):(Qe&&I.nodeType===3&&(ce=I.textContent,ce=Ho(ce,ze," "),ce=Ho(ce,qe," "),I.textContent!==ce&&(Va(t.removed,{element:I.cloneNode()}),I.textContent=ce)),Ln("afterSanitizeElements",I,null),!1)},Vx=function(I,ce,xe){if(It&&(ce==="id"||ce==="name")&&(xe in s||xe in ku))return!1;if(!(Se&&!Ie[ce]&&Rn(st,ce))){if(!(De&&Rn(Mt,ce))){if(!ae[ce]||Ie[ce]){if(!(jx(I)&&(Ee.tagNameCheck instanceof RegExp&&Rn(Ee.tagNameCheck,I)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(I))&&(Ee.attributeNameCheck instanceof RegExp&&Rn(Ee.attributeNameCheck,ce)||Ee.attributeNameCheck instanceof Function&&Ee.attributeNameCheck(ce))||ce==="is"&&Ee.allowCustomizedBuiltInElements&&(Ee.tagNameCheck instanceof RegExp&&Rn(Ee.tagNameCheck,xe)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(xe))))return!1}else if(!es[ce]){if(!Rn(Oe,Ho(xe,Re,""))){if(!((ce==="src"||ce==="xlink:href"||ce==="href")&&I!=="script"&&R$(xe,"data:")===0&&Ns[I])){if(!(Ne&&!Rn(Z,Ho(xe,Re,"")))){if(xe)return!1}}}}}}return!0},jx=function(I){return I.indexOf("-")>0},qx=function(I){var ce,xe,St,$n;Ln("beforeSanitizeAttributes",I,null);var Sn=I.attributes;if(!!Sn){var fn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ae};for($n=Sn.length;$n--;){ce=Sn[$n];var Au=ce,dn=Au.name,Kx=Au.namespaceURI;xe=dn==="value"?ce.value:P$(ce.value),St=vo(dn);var F9=xe;if(fn.attrName=St,fn.attrValue=xe,fn.keepAttr=!0,fn.forceKeepAttr=void 0,Ln("uponSanitizeAttribute",I,fn),xe=fn.attrValue,!fn.forceKeepAttr){if(!fn.keepAttr){q(dn,I);continue}if(Rn(/\/>/i,xe)){q(dn,I);continue}Qe&&(xe=Ho(xe,ze," "),xe=Ho(xe,qe," "));var L9=vo(I.nodeName);if(!Vx(L9,St,xe)){q(dn,I);continue}if(xe!==F9)try{Kx?I.setAttributeNS(Kx,dn,xe):I.setAttribute(dn,xe)}catch{q(dn,I)}}}Ln("afterSanitizeAttributes",I,null)}},I9=function Pe(I){var ce,xe=We(I);for(Ln("beforeSanitizeShadowDOM",I,null);ce=xe.nextNode();)Ln("uponSanitizeShadowNode",ce,null),!ll(ce)&&(ce.content instanceof o&&Pe(ce.content),qx(ce));Ln("afterSanitizeShadowDOM",I,null)};return t.sanitize=function(Pe,I){var ce,xe,St,$n,Sn;if(ls=!Pe,ls&&(Pe="<!-->"),typeof Pe!="string"&&!gt(Pe)){if(typeof Pe.toString!="function")throw km("toString is not a function");if(Pe=Pe.toString(),typeof Pe!="string")throw km("dirty is not a string, aborting")}if(!t.isSupported){if(kr(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof Pe=="string")return e.toStaticHTML(Pe);if(gt(Pe))return e.toStaticHTML(Pe.outerHTML)}return Pe}if(Bt||Nu(I),t.removed=[],typeof Pe=="string"&&(Jn=!1),Jn){if(Pe.nodeName){var fn=vo(Pe.nodeName);if(!ke[fn]||ne[fn])throw km("root node is forbidden and cannot be sanitized in-place")}}else if(Pe instanceof i)ce=he("<!---->"),xe=ce.ownerDocument.importNode(Pe,!0),xe.nodeType===1&&xe.nodeName==="BODY"||xe.nodeName==="HTML"?ce=xe:ce.appendChild(xe);else{if(!mt&&!Qe&&!et&&Pe.indexOf("<")===-1)return U&&Qt?U.createHTML(Pe):Pe;if(ce=he(Pe),!ce)return mt?null:Qt?H:""}ce&&vt&&G(ce.firstChild);for(var Au=We(Jn?Pe:ce);St=Au.nextNode();)St.nodeType===3&&St===$n||ll(St)||(St.content instanceof o&&I9(St.content),qx(St),$n=St);if($n=null,Jn)return Pe;if(mt){if(Pt)for(Sn=L.call(ce.ownerDocument);ce.firstChild;)Sn.appendChild(ce.firstChild);else Sn=ce;return ae.shadowroot&&(Sn=me.call(n,Sn,!0)),Sn}var dn=et?ce.outerHTML:ce.innerHTML;return et&&ke["!doctype"]&&ce.ownerDocument&&ce.ownerDocument.doctype&&ce.ownerDocument.doctype.name&&Rn(H$,ce.ownerDocument.doctype.name)&&(dn="<!DOCTYPE "+ce.ownerDocument.doctype.name+`>
`+dn),Qe&&(dn=Ho(dn,ze," "),dn=Ho(dn,qe," ")),U&&Qt?U.createHTML(dn):dn},t.setConfig=function(Pe){Nu(Pe),Bt=!0},t.clearConfig=function(){Vo=null,Bt=!1},t.isValidAttribute=function(Pe,I,ce){Vo||Nu({});var xe=vo(Pe),St=vo(I);return Vx(xe,St,ce)},t.addHook=function(Pe,I){typeof I=="function"&&(Te[Pe]=Te[Pe]||[],Va(Te[Pe],I))},t.removeHook=function(Pe){if(Te[Pe])return A$(Te[Pe])},t.removeHooks=function(Pe){Te[Pe]&&(Te[Pe]=[])},t.removeAllHooks=function(){Te={}},t}var j$=iE();const aE=Q.explode,lE=()=>{const e={};return{addFilter:(o,r)=>{R(aE(o),i=>{$e(e,i)||(e[i]={name:i,callbacks:[]}),e[i].callbacks.push(r)})},getFilters:()=>nf(e),removeFilter:(o,r)=>{R(aE(o),i=>{if($e(e,i))if(se(r)){const a=e[i],c=j(a.callbacks,u=>u!==r);c.length>0?a.callbacks=c:delete e[i]}else delete e[i]})}}},q$=(e,t)=>{R(t,n=>{e.attr(n,null)})},K$=(e,t,n)=>{e.addNodeFilter("font",s=>{R(s,o=>{const r=t.parse(o.attr("style")),i=o.attr("color"),a=o.attr("face"),c=o.attr("size");i&&(r.color=i),a&&(r["font-family"]=a),c&&_l(c).each(u=>{r["font-size"]=n[u-1]}),o.name="span",o.attr("style",t.serialize(r)),q$(o,["color","face","size"])})})},G$=(e,t,n)=>{e.addNodeFilter("strike",s=>{const o=t.type!=="html4";R(s,r=>{if(o)r.name="s";else{const i=n.parse(r.attr("style"));i["text-decoration"]="line-through",r.name="span",r.attr("style",n.serialize(i))}})})},Y$=(e,t,n)=>{var s;const o=Bf();t.convert_fonts_to_spans&&K$(e,o,Q.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),G$(e,n,o)},X$=(e,t,n)=>{t.inline_styles&&Y$(e,t,n)},Q$=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`)),Z$=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},Pm=e=>{const[t,...n]=e.split(","),s=n.join(","),o=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(o){const r=o[2]===";base64",i=r?Z$(s):decodeURIComponent(s);return b.some({type:o[1],data:i,base64Encoded:r})}else return b.none()},cE=(e,t,n=!0)=>{let s=t;if(n)try{s=atob(t)}catch{return b.none()}const o=new Uint8Array(s.length);for(let r=0;r<o.length;r++)o[r]=s.charCodeAt(r);return b.some(new Blob([o],{type:e}))},J$=e=>new Promise((t,n)=>{Pm(e).bind(({type:s,data:o,base64Encoded:r})=>cE(s,o,r)).fold(()=>n("Invalid data URI"),t)}),eM=e=>Zt(e,"blob:")?Q$(e):Zt(e,"data:")?J$(e):Promise.reject("Unknown URI format"),uE=e=>new Promise((t,n)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var o;n((o=s.error)===null||o===void 0?void 0:o.message)},s.readAsDataURL(e)});let tM=0;const nM=e=>(e||"blobid")+tM++,fE=(e,t,n)=>Pm(e).bind(({data:s,type:o,base64Encoded:r})=>{if(t&&!r)return b.none();{const i=r?s:btoa(s);return n(i,o)}}),dE=(e,t,n)=>{const s=e.create(nM(),t,n);return e.add(s),s},mE=(e,t,n=!1)=>fE(t,n,(s,o)=>b.from(e.getByData(s,o)).orThunk(()=>cE(o,s).map(r=>dE(e,r,s)))),sM=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(Zt(t,"blob:")){const s=e.getByUri(t);return se(s)?Promise.resolve(s):eM(t).then(o=>uE(o).then(r=>fE(r,!1,i=>b.some(dE(e,o,i))).getOrThunk(n)))}else return Zt(t,"data:")?mE(e,t).fold(n,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},oM=e=>se(e.attr("data-mce-bogus")),rM=e=>e.attr("src")===Xe.transparentSrc||se(e.attr("data-mce-placeholder")),iM=(e,t)=>{const{blob_cache:n}=t;if(n){const s=o=>{const r=o.attr("src");rM(o)||oM(o)||Ve(r)||mE(n,r,!0).each(i=>{o.attr("src",i.blobUri())})};e.addAttributeFilter("src",o=>R(o,s))}},aM=(e,t)=>{const n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(o,r,i)=>{const a=Q.extend({},n.getBlockElements()),c=n.getNonEmptyElements(),u=n.getWhitespaceElements();a.body=1;for(let d=0,g=o.length;d<g;d++){let p=o[d],E=p.parent;if(E&&a[E.name]&&p===E.lastChild){let _=p.prev;for(;_;){const y=_.name;if(y!=="span"||_.attr("data-mce-type")!=="bookmark"){y==="br"&&(p=null);break}_=_.prev}if(p&&(p.remove(),za(n,c,u,E))){const y=n.getElementRule(E.name);y&&(y.removeEmpty?E.remove():y.paddEmpty&&om(t,i,a,E))}}else{let _=p;for(;E&&E.firstChild===_&&E.lastChild===_&&(_=E,!a[E.name]);)E=E.parent;if(_===E){const y=new En("#text",3);y.value=Gt,p.replace(y)}}}}),e.addAttributeFilter("href",o=>{let r=o.length;const i=c=>c.split(" ").filter(d=>d.length>0).concat(["noopener"]).sort().join(" "),a=c=>{const u=c?Q.trim(c):"";return/\b(noopener)\b/g.test(u)?u:i(u)};if(!t.allow_unsafe_link_target)for(;r--;){const c=o[r];c.name==="a"&&c.attr("target")==="_blank"&&c.attr("rel",a(c.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",o=>{let r=o.length,i,a,c,u;for(;r--;)if(u=o[r],u.name==="a"&&u.firstChild&&!u.attr("href"))for(c=u.parent,i=u.lastChild;i&&c;)a=i.prev,c.insert(i,u),i=a}),t.fix_list_elements&&e.addNodeFilter("ul,ol",o=>{let r=o.length,i,a;for(;r--;)if(i=o[r],a=i.parent,a&&(a.name==="ul"||a.name==="ol"))if(i.prev&&i.prev.name==="li")i.prev.append(i);else{const c=new En("li",1);c.attr("style","list-style-type: none"),i.wrap(c)}});const s=n.getValidClasses();t.validate&&s&&e.addAttributeFilter("class",o=>{var r;let i=o.length;for(;i--;){const a=o[i],c=(r=a.attr("class"))!==null&&r!==void 0?r:"",u=Q.explode(c," ");let d="";for(let g=0;g<u.length;g++){const p=u[g];let E=!1,_=s["*"];_&&_[p]&&(E=!0),_=s[a.name],!E&&_&&_[p]&&(E=!0),E&&(d&&(d+=" "),d+=p)}d.length||(d=null),a.attr("class",d)}}),iM(e,t)},pE=Q.each,lM=Q.trim,cM=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],uM={ftp:21,http:80,https:443,mailto:25},fM=["img","video"],dM=(e,t)=>se(e)?!e:se(t)?!z(fM,t):!0,mM=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},gE=(e,t,n)=>{const s=mM(t);return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?dM(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class ys{constructor(t,n={}){this.path="",this.directory="",t=lM(t),this.settings=n;const s=n.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){o.source=t;return}const r=t.indexOf("//")===0;if(t.indexOf("/")===0&&!r&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const a=s?s.path:new ys(document.location.href).directory;if((s==null?void 0:s.protocol)==="")t="//mce_host"+o.toAbsPath(a,t);else{const c=/([^#?]*)([#?]?.*)/.exec(t);c&&(t=(s&&s.protocol||"http")+"://mce_host"+o.toAbsPath(a,c[1])+c[2])}}t=t.replace(/@@/g,"(mce_at)");const i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);i&&pE(cM,(a,c)=>{let u=i[c];u&&(u=u.replace(/\(mce_at\)/g,"@@")),o[a]=u}),s&&(o.protocol||(o.protocol=s.protocol),o.userInfo||(o.userInfo=s.userInfo),!o.port&&o.host==="mce_host"&&(o.port=s.port),(!o.host||o.host==="mce_host")&&(o.host=s.host),o.source=""),r&&(o.protocol="")}static parseDataUri(t){let n;const s=decodeURIComponent(t).split(","),o=/data:([^;]+)/.exec(s[0]);return o&&(n=o[1]),{type:n,data:s[1]}}static isDomSafe(t,n,s={}){if(s.allow_script_urls)return!0;{const o=Ro.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!gE(s,o,n)}}static getDocumentBaseUrl(t){var n;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(n=t.href)!==null&&n!==void 0?n:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new ys(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const s=this.getURI(),o=n.getURI();if(s===o||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===o)return s;let r=this.toRelPath(this.path,n.path);return n.query&&(r+="?"+n.query),n.anchor&&(r+="#"+n.anchor),r}toAbsolute(t,n){const s=new ys(t,{base_uri:this});return s.getURI(n&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?uM[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let s=0,o="",r,i;const a=t.substring(0,t.lastIndexOf("/")).split("/"),c=n.split("/");if(a.length>=c.length){for(r=0,i=a.length;r<i;r++)if(r>=c.length||a[r]!==c[r]){s=r+1;break}}if(a.length<c.length){for(r=0,i=c.length;r<i;r++)if(r>=a.length||a[r]!==c[r]){s=r+1;break}}if(s===1)return n;for(r=0,i=a.length-(s-1);r<i;r++)o+="../";for(r=s-1,i=c.length;r<i;r++)r!==s-1?o+="/"+c[r]:o+=c[r];return o}toAbsPath(t,n){let s=0;const o=/\/$/.test(n)?"/":"",r=t.split("/"),i=n.split("/"),a=[];pE(r,g=>{g&&a.push(g)});const c=[];for(let g=i.length-1;g>=0;g--)if(!(i[g].length===0||i[g]===".")){if(i[g]===".."){s++;continue}if(s>0){s--;continue}c.push(i[g])}const u=a.length-s;let d;return u<=0?d=Nt(c).join("/"):d=a.slice(0,u).join("/")+"/"+Nt(c).join("/"),d.indexOf("/")!==0&&(d="/"+d),o&&d.lastIndexOf("/")!==d.length-1&&(d+=o),d}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const hE=Q.makeMap,bE=Q.extend,pM={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]},gM=Q.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Om="data-mce-type",hM=(e,t)=>{const n={...pM};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n},bM=(e,t)=>{const n=j$(),s=t.getSpecialElements(),o=e.validate;let r=0;return n.addHook("uponSanitizeElement",(i,a)=>{var c,u,d;i.nodeType===Ah&&!e.allow_conditional_comments&&/^\[if/i.test((c=i.nodeValue)!==null&&c!==void 0?c:"")&&(i.nodeValue=" "+i.nodeValue);const g=a.tagName;if(i.nodeType!==Ji||g==="body")return;const p=x.fromDom(i),E=g.toLowerCase(),_=wl(p,Om),y=os(p,"data-mce-bogus");if(!_&&le(y)){y==="all"?_t(p):No(p);return}const S=t.getElementRule(E);if(o&&!S){$e(s,E)?_t(p):No(p);return}else a.allowedTags[g]=!0;if(o&&S&&!_){if(R((u=S.attributesForced)!==null&&u!==void 0?u:[],w=>{Kt(p,w.name,w.value==="{$uid}"?`mce_${r++}`:w.value)}),R((d=S.attributesDefault)!==null&&d!==void 0?d:[],w=>{wl(p,w.name)||Kt(p,w.name,w.value==="{$uid}"?`mce_${r++}`:w.value)}),S.attributesRequired&&!Y(S.attributesRequired,w=>wl(p,w))){No(p);return}if(S.removeEmptyAttrs&&aA(p)){No(p);return}S.outputName&&S.outputName!==E&&TR(p,S.outputName)}}),n.addHook("uponSanitizeAttribute",(i,a)=>{const c=i.tagName.toLowerCase(),{attrName:u,attrValue:d}=a;a.keepAttr=!o||t.isValid(c,u)||Zt(u,"data-")||Zt(u,"aria-"),u in gM&&gE(e,d,c)&&(a.keepAttr=!1),a.keepAttr?(a.allowedAttributes[u]=!0,u in t.getBoolAttrs()&&(a.attrValue=u),e.allow_svg_data_urls&&Zt(d,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):i.hasAttribute(Om)&&(u==="id"||u==="class"||u==="style")&&(a.forceKeepAttr=!0)}),n},vE=(e,t,n)=>{const s=e.name,o=s in n&&s!=="title"&&s!=="textarea",r=t.childNodes;for(let i=0,a=r.length;i<a;i++){const c=r[i],u=new En(c.nodeName.toLowerCase(),c.nodeType);if(fe(c)){const d=c.attributes;for(let g=0,p=d.length;g<p;g++){const E=d[g];u.attr(E.name,E.value)}}else X(c)?(u.value=c.data,o&&(u.raw=!0)):(Ao(c)||jA(c)||qA(c))&&(u.value=c.data);vE(u,c,n),e.append(u)}},vM=(e,t,n)=>{const s=[];for(let o=e,r=o;o;r=o,o=o.walk()){const i=o;R(t,a=>a(i)),Ve(i.parent)&&i!==e?o=r:s.push(i)}for(let o=s.length-1;o>=0;o--){const r=s[o];R(n,i=>i(r))}},CM=(e,t,n,s)=>{const o=n.validate,r=t.getNonEmptyElements(),i=t.getWhitespaceElements(),a=bE(hE("script,style,head,html,body,title,meta,param"),t.getBlockElements()),c=Bb(t),u=/[ \t\r\n]+/g,d=/^[ \t\r\n]+/,g=/[ \t\r\n]+$/,p=w=>{let k=w.parent;for(;se(k);){if(k.name in i)return!0;k=k.parent}return!1},E=w=>{let k=w;for(;se(k);){if(k.name in c)return za(t,r,i,k);k=k.parent}return!1},_=(w,k)=>{const A=k?w.prev:w.next;return se(A)||Ve(w.parent)?!1:w.parent.name in a&&(w.parent!==e||s.isRootContent===!0)};return[w=>{var k;if(w.type===3&&!p(w)){let A=(k=w.value)!==null&&k!==void 0?k:"";A=A.replace(u," "),(zF(w.prev,a)||_(w,!0))&&(A=A.replace(d,"")),A.length===0?w.remove():w.value=A}},w=>{var k;if(w.type===1){const A=t.getElementRule(w.name);if(o&&A){const U=za(t,r,i,w);A.paddInEmptyBlock&&U&&E(w)?om(n,s,a,w):A.removeEmpty&&U?a[w.name]?w.remove():w.unwrap():A.paddEmpty&&(U||MF(w))&&om(n,s,a,w)}}else if(w.type===3&&!p(w)){let A=(k=w.value)!==null&&k!==void 0?k:"";(w.next&&a[w.next.name]||_(w,!1))&&(A=A.replace(g,"")),A.length===0?w.remove():w.value=A}}]},yM=(e,t)=>{var n;const s=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return s===!1?"":s===!0?"p":s},_i=(e={},t=Po())=>{const n=lE(),s=lE(),o={validate:!0,root_name:"body",...e},r=new DOMParser,i=bM(o,t),a=(k,A,U="html")=>{const H=U==="xhtml"?"application/xhtml+xml":"text/html",ee=$e(t.getSpecialElements(),A.toLowerCase()),W=ee?`<${A}>${k}</${A}>`:k,F=U==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${W}</body></html>`:`<body>${W}</body>`,L=r.parseFromString(F,H).body;return i.sanitize(L,hM(o,H)),i.removed=[],ee?L.firstChild:L},c=n.addFilter,u=n.getFilters,d=n.removeFilter,g=s.addFilter,p=s.getFilters,E=s.removeFilter,_=(k,A)=>{const U=k.parent;U&&t.children[k.name]&&!t.isValidChild(U.name,k.name)&&A.push(k)},y=(k,A)=>{const U=bE(hE("script,style,head,html,body,title,meta,param"),t.getBlockElements()),H=/^[ \t\r\n]+/,ee=/[ \t\r\n]+$/;let W=k.firstChild,F=null;const L=te=>{var me,be;te&&(W=te.firstChild,W&&W.type===3&&(W.value=(me=W.value)===null||me===void 0?void 0:me.replace(H,"")),W=te.lastChild,W&&W.type===3&&(W.value=(be=W.value)===null||be===void 0?void 0:be.replace(ee,"")))};if(!!t.isValidChild(k.name,A.toLowerCase())){for(;W;){const te=W.next;W.type===3||W.type===1&&W.name!=="p"&&!U[W.name]&&!W.attr(Om)?(F||(F=new En(A,1),F.attr(o.forced_root_block_attrs),k.insert(F,W)),F.append(W)):(L(F),F=null),W=te}L(F)}},w={schema:t,addAttributeFilter:g,getAttributeFilters:p,removeAttributeFilter:E,addNodeFilter:c,getNodeFilters:u,removeNodeFilter:d,parse:(k,A={})=>{var U;const H=o.validate,ee=(U=A.context)!==null&&U!==void 0?U:o.root_name,W=a(k,ee,A.format),F=new En(ee,11);vE(F,W,t.getSpecialElements());const[L,te]=CM(F,t,o,A),me=[],be=H?st=>_(st,me):Me,Te={nodes:{},attributes:{}},ze=st=>m0(u(),p(),st,Te);if(vM(F,[L,ze],[te,be]),me.reverse(),H&&me.length>0)if(A.context){const{pass:st,fail:Mt}=ue(me,Z=>Z.parent===F);im(Mt,t,ze),A.invalid=st.length>0}else im(me,t,ze);const qe=yM(o,A);return qe&&(F.name==="body"||A.isRootContent)&&y(F,qe),A.invalid||p0(Te,A),F}};return aM(w,o),X$(w,o,t),w},EM=e=>wc(e)?Lo({validate:!1}).serialize(e):e,CE=(e,t)=>{const n=EM(e),s=t(n);if(s.isDefaultPrevented())return s;if(wc(e))if(s.content!==n){const o=_i({validate:!1,forced_root_block:!1}).parse(s.content,{context:e.name});return{...s,content:o}}else return{...s,content:e};else return s},yE=(e,t)=>{if(t.no_events)return Cn.value(t);{const n=iD(e,t);return n.isDefaultPrevented()?Cn.error(UC(e,{content:"",...n}).content):Cn.value(n)}},EE=(e,t,n)=>n.no_events?t:CE(t,o=>UC(e,{...n,content:o})).content,Dm=(e,t)=>{if(t.no_events)return Cn.value(t);{const n=CE(t.content,s=>rD(e,{...t,content:s}));return n.isDefaultPrevented()?(MC(e,n),Cn.error(void 0)):Cn.value(n)}},Bm=(e,t,n)=>{n.no_events||MC(e,{...n,content:t})},Im=(e,t,n)=>({element:e,width:t,rows:n}),_E=(e,t)=>({element:e,cells:t}),_M=(e,t)=>({x:e,y:t}),SE=(e,t)=>ao(e,t).bind(_l).getOr(1),SM=(e,t,n,s,o)=>{const r=SE(o,"rowspan"),i=SE(o,"colspan"),a=e.rows;for(let c=n;c<n+r;c++){a[c]||(a[c]=_E(Yb(s),[]));for(let u=t;u<t+i;u++){const d=a[c].cells;d[u]=c===n&&u===t?o:ii(o)}}},wM=(e,t,n)=>{const s=e.rows;return!!(s[n]?s[n].cells:[])[t]},xM=(e,t,n)=>{for(;wM(e,t,n);)t++;return t},wE=e=>_e(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),xE=(e,t)=>{const n=e.rows;for(let s=0;s<n.length;s++){const o=n[s].cells;for(let r=0;r<o.length;r++)if(it(o[r],t))return b.some(_M(r,s))}return b.none()},kE=(e,t,n,s,o)=>{const r=[],i=e.rows;for(let a=n;a<=o;a++){const c=i[a].cells,u=t<s?c.slice(t,s+1):c.slice(s,t+1);r.push(_E(i[a].element,u))}return r},kM=(e,t,n)=>{const s=t.x,o=t.y,r=n.x,i=n.y,a=o<i?kE(e,s,o,r,i):kE(e,s,i,r,o);return Im(e.element,wE(a),a)},NM=(e,t)=>{const n=ii(e.element),s=x.fromTag("tbody");return or(s,t),Wt(n,s),n},AM=e=>V(e.rows,t=>{const n=V(t.cells,o=>{const r=Yb(o);return sn(r,"colspan"),sn(r,"rowspan"),r}),s=ii(t.element);return or(s,n),s}),TM=e=>{const t=Im(ii(e),0,[]);return R(vn(e,"tr"),(n,s)=>{R(vn(n,"td,th"),(o,r)=>{SM(t,xM(t,r,s),s,n,o)})}),Im(t.element,wE(t.rows),t.rows)},RM=e=>NM(e,AM(e)),PM=(e,t,n)=>xE(e,t).bind(s=>xE(e,n).map(o=>kM(e,s,o))),OM=e=>Ce(e,t=>xt(t)==="ul"||xt(t)==="ol"),DM=(e,t)=>Ce(e,n=>xt(n)==="li"&&dd(n,t)).fold(K([]),n=>OM(e).map(s=>{const o=x.fromTag(xt(s)),r=Gi(Qh(s),(i,a)=>Zt(a,"list-style"));return Nl(o,r),[x.fromTag("li"),o]}).getOr([])),BM=(e,t)=>{const n=_e(t,(s,o)=>(Wt(o,s),o),e);return t.length>0?xd([n]):n},IM=e=>ua(e)?Hn(e).filter(_f).fold(K([]),t=>[e,t]):_f(e)?[e]:[],FM=(e,t)=>{const n=x.fromDom(t.commonAncestorContainer),s=go(n,e),o=j(s,mT),r=DM(s,t),i=o.concat(r.length?r:IM(n));return V(i,ii)},NE=()=>xd([]),LM=(e,t)=>BM(x.fromDom(t.cloneContents()),FM(e,t)),$M=(e,t)=>la(t,"table",ie(it,e)),MM=(e,t)=>$M(e,t[0]).bind(n=>{const s=t[0],o=t[t.length-1],r=TM(n);return PM(r,s,o).map(i=>xd([RM(i)]))}).getOrThunk(NE),UM=(e,t)=>t.length>0&&t[0].collapsed?NE():LM(e,t[0]),zM=(e,t)=>{const n=hC(t,e);return n.length>0?MM(e,n):UM(e,t)},Dc=(e,t)=>t>=0&&t<e.length&&di(e.charAt(t)),AE=e=>fo(e.innerText),HM=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),WM=e=>b.from(e.selection.getRng()).map(t=>{var n;const s=b.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),o=e.getBody(),r=HM(s),i=e.dom.add(o,r,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),a=AE(i),c=fo((n=i.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(i),Dc(c,0)||Dc(c,c.length-1)){const u=s.getOr(o),d=AE(u),g=d.indexOf(a);if(g===-1)return a;{const p=Dc(d,g-1),E=Dc(d,g+a.length);return(p?" ":"")+a+(E?" ":"")}}else return a}).getOr(""),VM=(e,t)=>{const n=e.selection.getRng(),s=e.dom.create("body"),o=e.selection.getSel(),r=Fd(e,ud(o)),i=t.contextual?zM(x.fromDom(e.getBody()),r).dom:n.cloneContents();return i&&s.appendChild(i),e.selection.serializer.serialize(s,t)},jM=(e,t)=>{if(t.format==="text")return WM(e);{const n=VM(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},qM=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),KM=(e,t,n={})=>{const s=qM(n,t);return yE(e,s).fold(Ot,o=>{const r=jM(e,o);return EE(e,r,o)})},Fm=0,TE=1,RE=2,GM=(e,t)=>{const n=e.length+t.length+2,s=new Array(n),o=new Array(n),r=(d,g,p)=>({start:d,end:g,diag:p}),i=(d,g,p,E,_)=>{const y=c(d,g,p,E);if(y===null||y.start===g&&y.diag===g-E||y.end===d&&y.diag===d-p){let S=d,w=p;for(;S<g||w<E;)S<g&&w<E&&e[S]===t[w]?(_.push([Fm,e[S]]),++S,++w):g-d>E-p?(_.push([RE,e[S]]),++S):(_.push([TE,t[w]]),++w)}else{i(d,y.start,p,y.start-y.diag,_);for(let S=y.start;S<y.end;++S)_.push([Fm,e[S]]);i(y.end,g,y.end-y.diag,E,_)}},a=(d,g,p,E)=>{let _=d;for(;_-g<E&&_<p&&e[_]===t[_-g];)++_;return r(d,_,g)},c=(d,g,p,E)=>{const _=g-d,y=E-p;if(_===0||y===0)return null;const S=_-y,w=y+_,k=(w%2===0?w:w+1)/2;s[1+k]=d,o[1+k]=g+1;let A,U,H,ee,W;for(A=0;A<=k;++A){for(U=-A;U<=A;U+=2){for(H=U+k,U===-A||U!==A&&s[H-1]<s[H+1]?s[H]=s[H+1]:s[H]=s[H-1]+1,ee=s[H],W=ee-d+p-U;ee<g&&W<E&&e[ee]===t[W];)s[H]=++ee,++W;if(S%2!==0&&S-A<=U&&U<=S+A&&o[H-S]<=s[H])return a(o[H-S],U+d-p,g,E)}for(U=S-A;U<=S+A;U+=2){for(H=U+k-S,U===S-A||U!==S+A&&o[H+1]<=o[H-1]?o[H]=o[H+1]-1:o[H]=o[H-1],ee=o[H]-1,W=ee-d+p-U;ee>=d&&W>=p&&e[ee]===t[W];)o[H]=ee--,W--;if(S%2===0&&-A<=U&&U<=A&&o[H]<=s[H+S])return a(o[H],U+d-p,g,E)}}return null},u=[];return i(0,e.length,0,t.length,u),u},PE=e=>fe(e)?e.outerHTML:X(e)?Ro.encodeRaw(e.data,!1):Ao(e)?"<!--"+e.data+"-->":"",YM=e=>{let t;const n=document.createElement("div"),s=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)s.appendChild(t);return s},XM=(e,t,n)=>{const s=YM(t);if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.insertBefore(s,o)}else e.appendChild(s)},QM=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},ZM=(e,t)=>{let n=0;R(e,s=>{s[0]===Fm?n++:s[0]===TE?(XM(t,s[1],n),n++):s[0]===RE&&QM(t,n)})},JM=e=>j(V(wt(e.childNodes),PE),t=>t.length>0),eU=(e,t)=>{const n=V(wt(t.childNodes),PE);return ZM(GM(n,e),t),t},tU=er(()=>document.implementation.createHTMLDocument("undo")),nU=e=>e.indexOf("</iframe>")!==-1,sU=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),oU=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Bc=e=>{const t=JM(e.getBody()),n=ot(t,o=>{const r=Sy(e.serializer,o);return r.length>0?[r]:[]}),s=n.join("");return nU(s)?sU(n):oU(s)},Lm=(e,t,n)=>{const s=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?eU(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:se(s)&&cC(s)?!s.isFakeCaret:!0}),s&&e.selection.moveToBookmark(s)},$m=e=>e.type==="fragmented"?e.fragments.join(""):e.content,OE=e=>{const t=x.fromTag("body",tU());return Tl(t,$m(e)),R(vn(t,"*[data-mce-bogus]"),No),eb(t)},rU=(e,t)=>$m(e)===$m(t),iU=(e,t)=>OE(e)===OE(t),Mm=(e,t)=>!e||!t?!1:rU(e,t)?!0:iU(e,t),Um=e=>e.get()===0,Ic=(e,t,n)=>{Um(n)&&(e.typing=t)},DE=(e,t)=>{e.typing&&(Ic(e,!1,t),e.add())},aU=e=>{e.typing&&(e.typing=!1,e.add())},lU=(e,t,n)=>{Um(t)&&n.set(Gf(e.selection))},cU=(e,t,n,s,o,r,i)=>{const a=Bc(e),c=Q.extend(r||{},a);if(!Um(s)||e.removed)return null;const u=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:c,lastLevel:u,originalEvent:i}).isDefaultPrevented()||u&&Mm(u,c))return null;t.data[n.get()]&&o.get().each(p=>{t.data[n.get()].beforeBookmark=p});const d=Q1(e);if(d&&t.data.length>d){for(let p=0;p<t.data.length-1;p++)t.data[p]=t.data[p+1];t.data.length--,n.set(t.data.length)}c.bookmark=Gf(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(c),n.set(t.data.length-1);const g={level:c,lastLevel:u,originalEvent:i};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",g),e.dispatch("change",g)):e.dispatch("AddUndo",g),c},uU=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},fU=(e,t,n,s,o)=>{if(t.transact(s)){const r=t.data[n.get()].bookmark,i=t.data[n.get()-1];Lm(e,i,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=r)}},dU=(e,t,n)=>{let s;return t.get()<n.length-1&&(t.set(t.get()+1),s=n[t.get()],Lm(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},mU=(e,t,n,s)=>{let o;return t.typing&&(t.add(),t.typing=!1,Ic(t,!1,n)),s.get()>0&&(s.set(s.get()-1),o=t.data[s.get()],Lm(e,o,!0),e.setDirty(!0),e.dispatch("Undo",{level:o})),o},pU=e=>{e.clear(),e.add()},gU=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Mm(Bc(e),t.data[0]),hU=(e,t)=>t.get()<e.data.length-1&&!e.typing,bU=(e,t,n)=>(DE(e,t),e.beforeChange(),e.ignore(n),e.add()),vU=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},CU=(e,t)=>{const n=e.dom,s=se(t)?t:e.getBody();R(n.select("table,a",s),o=>{switch(o.nodeName){case"TABLE":const r=sP(e),i=n.getAttrib(o,"border");(!i||i==="0")&&e.hasVisual?n.addClass(o,r):n.removeClass(o,r);break;case"A":if(!n.getAttrib(o,"href")){const a=n.getAttrib(o,"name")||o.id,c=$v(e);a&&e.hasVisual?n.addClass(o,c):n.removeClass(o,c)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},BE=e=>({init:{bindEvents:Me},undoManager:{beforeChange:(t,n)=>lU(e,t,n),add:(t,n,s,o,r,i)=>cU(e,t,n,s,o,r,i),undo:(t,n,s)=>mU(e,t,n,s),redo:(t,n)=>dU(e,t,n),clear:(t,n)=>uU(e,t,n),reset:t=>pU(t),hasUndo:(t,n)=>gU(e,t,n),hasRedo:(t,n)=>hU(t,n),transact:(t,n,s)=>bU(t,n,s),ignore:(t,n)=>vU(t,n),extra:(t,n,s,o)=>fU(e,t,n,s,o)},formatter:{match:(t,n,s,o)=>pm(e,t,n,s,o),matchAll:(t,n)=>AL(e,t,n),matchNode:(t,n,s,o)=>Gs(e,t,n,s,o),canApply:t=>RL(e,t),closest:t=>TL(e,t),apply:(t,n,s)=>G0(e,t,n,s),remove:(t,n,s,o)=>j0(e,t,n,s,o),toggle:(t,n,s)=>h$(e,t,n,s),formatChanged:(t,n,s,o,r)=>g$(e,t,n,s,o,r)},editor:{getContent:t=>iI(e,t),setContent:(t,n)=>xL(e,t,n),insertContent:(t,n)=>EL(e,t,n),addVisual:t=>CU(e,t)},selection:{getContent:(t,n)=>KM(e,t,n)},autocompleter:{addDecoration:t=>GB(e,t),removeDecoration:()=>XB(e,x.fromDom(e.getBody()))},raw:{getModel:()=>b.none()}}),yU=e=>{const t=u=>tt(u)?u:{},{init:n,undoManager:s,formatter:o,editor:r,selection:i,autocompleter:a,raw:c}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(u,d,g)=>s.transact(g),ignore:(u,d)=>s.ignore(d),extra:(u,d,g,p)=>s.extra(g,p)},formatter:{match:(u,d,g,p)=>o.match(u,t(d),p),matchAll:o.matchAll,matchNode:o.matchNode,canApply:u=>o.canApply(u),closest:u=>o.closest(u),apply:(u,d,g)=>o.apply(u,t(d)),remove:(u,d,g,p)=>o.remove(u,t(d)),toggle:(u,d,g)=>o.toggle(u,t(d)),formatChanged:(u,d,g,p,E)=>o.formatChanged(d,g,p,E)},editor:{getContent:u=>r.getContent(u),setContent:(u,d)=>({content:r.setContent(u,d),html:""}),insertContent:(u,d)=>(r.insertContent(u),""),addVisual:r.addVisual},selection:{getContent:(u,d)=>i.getContent(d)},autocompleter:{addDecoration:a.addDecoration,removeDecoration:a.removeDecoration},raw:{getModel:()=>b.some(c.getRawModel())}}},EU=()=>{const e=K(null),t=K("");return{init:{bindEvents:Me},undoManager:{beforeChange:Me,add:e,undo:e,redo:e,clear:Me,reset:Me,hasUndo:nt,hasRedo:nt,transact:e,ignore:Me,extra:Me},formatter:{match:nt,matchAll:K([]),matchNode:K(void 0),canApply:nt,closest:t,apply:Me,remove:Me,toggle:Me,formatChanged:K({unbind:Me})},editor:{getContent:t,setContent:K({content:"",html:""}),insertContent:K(""),addVisual:Me},selection:{getContent:t},autocompleter:{addDecoration:Me,removeDecoration:Me},raw:{getModel:K(b.none())}}},Xs=e=>$e(e.plugins,"rtc"),_U=e=>bt(e.plugins,"rtc").bind(t=>b.from(t.setup)),SU=e=>{const t=e;return _U(e).fold(()=>(t.rtcInstance=BE(e),b.none()),n=>(t.rtcInstance=EU(),b.some(()=>n().then(s=>(t.rtcInstance=yU(s),s.rtc.isRemote)))))},zm=e=>e.rtcInstance?e.rtcInstance:BE(e),Rt=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},wU=(e,t,n)=>{Rt(e).undoManager.beforeChange(t,n)},xU=(e,t,n,s,o,r,i)=>Rt(e).undoManager.add(t,n,s,o,r,i),kU=(e,t,n,s)=>Rt(e).undoManager.undo(t,n,s),NU=(e,t,n)=>Rt(e).undoManager.redo(t,n),AU=(e,t,n)=>{Rt(e).undoManager.clear(t,n)},TU=(e,t)=>{Rt(e).undoManager.reset(t)},RU=(e,t,n)=>Rt(e).undoManager.hasUndo(t,n),PU=(e,t,n)=>Rt(e).undoManager.hasRedo(t,n),OU=(e,t,n,s)=>Rt(e).undoManager.transact(t,n,s),DU=(e,t,n)=>{Rt(e).undoManager.ignore(t,n)},BU=(e,t,n,s,o)=>{Rt(e).undoManager.extra(t,n,s,o)},IU=(e,t,n,s,o)=>Rt(e).formatter.match(t,n,s,o),FU=(e,t,n)=>Rt(e).formatter.matchAll(t,n),LU=(e,t,n,s,o)=>Rt(e).formatter.matchNode(t,n,s,o),$U=(e,t)=>Rt(e).formatter.canApply(t),MU=(e,t)=>Rt(e).formatter.closest(t),UU=(e,t,n,s)=>{Rt(e).formatter.apply(t,n,s)},zU=(e,t,n,s,o)=>{Rt(e).formatter.remove(t,n,s,o)},HU=(e,t,n,s)=>{Rt(e).formatter.toggle(t,n,s)},WU=(e,t,n,s,o,r)=>Rt(e).formatter.formatChanged(t,n,s,o,r),VU=(e,t)=>zm(e).editor.getContent(t),jU=(e,t,n)=>zm(e).editor.setContent(t,n),qU=(e,t,n)=>zm(e).editor.insertContent(t,n),KU=(e,t,n)=>Rt(e).selection.getContent(t,n),GU=(e,t)=>Rt(e).editor.addVisual(t),IE=e=>Rt(e).init.bindEvents(),YU=(e,t)=>Rt(e).autocompleter.addDecoration(t),XU=e=>Rt(e).autocompleter.removeDecoration(),QU=(e,t={})=>{const n=t.format?t.format:"html";return KU(e,n,t)},FE=e=>e.dom.length===0?(_t(e),b.none()):b.some(e),ZU=(e,t)=>e.filter(n=>Da.isBookmarkNode(n.dom)).bind(t?ra:sr),JU=(e,t,n,s)=>{const o=e.dom,r=t.dom,i=s?o.length:r.length;s?(Kd(o,r,!1,!s),n.setStart(r,i)):(Kd(r,o,!1,!s),n.setEnd(r,i))},ez=(e,t)=>{Hn(e).each(n=>{const s=e.dom;t&&$a(n,$(s,0))?yc(s,0):!t&&Ma(n,$(s,s.length))&&qd(s,s.length)})},LE=(e,t,n,s)=>{e.bind(o=>((s?qd:yc)(o.dom,s?o.dom.length:0),t.filter(zn).map(i=>JU(o,i,n,s)))).orThunk(()=>ZU(t,s).or(t).filter(zn).map(r=>ez(r,s)))},tz=(e,t)=>{const n=b.from(t.firstChild).map(x.fromDom),s=b.from(t.lastChild).map(x.fromDom);e.deleteContents(),e.insertNode(t);const o=n.bind(sr).filter(zn).bind(FE),r=s.bind(ra).filter(zn).bind(FE);LE(o,n,e,!0),LE(r,s,e,!1),e.collapse(!1)},nz=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),sz=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),s=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),o=s?{context:s.nodeName.toLowerCase()}:{},r=e.parser.parse(t.content,{forced_root_block:!1,...o,...t});return Lo({validate:!1},e.schema).serialize(r)}else return t.content},oz=(e,t,n={})=>{const s=nz(n,t);Dm(e,s).each(o=>{const r=sz(e,o),i=e.selection.getRng();tz(i,i.createContextualFragment(r)),e.selection.setRng(i),Ia(e,i),Bm(e,r,o)})},$E=(e,t,n)=>{if($e(e,t)){const s=j(e[t],o=>o!==n);s.length===0?delete e[t]:e[t]=s}};var rz=(e,t)=>{let n,s;const o=(a,c)=>Ce(c,u=>e.is(u,a)),r=a=>e.getParents(a,void 0,e.getRoot()),i=()=>{n={},s={},t.on("NodeChange",a=>{const c=a.element,u=r(c),d={};dt(n,(g,p)=>{o(p,u).each(E=>{s[p]||(R(g,_=>{_(!0,{node:E,selector:p,parents:u})}),s[p]=g),d[p]=g})}),dt(s,(g,p)=>{d[p]||(delete s[p],R(g,E=>{E(!1,{node:c,selector:p,parents:u})}))})})};return{selectorChangedWithUnbind:(a,c)=>(n||i(),n[a]||(n[a]=[]),n[a].push(c),o(a,r(t.selection.getStart())).each(()=>{s[a]=n[a]}),{unbind:()=>{$E(n,a,c),$E(s,a,c)}})}};const ME=e=>!!(e&&e.ownerDocument)&&lo(x.fromDom(e.ownerDocument),x.fromDom(e)),iz=e=>e?ME(e.startContainer)&&ME(e.endContainer):!1,UE=(e,t,n,s)=>{let o,r;const{selectorChangedWithUnbind:i}=rz(e,s),a=(Z,Re)=>{const Oe=e.createRng();se(Z)&&se(Re)?(Oe.setStart(Z,Re),Oe.setEnd(Z,Re),A(Oe),S(!1)):(md(e,Oe,s.getBody(),!0),A(Oe))},c=Z=>QU(s,Z),u=(Z,Re)=>oz(s,Z,Re),d=Z=>gy(s.getBody(),k(),Z),g=Z=>hy(s.getBody(),k(),Z),p=(Z,Re)=>st.getBookmark(Z,Re),E=Z=>st.moveToBookmark(Z),_=(Z,Re)=>(zB(e,Z,Re).each(A),Z),y=()=>{const Z=k(),Re=w();return!Z||Z.item?!1:Z.compareEndPoints?Z.compareEndPoints("StartToEnd",Z)===0:!Re||Z.collapsed},S=Z=>{const Re=k();Re.collapse(!!Z),A(Re)},w=()=>t.getSelection?t.getSelection():t.document.selection,k=()=>{let Z;const Re=(ke,kt,ae)=>{try{return kt.compareBoundaryPoints(ke,ae)}catch{return-1}},Oe=t.document;if(se(s.bookmark)&&!_r(s)){const ke=Od(s);if(ke.isSome())return ke.map(kt=>Fd(s,[kt])[0]).getOr(Oe.createRange())}try{const ke=w();ke&&!Pl(ke.anchorNode)&&(ke.rangeCount>0?Z=ke.getRangeAt(0):Z=Oe.createRange(),Z=Fd(s,[Z])[0])}catch{}if(Z||(Z=Oe.createRange()),aa(Z.startContainer)&&Z.collapsed){const ke=e.getRoot();Z.setStart(ke,0),Z.setEnd(ke,0)}return o&&r&&(Re(Z.START_TO_START,Z,o)===0&&Re(Z.END_TO_END,Z,o)===0?Z=r:(o=null,r=null)),Z},A=(Z,Re)=>{if(!iz(Z))return;const Oe=w();if(Z=s.dispatch("SetSelectionRange",{range:Z,forward:Re}).range,Oe){r=Z;try{Oe.removeAllRanges(),Oe.addRange(Z)}catch{}Re===!1&&Oe.extend&&(Oe.collapse(Z.endContainer,Z.endOffset),Oe.extend(Z.startContainer,Z.startOffset)),o=Oe.rangeCount>0?Oe.getRangeAt(0):null}if(!Z.collapsed&&Z.startContainer===Z.endContainer&&(Oe==null?void 0:Oe.setBaseAndExtent)&&Z.endOffset-Z.startOffset<2&&Z.startContainer.hasChildNodes()){const kt=Z.startContainer.childNodes[Z.startOffset];kt&&kt.nodeName==="IMG"&&(Oe.setBaseAndExtent(Z.startContainer,Z.startOffset,Z.endContainer,Z.endOffset),(Oe.anchorNode!==Z.startContainer||Oe.focusNode!==Z.endContainer)&&Oe.setBaseAndExtent(kt,0,kt,1))}s.dispatch("AfterSetSelectionRange",{range:Z,forward:Re})},U=Z=>(u(e.getOuterHTML(Z)),Z),H=()=>MB(s.getBody(),k()),ee=(Z,Re)=>UB(e,k(),Z,Re),W=()=>{const Z=w(),Re=Z==null?void 0:Z.anchorNode,Oe=Z==null?void 0:Z.focusNode;if(!Z||!Re||!Oe||Pl(Re)||Pl(Oe))return!0;const ke=e.createRng(),kt=e.createRng();try{ke.setStart(Re,Z.anchorOffset),ke.collapse(!0),kt.setStart(Oe,Z.focusOffset),kt.collapse(!0)}catch{return!0}return ke.compareBoundaryPoints(ke.START_TO_START,kt)<=0},qe={dom:e,win:t,serializer:n,editor:s,collapse:S,setCursorLocation:a,getContent:c,setContent:u,getBookmark:p,moveToBookmark:E,select:_,isCollapsed:y,isForward:W,setNode:U,getNode:H,getSel:w,setRng:A,getRng:k,getStart:d,getEnd:g,getSelectedBlocks:ee,normalize:()=>{const Z=k(),Re=w();if(!SO(Re)&&ac(s)){const Oe=pc(e,Z);return Oe.each(ke=>{A(ke,W())}),Oe.getOr(Z)}return Z},selectorChanged:(Z,Re)=>(i(Z,Re),qe),selectorChangedWithUnbind:i,getScrollContainer:()=>{let Z,Re=e.getRoot();for(;Re&&Re.nodeName!=="BODY";){if(Re.scrollHeight>Re.clientHeight){Z=Re;break}Re=Re.parentNode}return Z},scrollIntoView:(Z,Re)=>{se(Z)?iB(s,Z,Re):Ia(s,k(),Re)},placeCaretAt:(Z,Re)=>A(GC(Z,Re,s.getDoc())),getBoundingClientRect:()=>{const Z=k();return Z.collapsed?$.fromRangeStart(Z).getClientRects()[0]:Z.getBoundingClientRect()},destroy:()=>{t=o=r=null,Mt.destroy()}},st=Da(qe),Mt=WC(qe,s);return qe.bookmarkManager=st,qe.controlSelection=Mt,qe},az=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(s,o)=>{let r=s.length;for(;r--;){const i=s[r];i.attr("tabindex",i.attr("data-mce-tabindex")),i.attr(o,null)}}),e.addAttributeFilter("src,href,style",(s,o)=>{const r="data-mce-"+o,i=t.url_converter,a=t.url_converter_scope;let c=s.length;for(;c--;){const u=s[c];let d=u.attr(r);d!==void 0?(u.attr(o,d.length>0?d:null),u.attr(r,null)):(d=u.attr(o),o==="style"?d=n.serializeStyle(n.parseStyle(d),u.name):i&&(d=i.call(a,d,o,u.name)),u.attr(o,d.length>0?d:null))}}),e.addAttributeFilter("class",s=>{let o=s.length;for(;o--;){const r=s[o];let i=r.attr("class");i&&(i=i.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),r.attr("class",i.length>0?i:null))}}),e.addAttributeFilter("data-mce-type",(s,o,r)=>{let i=s.length;for(;i--;){const a=s[i];a.attr("data-mce-type")==="bookmark"&&!r.cleanup&&(b.from(a.firstChild).exists(u=>{var d;return!Fl((d=u.value)!==null&&d!==void 0?d:"")})?a.unwrap():a.remove())}}),e.addNodeFilter("noscript",s=>{var o;let r=s.length;for(;r--;){const i=s[r].firstChild;i&&(i.value=Ro.decode((o=i.value)!==null&&o!==void 0?o:""))}}),e.addNodeFilter("script,style",(s,o)=>{var r;const i=c=>c.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let a=s.length;for(;a--;){const c=s[a],u=c.firstChild,d=(r=u==null?void 0:u.value)!==null&&r!==void 0?r:"";if(o==="script"){const g=c.attr("type");g&&c.attr("type",g==="mce-no/type"?null:g.replace(/^mce\-/,"")),t.element_format==="xhtml"&&u&&d.length>0&&(u.value=`// <![CDATA[
`+i(d)+`
// ]]>`)}else t.element_format==="xhtml"&&u&&d.length>0&&(u.value=`<!--
`+i(d)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let o=s.length;for(;o--;){const r=s[o],i=r.value;t.preserve_cdata&&(i==null?void 0:i.indexOf("[CDATA["))===0?(r.name="#cdata",r.type=4,r.value=n.decode(i.replace(/^\[CDATA\[|\]\]$/g,""))):(i==null?void 0:i.indexOf("mce:protected "))===0&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(i).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,o)=>{let r=s.length;for(;r--;){const i=s[r];i.type===7?i.remove():i.type===1&&o==="input"&&!i.attr("type")&&i.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{R(s,o=>{o.attr("data-mce-type")==="format-caret"&&(o.isEmpty(e.schema.getNonEmptyElements())?o.remove():o.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(s,o)=>{let r=s.length;for(;r--;)s[r].attr(o,null)})},lz=e=>{const t=s=>(s==null?void 0:s.name)==="br",n=e.lastChild;if(t(n)){const s=n.prev;t(s)&&(n.remove(),s.remove())}},cz=(e,t,n)=>{let s;const o=e.dom;let r=t.cloneNode(!0);const i=document.implementation;if(i.createHTMLDocument){const a=i.createHTMLDocument("");Q.each(r.nodeName==="BODY"?r.childNodes:[r],c=>{a.body.appendChild(a.importNode(c,!0))}),r.nodeName!=="BODY"?r=a.body.firstChild:r=a.body,s=o.doc,o.doc=a}return GO(e,{...n,node:r}),s&&(o.doc=s),r},uz=(e,t)=>se(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,fz=(e,t,n)=>uz(e,n)?cz(e,t,n):t,dz=(e,t,n)=>{Q.inArray(t,n)===-1&&(e.addAttributeFilter(n,(s,o)=>{let r=s.length;for(;r--;)s[r].attr(o,null)}),t.push(n))},mz=(e,t,n)=>!t.no_events&&e?YO(e,{...t,content:n}).content:n,pz=(e,t,n)=>{const s=fo(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Il(x.fromDom(t))?s:Q.trim(s)},gz=(e,t,n)=>{const s=n.selection?{forced_root_block:!1,...n}:n,o=e.parse(t,s);return lz(o),o},hz=(e,t,n)=>Lo(e,t).serialize(n),bz=(e,t,n,s,o)=>{const r=hz(t,n,s);return mz(e,o,r)},vz=(e,t)=>{const n=["data-mce-selected"],s=t&&t.dom?t.dom:ft.DOM,o=t&&t.schema?t.schema:Po(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;const r=_i(e,o);az(r,e,s);const i=(a,c={})=>{const u={format:"html",...c},d=fz(t,a,u),g=pz(s,d,u),p=gz(r,g,u);return u.format==="tree"?p:bz(t,e,o,p,u)};return{schema:o,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:i,addRules:o.addValidElements,setRules:o.setValidElements,addTempAttr:ie(dz,r,n),getTempAttrs:K(n),getNodeFilters:r.getNodeFilters,getAttributeFilters:r.getAttributeFilters,removeNodeFilter:r.removeNodeFilter,removeAttributeFilter:r.removeAttributeFilter}},zE=(e,t)=>{const n=vz(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},Cz="html",yz=(e,t)=>({...e,format:t,get:!0,getInner:!0}),Ez=(e,t={})=>{const n=t.format?t.format:Cz,s=yz(t,n);return yE(e,s).fold(Ot,o=>{const r=VU(e,o);return EE(e,r,o)})},_z="html",Sz=(e,t)=>({format:_z,...e,set:!0,content:t}),Hm=(e,t,n={})=>{const s=Sz(n,t);return Dm(e,s).map(o=>{const r=jU(e,o.content,o);return Bm(e,r.html,o),r.content}).getOr(t)},wz="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),xz="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),kz=e=>{const t=j(wz,s=>$e(e,s)),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),So(t)},Nz=e=>{const t=Q.makeMap(e.plugins," "),s=j(xz,o=>$e(t,o));return So(s)},Az=(e,t)=>{const n=kz(e),s=Nz(t),o=s.length>0,r=n.length>0,i=t.theme==="mobile";if(o||r||i){const a=`
- `,c=i?`

Themes:${a}mobile`:"",u=o?`

Plugins:${a}${s.join(a)}`:"",d=r?`

Options:${a}${n.join(a)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+c+u+d)}},Tz=(e,t)=>{Az(e,t)},Fc=ft.DOM,Rz=e=>{Fc.setStyle(e.id,"display",e.orgDisplay)},Lc=e=>b.from(e).each(t=>t.destroy()),Pz=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const s=n.dom;t.selection=n.win=n.dom=s.doc=null}},Oz=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Fc.unbind(t,"submit reset",e.formEventDelegate))},Dz=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,s=e.getBody(),o=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&se(o==null?void 0:o.nextSibling)&&Fc.remove(o.nextSibling),XO(e),e.editorManager.remove(e),!e.inline&&s&&Rz(e),QO(e),Fc.remove(e.getContainer()),Lc(t),Lc(n),e.destroy()}},Bz=(e,t)=>{const{selection:n,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Lc(n),Lc(s)),Oz(e),Pz(e),e.destroyed=!0}},$c=(()=>{const e={};return{add:(o,r)=>{e[o]=r},get:o=>e[o]?e[o]:{icons:{}},has:o=>$e(e,o)}})(),Si=ln.ModelManager,HE=(e,t)=>t.dom[e],WE=(e,t)=>parseInt(Ms(t,e),10),Iz=ie(HE,"clientWidth"),Fz=ie(HE,"clientHeight"),Lz=ie(WE,"margin-top"),$z=ie(WE,"margin-left"),Mz=e=>e.dom.getBoundingClientRect(),Uz=(e,t,n)=>{const s=Iz(e),o=Fz(e);return t>=0&&n>=0&&t<=s&&n<=o},zz=(e,t,n,s)=>{const o=Mz(t),r=e?o.left+t.dom.clientLeft+$z(t):0,i=e?o.top+t.dom.clientTop+Lz(t):0,a=n-r,c=s-i;return{x:a,y:c}},Hz=(e,t,n)=>{const s=x.fromDom(e.getBody()),o=e.inline?s:bA(s),r=zz(e.inline,o,t,n);return Uz(o,r.x,r.y)},Wz=e=>b.from(e).map(x.fromDom),Vz=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return Wz(t).map(Yr).getOr(!1)};var jz=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const VE=e=>{const t=[],n=()=>{const p=e.theme;return p&&p.getNotificationManagerImpl?p.getNotificationManagerImpl():jz()},s=()=>b.from(t[0]),o=(p,E)=>p.type===E.type&&p.text===E.text&&!p.progressBar&&!p.timeout&&!E.progressBar&&!E.timeout,r=()=>{R(t,p=>{p.reposition()})},i=p=>{t.push(p)},a=p=>{Ue(t,E=>E===p).each(E=>{t.splice(E,1)})},c=(p,E=!0)=>e.removed||!Vz(e)?{}:(E&&e.dispatch("BeforeOpenNotification",{notification:p}),Ce(t,_=>o(n().getArgs(_),p)).getOrThunk(()=>{e.editorManager.setActive(e);const _=n().open(p,()=>{a(_),r(),s().fold(()=>e.focus(),y=>ay(x.fromDom(y.getEl())))});return i(_),r(),e.dispatch("OpenNotification",{notification:{..._}}),_})),u=()=>{s().each(p=>{n().close(p),a(p),r()})},d=K(t);return(p=>{p.on("SkinLoaded",()=>{const E=M1(p);E&&c({text:E,type:"warning",timeout:0},!1),r()}),p.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(r)}),p.on("remove",()=>{R(t.slice(),E=>{n().close(E)})})})(e),{open:c,close:u,getNotifications:d}},wi=ln.PluginManager,Ar=ln.ThemeManager;var qz=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const jE=e=>{let t=[];const n=()=>{const y=e.theme;return y&&y.getWindowManagerImpl?y.getWindowManagerImpl():qz()},s=(y,S)=>(...w)=>S?S.apply(y,w):void 0,o=y=>{e.dispatch("OpenWindow",{dialog:y})},r=y=>{e.dispatch("CloseWindow",{dialog:y})},i=y=>{t.push(y),o(y)},a=y=>{r(y),t=j(t,S=>S!==y),t.length===0&&e.focus()},c=()=>b.from(t[t.length-1]),u=y=>{e.editorManager.setActive(e),Pd(e),e.ui.show();const S=y();return i(S),S},d=(y,S)=>u(()=>n().open(y,S,a)),g=y=>u(()=>n().openUrl(y,a)),p=(y,S,w)=>{const k=n();k.alert(y,s(w||k,S))},E=(y,S,w)=>{const k=n();k.confirm(y,s(w||k,S))},_=()=>{c().each(y=>{n().close(y),a(y)})};return e.on("remove",()=>{R(t,y=>{n().close(y)})}),{open:d,openUrl:g,alert:p,confirm:E,close:_}},qE=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Mc=(e,t)=>{e._skinLoaded?qE(e,t):e.on("SkinLoaded",()=>{qE(e,t)})},Kz=(e,t)=>{Mc(e,gs.translate(["Failed to upload image: {0}",t]))},ja=(e,t,n)=>{FC(e,t,{message:n}),console.error(n)},qa=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,Gz=(e,t,n)=>{ja(e,"PluginLoadError",qa("plugin",t,n))},Yz=(e,t,n)=>{ja(e,"IconsLoadError",qa("icons",t,n))},Xz=(e,t,n)=>{ja(e,"LanguageLoadError",qa("language",t,n))},Qz=(e,t,n)=>{ja(e,"ThemeLoadError",qa("theme",t,n))},Zz=(e,t,n)=>{ja(e,"ModelLoadError",qa("model",t,n))},Jz=(e,t,n)=>{const s=gs.translate(["Failed to initialize plugin: {0}",t]);FC(e,"PluginLoadError",{message:s}),Uc(s,n),Mc(e,s)},Uc=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},eH=e=>/^[a-z0-9\-]+$/i.test(e),tH=e=>KE(e,D1(e)),nH=e=>KE(e,Bv(e)),KE=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",o=`content${e.editorManager.suffix}.css`;return V(t,r=>eH(r)&&!e.inline?`${n}/${r}/${o}`:e.documentBaseURI.toAbsolute(r))},sH=e=>{e.contentCSS=e.contentCSS.concat(tH(e),nH(e))},oH=Et,rH=(e,t,n)=>$A(e,t,oH,n),iH=e=>e?wt(e.getElementsByTagName("img")):[],aH=(e,t)=>{const n={};return{findAll:(o,r=Et)=>{const i=j(iH(o),c=>{const u=c.src;return c.hasAttribute("data-mce-bogus")||c.hasAttribute("data-mce-placeholder")||!u||u===Xe.transparentSrc?!1:Zt(u,"blob:")?!e.isUploaded(u)&&r(c):Zt(u,"data:")?r(c):!1}),a=V(i,c=>{const u=c.src;if($e(n,u))return n[u].then(d=>le(d)?d:{image:c,blobInfo:d.blobInfo});{const d=sM(t,u).then(g=>(delete n[u],{image:c,blobInfo:g})).catch(g=>(delete n[u],g));return n[u]=d,d}});return Promise.all(a)}}},GE=()=>{let n={};const s=(p,E)=>({status:p,resultUri:E}),o=p=>p in n;return{hasBlobUri:o,getResultUri:p=>{const E=n[p];return E?E.resultUri:null},isPending:p=>o(p)?n[p].status===1:!1,isUploaded:p=>o(p)?n[p].status===2:!1,markPending:p=>{n[p]=s(1,null)},markUploaded:(p,E)=>{n[p]=s(2,E)},removeFailed:p=>{delete n[p]},destroy:()=>{n={}}}};let lH=0;const cH=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},uH=e=>e+lH+++cH(),fH=()=>{let e=[];const t=g=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[g.toLowerCase()]||"dat",n=(g,p,E,_,y)=>{if(le(g))return s({id:g,name:_,filename:y,blob:p,base64:E});if(tt(g))return s(g);throw new Error("Unknown input type")},s=g=>{if(!g.blob||!g.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const p=g.id||uH("blobid"),E=g.name||p,_=g.blob;return{id:K(p),name:K(E),filename:K(g.filename||E+"."+t(_.type)),blob:K(_),base64:K(g.base64),blobUri:K(g.blobUri||URL.createObjectURL(_)),uri:K(g.uri)}},o=g=>{i(g.id())||e.push(g)},r=g=>Ce(e,g).getOrUndefined(),i=g=>r(p=>p.id()===g);return{create:n,add:o,get:i,getByUri:g=>r(p=>p.blobUri()===g),getByData:(g,p)=>r(E=>E.base64()===g&&E.blob().type===p),findFirst:r,removeByUri:g=>{e=j(e,p=>p.blobUri()===g?(URL.revokeObjectURL(p.blobUri()),!1):!0)},destroy:()=>{R(e,g=>{URL.revokeObjectURL(g.blobUri())}),e=[]}}},dH=(e,t)=>{const n={},s=(y,S)=>y?y.replace(/\/$/,"")+"/"+S.replace(/^\//,""):S,o=(y,S)=>new Promise((w,k)=>{const A=new XMLHttpRequest;A.open("POST",t.url),A.withCredentials=t.credentials,A.upload.onprogress=H=>{S(H.loaded/H.total*100)},A.onerror=()=>{k("Image upload failed due to a XHR Transport error. Code: "+A.status)},A.onload=()=>{if(A.status<200||A.status>=300){k("HTTP Error: "+A.status);return}const H=JSON.parse(A.responseText);if(!H||!le(H.location)){k("Invalid JSON: "+A.responseText);return}w(s(t.basePath,H.location))};const U=new FormData;U.append("file",y.blob(),y.filename()),A.send(U)}),r=He(t.handler)?t.handler:o,i=()=>new Promise(y=>{y([])}),a=(y,S)=>({url:S,blobInfo:y,status:!0}),c=(y,S)=>({url:"",blobInfo:y,status:!1,error:S}),u=(y,S)=>{Q.each(n[y],w=>{w(S)}),delete n[y]},d=(y,S,w)=>(e.markPending(y.blobUri()),new Promise(k=>{let A,U;try{const H=()=>{A&&(A.close(),U=Me)},ee=F=>{H(),e.markUploaded(y.blobUri(),F),u(y.blobUri(),a(y,F)),k(a(y,F))},W=F=>{H(),e.removeFailed(y.blobUri()),u(y.blobUri(),c(y,F)),k(c(y,F))};U=F=>{F<0||F>100||b.from(A).orThunk(()=>b.from(w).map(ji)).each(L=>{A=L,L.progressBar.value(F)})},S(y,U).then(ee,F=>{W(le(F)?{message:F}:F)})}catch(H){k(c(y,H))}})),g=y=>y===o,p=y=>{const S=y.blobUri();return new Promise(w=>{n[S]=n[S]||[],n[S].push(w)})},E=(y,S)=>(y=Q.grep(y,w=>!e.isUploaded(w.blobUri())),Promise.all(Q.map(y,w=>e.isPending(w.blobUri())?p(w):d(w,r,S))));return{upload:(y,S)=>!t.url&&g(r)?i():E(y,S)}},YE=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),XE=(e,t)=>dH(t,{url:k1(e),basePath:N1(e),credentials:A1(e),handler:T1(e)}),mH=e=>{const t=GE(),n=XE(e,t);return{upload:(s,o=!0)=>n.upload(s,o?YE(e):void 0)}},pH=e=>{const t=fH();let n,s;const o=GE(),r=[],i=A=>U=>e.selection?A(U):[],a=A=>A+(A.indexOf("?")===-1?"?":"&")+new Date().getTime(),c=(A,U,H)=>{let ee=0;do ee=A.indexOf(U,ee),ee!==-1&&(A=A.substring(0,ee)+H+A.substr(ee+U.length),ee+=H.length-U.length+1);while(ee!==-1);return A},u=(A,U,H)=>{const ee=`src="${H}"${H===Xe.transparentSrc?' data-mce-placeholder="1"':""}`;return A=c(A,`src="${U}"`,ee),A=c(A,'data-mce-src="'+U+'"','data-mce-src="'+H+'"'),A},d=(A,U)=>{R(e.undoManager.data,H=>{H.type==="fragmented"?H.fragments=V(H.fragments,ee=>u(ee,A,U)):H.content=u(H.content,A,U)})},g=(A,U)=>{const H=e.convertURL(U,"src");d(A.src,U),wo(x.fromDom(A),{src:Rv(e)?a(U):U,"data-mce-src":H})},p=()=>(n||(n=XE(e,o)),S().then(i(A=>{const U=V(A,H=>H.blobInfo);return n.upload(U,YE(e)).then(i(H=>{const ee=[];let W=!1;const F=V(H,(L,te)=>{const{blobInfo:me,image:be}=A[te];let Te=!1;return L.status&&w1(e)?(L.url&&!nn(be.src,L.url)&&(W=!0),t.removeByUri(be.src),Xs(e)||g(be,L.url)):L.error&&(L.error.remove&&(d(be.src,Xe.transparentSrc),ee.push(be),Te=!0),Kz(e,L.error.message)),{element:be,status:L.status,uploadUri:L.url,blobInfo:me,removed:Te}});return ee.length>0&&!Xs(e)?e.undoManager.transact(()=>{R(ee,L=>{e.dom.remove(L),t.removeByUri(L.src)})}):W&&e.undoManager.dispatchChange(),F}))}))),E=()=>Tv(e)?p():Promise.resolve([]),_=A=>rt(r,U=>U(A)),y=A=>{r.push(A)},S=()=>(s||(s=aH(o,t)),s.findAll(e.getBody(),_).then(i(A=>{const U=j(A,H=>le(H)?(Mc(e,H),!1):!0);return Xs(e)||R(U,H=>{d(H.image.src,H.blobInfo.blobUri()),H.image.src=H.blobInfo.blobUri(),H.image.removeAttribute("data-mce-src")}),U}))),w=()=>{t.destroy(),o.destroy(),s=n=null},k=A=>A.replace(/src="(blob:[^"]+)"/g,(U,H)=>{const ee=o.getResultUri(H);if(ee)return'src="'+ee+'"';let W=t.getByUri(H);return W||(W=_e(e.editorManager.get(),(F,L)=>F||L.editorUpload&&L.editorUpload.blobCache.getByUri(H),void 0)),W?'src="data:'+W.blob().type+";base64,"+W.base64()+'"':U});return e.on("SetContent",()=>{Tv(e)?E():S()}),e.on("RawSaveContent",A=>{A.content=k(A.content)}),e.on("GetContent",A=>{A.source_view||A.format==="raw"||A.format==="tree"||(A.content=k(A.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",A=>{R(A,U=>{const H=U.attr("src");if(!H||t.getByUri(H))return;const ee=o.getResultUri(H);ee&&U.attr("src",ee)})})}),{blobCache:t,addFilter:y,uploadImages:p,uploadImagesAuto:E,scanForImages:S,destroy:w}},gH=e=>{const t=e.dom,n=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:o=>{t.setStyle(o,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:o=>{t.setStyle(o,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const o={inline:"span",styles:{textDecoration:"line-through"},exact:!0},r={inline:"strike",remove:"all",preserve_attributes:["class","style"]},i={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[i,o,r]:[o,i,r]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(o,r,i)=>fe(o)&&o.hasAttribute("href"),onformat:(o,r,i)=>{Q.each(i,(a,c)=>{t.setAttrib(o,c,a)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":o=>{var r;return(r=o==null?void 0:o.customValue)!==null&&r!==void 0?r:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Q.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),o=>{s[o]={block:o,remove:"all"}}),s},QE={remove_similar:!0,inherit:!1},xi={selector:"td,th",...QE},hH={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...xi},tablecellverticalalign:{styles:{"vertical-align":"%value"},...xi},tablecellbordercolor:{styles:{borderColor:"%value"},...xi},tablecellclass:{classes:["%value"],...xi},tableclass:{selector:"table",classes:["%value"],...QE},tablecellborderstyle:{styles:{borderStyle:"%value"},...xi},tablecellborderwidth:{styles:{borderWidth:"%value"},...xi}},bH=K(hH),vH=e=>{const t={},n=i=>se(i)?t[i]:t,s=i=>$e(t,i),o=(i,a)=>{i&&(le(i)?(Ct(a)||(a=[a]),R(a,c=>{lt(c.deep)&&(c.deep=!Gn(c)),lt(c.split)&&(c.split=!Gn(c)||qt(c)),lt(c.remove)&&Gn(c)&&!qt(c)&&(c.remove="none"),Gn(c)&&qt(c)&&(c.mixed=!0,c.block_expand=!0),le(c.classes)&&(c.classes=c.classes.split(/\s+/))}),t[i]=a):dt(i,(c,u)=>{o(u,c)}))},r=i=>(i&&t[i]&&delete t[i],t);return o(gH(e)),o(bH()),o(H1(e)),{get:n,has:s,register:o,unregister:r}},zc=Q.each,Qn=ft.DOM,Wm=e=>se(e)&&tt(e),ZE=(e,t)=>{const n=t&&t.schema||Po({}),s=(c,u)=>{u.classes.length>0&&Qn.addClass(c,u.classes.join(" ")),Qn.setAttribs(c,u.attrs)},o=c=>{const u=le(c)?{name:c,classes:[],attrs:{}}:c,d=Qn.create(u.name);return s(d,u),d},r=(c,u)=>{const d=n.getElementRule(c.nodeName.toLowerCase()),g=d==null?void 0:d.parentsRequired;return g&&g.length?u&&z(g,u)?u:g[0]:!1},i=(c,u,d)=>{let g;const p=u[0],E=Wm(p)?p.name:void 0,_=r(c,E);if(_)E===_?(g=p,u=u.slice(1)):g=_;else if(p)g=p,u=u.slice(1);else if(!d)return c;const y=g?o(g):Qn.create("div");y.appendChild(c),d&&Q.each(d,w=>{const k=o(w);y.insertBefore(k,c)});const S=Wm(g)?g.siblings:void 0;return i(y,u,S)},a=Qn.create("div");if(e.length>0){const c=e[0],u=o(c),d=Wm(c)?c.siblings:void 0;a.appendChild(i(u,e.slice(1),d))}return a},CH=e=>{e=Q.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,o,r,i,a)=>{switch(o){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":Q.inArray("checked disabled enabled read-only required".split(" "),r)!==-1&&(n.attrs[r]=r);break}if(i==="["){const c=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);c&&(n.attrs[c[1]]=c[2])}return""})),n.name=t||"div",n},yH=e=>le(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Q.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=Q.map(t.split(/(?:~\+|~|\+)/),CH),s=n.pop();return n.length&&(s.siblings=n),s}).reverse()):[],EH=(e,t)=>{let n="",s=W1(e);if(s==="")return"";const o=p=>le(p)?p.replace(/%(\w+)/g,""):"",r=(p,E)=>Qn.getStyle(E!=null?E:e.getBody(),p,!0);if(le(t)){const p=e.formatter.get(t);if(!p)return"";t=p[0]}if("preview"in t){const p=t.preview;if(p===!1)return"";s=p||s}let i=t.block||t.inline||"span",a;const c=yH(t.selector);c.length>0?(c[0].name||(c[0].name=i),i=t.selector,a=ZE(c,e)):a=ZE([i],e);const u=Qn.select(i,a)[0]||a.firstChild;zc(t.styles,(p,E)=>{const _=o(p);_&&Qn.setStyle(u,E,_)}),zc(t.attributes,(p,E)=>{const _=o(p);_&&Qn.setAttrib(u,E,_)}),zc(t.classes,p=>{const E=o(p);Qn.hasClass(u,E)||Qn.addClass(u,E)}),e.dispatch("PreviewFormats"),Qn.setStyles(a,{position:"absolute",left:-65535}),e.getBody().appendChild(a);const d=r("fontSize"),g=/px$/.test(d)?parseInt(d,10):0;return zc(s.split(" "),p=>{let E=r(p,u);if(!(p==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(E)&&(E=r(p),ic(E).toLowerCase()==="#ffffff"))&&!(p==="color"&&ic(E).toLowerCase()==="#000000")){if(p==="font-size"&&/em|%$/.test(E)){if(g===0)return;E=parseFloat(E)/(/%$/.test(E)?100:1)*g+"px"}p==="border"&&E&&(n+="padding:0 2px;"),n+=p+":"+E+";"}}),e.dispatch("AfterPreviewFormats"),Qn.remove(a),n},_H=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},JE=e=>{const t=vH(e),n=Vt({});return _H(e),UL(e),Xs(e)||d$(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,o,r)=>{UU(e,s,o,r)},remove:(s,o,r,i)=>{zU(e,s,o,r,i)},toggle:(s,o,r)=>{HU(e,s,o,r)},match:(s,o,r,i)=>IU(e,s,o,r,i),closest:s=>MU(e,s),matchAll:(s,o)=>FU(e,s,o),matchNode:(s,o,r,i)=>LU(e,s,o,r,i),canApply:s=>$U(e,s),formatChanged:(s,o,r,i)=>WU(e,n,s,o,r,i),getCssText:ie(EH,e)}},e_=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},SH=(e,t,n)=>{const s=Vt(!1),o=c=>{Ic(t,!1,n),t.add({},c)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",c=>{const u=c.command;e_(u)||(DE(t,n),t.beforeChange())}),e.on("ExecCommand",c=>{const u=c.command;e_(u)||o(c)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",c=>{const u=c.keyCode;c.isDefaultPrevented()||((u>=33&&u<=36||u>=37&&u<=40||u===45||c.ctrlKey)&&(o(),e.nodeChanged()),(u===46||u===8)&&e.nodeChanged(),s.get()&&t.typing&&!Mm(Bc(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged()))}),e.on("keydown",c=>{const u=c.keyCode;if(c.isDefaultPrevented())return;if(u>=33&&u<=36||u>=37&&u<=40||u===45){t.typing&&o(c);return}const d=c.ctrlKey&&!c.altKey||c.metaKey;(u<16||u>20)&&u!==224&&u!==91&&!t.typing&&!d&&(t.beforeChange(),Ic(t,!0,n),t.add({},c),s.set(!0))}),e.on("mousedown",c=>{t.typing&&o(c)});const r=c=>c.inputType==="insertReplacementText",i=c=>c.inputType==="insertText"&&c.data===null,a=c=>c.inputType==="insertFromPaste"||c.inputType==="insertFromDrop";e.on("input",c=>{c.inputType&&(r(c)||i(c)||a(c))&&o(c)}),e.on("AddUndo Undo Redo ClearUndos",c=>{c.isDefaultPrevented()||e.nodeChanged()})},wH=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},t_=e=>{const t=Oo(),n=Vt(0),s=Vt(0),o={data:[],typing:!1,beforeChange:()=>{wU(e,n,t)},add:(r,i)=>xU(e,o,s,n,t,r,i),dispatchChange:()=>{e.setDirty(!0);const r=Bc(e);r.bookmark=Gf(e.selection),e.dispatch("change",{level:r,lastLevel:oo(o.data,s.get()).getOrUndefined()})},undo:()=>kU(e,o,n,s),redo:()=>NU(e,s,o.data),clear:()=>{AU(e,o,s)},reset:()=>{TU(e,o)},hasUndo:()=>RU(e,o,s),hasRedo:()=>PU(e,o,s),transact:r=>OU(e,o,n,r),ignore:r=>{DU(e,n,r)},extra:(r,i)=>{BU(e,o,s,r,i)}};return Xs(e)||SH(e,o,n),wH(e),o},xH=[9,27,pe.HOME,pe.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,pe.DOWN,pe.UP,pe.LEFT,pe.RIGHT].concat(Xe.browser.isFirefox()?[224]:[]),n_="data-mce-placeholder",s_=e=>e.type==="keydown"||e.type==="keyup",o_=e=>{const t=e.keyCode;return t===pe.BACKSPACE||t===pe.DELETE},kH=e=>{if(s_(e)){const t=e.keyCode;return!o_(e)&&(pe.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||z(xH,t))}else return!1},NH=e=>s_(e)&&!(o_(e)||e.type==="keyup"&&e.keyCode===229),AH=(e,t,n)=>{if(Yt(x.fromDom(t),!1)){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===s.nodeName.toLowerCase():!0}else return!1},TH=e=>{var t;const n=e.dom,s=Dn(e),o=(t=$1(e))!==null&&t!==void 0?t:"",r=(i,a)=>{if(kH(i))return;const c=e.getBody(),u=NH(i)?!1:AH(n,c,s);(n.getAttrib(c,n_)!==""!==u||a)&&(n.setAttrib(c,n_,u?o:null),n.setAttrib(c,"aria-placeholder",u?o:null),oD(e,u),e.on(u?"keydown":"keyup",r),e.off(u?"keyup":"keydown",r))};Fs(o)&&e.on("init",i=>{r(i,!0),e.on("change SetContent ExecCommand",r),e.on("paste",a=>Yn.setEditorTimeout(e,()=>r(a)))})},RH=(e,t)=>({block:e,position:t}),PH=(e,t)=>({from:e,to:t}),Vm=(e,t)=>{const n=x.fromDom(e),s=x.fromDom(t.container());return Ec(n,s).map(o=>RH(o,t))},OH=e=>!it(e.from.block,e.to.block),DH=e=>Hn(e.from.block).bind(t=>Hn(e.to.block).filter(n=>it(t,n))).isSome(),BH=e=>yt(e.from.block.dom)===!1&&yt(e.to.block.dom)===!1,IH=(e,t,n)=>Dt(n.position.getNode())&&!Yt(n.block)?fi(!1,n.block.dom).bind(s=>s.isEqual(n.position)?jn(t,e,s).bind(o=>Vm(e,o)):b.some(n)).getOr(n):n,FH=(e,t,n)=>{const s=Vm(e,$.fromRangeStart(n)),o=s.bind(r=>jn(t,e,r.position).bind(i=>Vm(e,i).map(a=>IH(e,t,a))));return bn(s,o,PH).filter(r=>OH(r)&&DH(r)&&BH(r))},LH=(e,t,n)=>n.collapsed?FH(e,t,n):b.none(),$H=e=>{const t=on(e);return Ue(t,ps).fold(K(t),n=>t.slice(0,n))},r_=e=>{const t=$H(e);return R(t,_t),t},i_=(e,t)=>{const n=go(t,e);return Ce(n.reverse(),s=>Yt(s)).each(_t)},MH=e=>j(Hh(e),t=>!Yt(t)).length===0,UH=(e,t,n,s)=>{if(Yt(n))return cr(n),yn(n.dom);MH(s)&&Yt(t)&&Wn(s,x.fromTag("br"));const o=qn(n.dom,$.before(s.dom));return R(r_(t),r=>{Wn(s,r)}),i_(e,t),o},zH=(e,t,n)=>{if(Yt(n))return _t(n),Yt(t)&&cr(t),yn(t.dom);const s=qs(n.dom);return R(r_(t),o=>{Wt(n,o)}),i_(e,t),s},HH=(e,t)=>{const n=go(t,e);return b.from(n[n.length-1])},WH=(e,t)=>lo(t,e)?HH(t,e):b.none(),a_=(e,t)=>{fi(e,t.dom).bind(n=>b.from(n.getNode())).map(x.fromDom).filter(lr).each(_t)},l_=(e,t,n)=>(a_(!0,t),a_(!1,n),WH(t,n).fold(ie(zH,e,t,n),ie(UH,e,t,n))),c_=(e,t,n,s)=>t?l_(e,s,n):l_(e,n,s),jm=(e,t)=>{const n=x.fromDom(e.getBody());return LH(n.dom,t,e.selection.getRng()).map(o=>()=>{c_(n,t,o.from.block,o.to.block).each(r=>{e.selection.setRng(r.toRange())})})},VH=(e,t)=>{const n=t.getRng();return bn(Ec(e,x.fromDom(n.startContainer)),Ec(e,x.fromDom(n.endContainer)),(s,o)=>it(s,o)?b.none():b.some(()=>{n.deleteContents(),c_(e,!0,s,o).each(r=>{t.setRng(r.toRange())})})).getOr(b.none())},u_=(e,t)=>{const n=x.fromDom(t),s=ie(it,e);return Qr(n,Bl,s).isSome()},jH=(e,t)=>u_(e,t.startContainer)||u_(e,t.endContainer),qH=(e,t)=>{const n=qn(e.dom,$.fromRangeStart(t)).isNone(),s=An(e.dom,$.fromRangeEnd(t)).isNone();return!jH(e,t)&&n&&s},KH=e=>b.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),GH=e=>{const t=x.fromDom(e.getBody()),n=e.selection.getRng();return qH(t,n)?KH(e):VH(t,e.selection)},qm=(e,t)=>e.selection.isCollapsed()?b.none():GH(e),ho=(e,t,n,s,o)=>b.from(t._selectionOverrides.showCaret(e,n,s,o)),YH=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Ka=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?b.none():b.some(YH(t)),XH=(e,t,n)=>{const s=nd(1,e.getBody(),t),o=$.fromRangeStart(s),r=o.getNode();if(wa(r))return ho(1,e,r,!o.isAtEnd(),!1);const i=o.getNode(!0);if(wa(i))return ho(1,e,i,!1,!1);const a=xr(e.dom.getRoot(),o.getNode());return wa(a)?ho(1,e,a,!1,n):b.none()},Km=(e,t,n)=>t.collapsed?XH(e,t,n).getOr(t):t,QH=e=>Mo(e)||Fa(e),ZH=e=>Uo(e)||La(e),JH=(e,t)=>{X(t)&&t.data.length===0&&e.remove(t)},f_=(e,t,n,s,o,r)=>{ho(s,e,r.getNode(!o),o,!0).each(i=>{if(t.collapsed){const a=t.cloneRange();o?a.setEnd(i.startContainer,i.startOffset):a.setStart(i.endContainer,i.endOffset),a.deleteContents()}else t.deleteContents();e.selection.setRng(i)}),JH(e.dom,n)},e2=(e,t)=>{const n=e.selection.getRng();if(!X(n.commonAncestorContainer))return b.none();const s=t?jt.Forwards:jt.Backwards,o=js(e.getBody()),r=ie(sd,t?o.next:o.prev),i=t?QH:ZH,a=Ta(s,e.getBody(),n),c=r(a),u=c&&Xn(t,c);if(!u||!tc(a,u))return b.none();if(i(u))return b.some(()=>f_(e,n,a.getNode(),s,t,u));const d=r(u);return d&&i(d)&&tc(u,d)?b.some(()=>f_(e,n,a.getNode(),s,t,d)):b.none()},Gm=(e,t)=>e2(e,t),Ym=(e,t)=>{const n=e.getBody();return t?yn(n).filter(Mo):qs(n).filter(Uo)},Xm=e=>{const t=e.selection.getRng();return!t.collapsed&&(Ym(e,!0).exists(n=>n.isEqual($.fromRangeStart(t)))||Ym(e,!1).exists(n=>n.isEqual($.fromRangeEnd(t))))},t2=e=>se(e)&&(Bl(x.fromDom(e))||ua(x.fromDom(e))),Bn=Hs.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),n2=(e,t)=>{const n=t.getNode(!e),s=e?"after":"before";return fe(n)&&n.getAttribute("data-mce-caret")===s},s2=(e,t,n,s)=>{const o=r=>Ef(x.fromDom(r))&&!Ws(n,s,e);return Jv(!t,n).fold(()=>Jv(t,s).fold(nt,o),o)},d_=(e,t,n,s)=>{const o=s.getNode(!t);return Ec(x.fromDom(e),x.fromDom(n.getNode())).map(r=>Yt(r)?Bn.remove(r.dom):Bn.moveToElement(o)).orThunk(()=>b.some(Bn.moveToElement(o)))},m_=(e,t,n)=>jn(t,e,n).bind(s=>t2(s.getNode())||s2(e,t,n,s)?b.none():t&&yt(s.getNode())||!t&&yt(s.getNode(!0))?d_(e,t,n,s):t&&Uo(n)||!t&&Mo(n)?b.some(Bn.moveToPosition(s)):b.none()),o2=(e,t)=>Ve(t)?b.none():e&&yt(t.nextSibling)?b.some(Bn.moveToElement(t.nextSibling)):!e&&yt(t.previousSibling)?b.some(Bn.moveToElement(t.previousSibling)):b.none(),r2=(e,t,n)=>n.fold(s=>b.some(Bn.remove(s)),s=>b.some(Bn.moveToElement(s)),s=>Ws(t,s,e)?b.none():b.some(Bn.moveToPosition(s))),i2=(e,t,n)=>n2(t,n)?o2(t,n.getNode(!t)).orThunk(()=>m_(e,t,n)):m_(e,t,n).bind(s=>r2(e,n,s)),a2=(e,t,n)=>{const s=nd(t?1:-1,e,n),o=$.fromRangeStart(s),r=x.fromDom(e);return!t&&Uo(o)?b.some(Bn.remove(o.getNode(!0))):t&&Mo(o)?b.some(Bn.remove(o.getNode())):!t&&Mo(o)&&Wd(r,o)?CI(r,o).map(i=>Bn.remove(i.getNode())):t&&Uo(o)&&Hd(r,o)?yI(r,o).map(i=>Bn.remove(i.getNode())):i2(e,t,o)},l2=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),Sr(e,t,x.fromDom(n)),!0),c2=(e,t)=>n=>{const s=t?$.before(n):$.after(n);return e.selection.setRng(s.toRange()),!0},u2=e=>t=>(e.selection.setRng(t.toRange()),!0),p_=(e,t)=>b.from(xr(e.getBody(),t)),f2=(e,t)=>{const n=e.selection.getNode();return p_(e,n).filter(yt).fold(()=>a2(e.getBody(),t,e.selection.getRng()).map(s=>()=>s.fold(l2(e,t),c2(e,t),u2(e))),()=>b.some(Me))},d2=e=>{R(vn(e,".mce-offscreen-selection"),_t)},m2=(e,t)=>{const n=e.selection.getNode();return yt(n)&&!Dl(n)?p_(e,n.parentNode).filter(yt).fold(()=>b.some(()=>{d2(x.fromDom(e.getBody())),Sr(e,t,x.fromDom(e.selection.getNode())),Gd(e)}),()=>b.some(Me)):Xm(e)?b.some(()=>{n0(e,e.selection.getRng(),x.fromDom(e.getBody()))}):b.none()},g_=e=>{const t=e.dom,n=e.selection,s=xr(e.getBody(),n.getNode());if(Us(s)&&t.isBlock(s)&&t.isEmpty(s)){const o=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(o),n.setRng($.before(o).toRange())}return!0},Qm=(e,t)=>e.selection.isCollapsed()?f2(e,t):m2(e,t),p2=(e,t)=>{const n=$.fromRangeStart(e.selection.getRng());return jn(t,e.getBody(),n).filter(s=>t?dI(s):mI(s)).bind(s=>td(t?0:-1,s)).map(s=>()=>e.selection.select(s))},Zm=(e,t)=>e.selection.isCollapsed()?p2(e,t):b.none(),ki=X,h_=e=>ki(e)&&e.data[0]===Jt,b_=e=>ki(e)&&e.data[e.data.length-1]===Jt,v_=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(Jt)},g2=e=>{var t;if(ki(e.previousSibling))return b_(e.previousSibling)||e.previousSibling.appendData(Jt),e.previousSibling;if(ki(e))return h_(e)||e.insertData(0,Jt),e;{const n=v_(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},h2=e=>{var t,n;if(ki(e.nextSibling))return h_(e.nextSibling)||e.nextSibling.insertData(0,Jt),e.nextSibling;if(ki(e))return b_(e)||e.appendData(Jt),e;{const s=v_(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(s),s}},Hc=(e,t)=>e?g2(t):h2(t),b2=ie(Hc,!0),v2=ie(Hc,!1),C_=(e,t)=>X(e.container())?Hc(t,e.container()):Hc(t,e.getNode()),y_=(e,t)=>{const n=t.get();return n&&e.container()===n&&ni(n)},Jm=(e,t)=>t.fold(n=>{br(e.get());const s=b2(n);return e.set(s),b.some($(s,s.length-1))},n=>yn(n).map(s=>{if(y_(s,e)){const o=e.get();return $(o,1)}else{br(e.get());const o=C_(s,!0);return e.set(o),$(o,1)}}),n=>qs(n).map(s=>{if(y_(s,e)){const o=e.get();return $(o,o.length-1)}else{br(e.get());const o=C_(s,!1);return e.set(o),$(o,o.length-1)}}),n=>{br(e.get());const s=v2(n);return e.set(s),b.some($(s,1))}),E_=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n].apply(null,t);if(s.isSome())return s}return b.none()},cn=Hs.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),__=(e,t)=>{const n=Io(t,e);return n||e},C2=(e,t,n)=>{const s=Qy(n),o=__(t,s.container());return zo(e,o,s).fold(()=>An(o,s).bind(ie(zo,e,o)).map(r=>cn.before(r)),b.none)},y2=(e,t)=>Cr(e,t)===null,S_=(e,t,n)=>zo(e,t,n).filter(ie(y2,t)),E2=(e,t,n)=>{const s=Zy(n);return S_(e,t,s).bind(o=>qn(o,s).isNone()?b.some(cn.start(o)):b.none())},_2=(e,t,n)=>{const s=Qy(n);return S_(e,t,s).bind(o=>An(o,s).isNone()?b.some(cn.end(o)):b.none())},S2=(e,t,n)=>{const s=Zy(n),o=__(t,s.container());return zo(e,o,s).fold(()=>qn(o,s).bind(ie(zo,e,o)).map(r=>cn.after(r)),b.none)},w_=e=>!ZI(ep(e)),Qs=(e,t,n)=>E_([C2,E2,_2,S2],[e,t,n]).filter(w_),ep=e=>e.fold(Ot,Ot,Ot,Ot),x_=e=>e.fold(K("before"),K("start"),K("end"),K("after")),Wc=e=>e.fold(cn.before,cn.before,cn.after,cn.after),tp=e=>e.fold(cn.start,cn.start,cn.end,cn.end),w2=(e,t)=>x_(e)===x_(t)&&ep(e)===ep(t),x2=(e,t,n,s,o,r)=>bn(zo(t,n,s),zo(t,n,o),(i,a)=>i!==a&&eF(n,i,a)?cn.after(e?i:a):r).getOr(r),k2=(e,t)=>e.fold(Et,n=>!w2(n,t)),N2=(e,t,n,s,o)=>{const r=Xn(e,o);return jn(e,n,r).map(ie(Xn,e)).fold(()=>s.map(Wc),c=>Qs(t,n,c).map(ie(x2,e,t,n,r,c)).filter(ie(k2,s))).filter(w_)},A2=(e,t)=>e?t.fold(Lt(b.some,cn.start),b.none,Lt(b.some,cn.after),b.none):t.fold(b.none,Lt(b.some,cn.before),b.none,Lt(b.some,cn.end)),T2=(e,t,n,s)=>{const o=Xn(e,s),r=Qs(t,n,o);return Qs(t,n,o).bind(ie(A2,e)).orThunk(()=>N2(e,t,n,r,s))},R2=e=>He(e.selection.getSel().modify),k_=(e,t,n)=>{const s=e?1:-1;return t.setRng($(n.container(),n.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},P2=(e,t)=>{const n=t.selection.getRng(),s=e?$.fromRangeEnd(n):$.fromRangeStart(n);return R2(t)?e&&xf(s)?k_(!0,t.selection,s):!e&&kf(s)?k_(!1,t.selection,s):!1:!1};var Zs;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Zs||(Zs={}));const Vc=(e,t)=>e===jt.Backwards?Nt(t):t,O2=(e,t,n)=>e===jt.Forwards?t.next(n):t.prev(n),D2=(e,t,n,s)=>Dt(s.getNode(t===jt.Forwards))?Zs.Br:Ws(n,s)===!1?Zs.Block:Zs.Wrap,N_=(e,t,n,s)=>{const o=js(n);let r=s;const i=[];for(;r;){const a=O2(t,o,r);if(!a)break;if(Dt(a.getNode(!1)))return t===jt.Forwards?{positions:Vc(t,i).concat([a]),breakType:Zs.Br,breakAt:b.some(a)}:{positions:Vc(t,i),breakType:Zs.Br,breakAt:b.some(a)};if(!a.isVisible()){r=a;continue}if(e(r,a)){const c=D2(n,t,r,a);return{positions:Vc(t,i),breakType:c,breakAt:b.some(a)}}i.push(a),r=a}return{positions:Vc(t,i),breakType:Zs.Eol,breakAt:b.none()}},A_=(e,t,n,s)=>t(n,s).breakAt.map(o=>{const r=t(n,o).positions;return e===jt.Backwards?r.concat(o):[o].concat(r)}).getOr([]),np=(e,t)=>_e(e,(n,s)=>n.fold(()=>b.some(s),o=>bn(tn(o.getClientRects()),tn(s.getClientRects()),(r,i)=>{const a=Math.abs(t-r.left);return Math.abs(t-i.left)<=a?s:o}).or(n)),b.none()),jc=(e,t)=>tn(t.getClientRects()).bind(n=>np(e,n.left)),Ga=ie(N_,$.isAbove,-1),Ya=ie(N_,$.isBelow,1),T_=ie(A_,-1,Ga),R_=ie(A_,1,Ya),B2=(e,t)=>Ga(e,t).breakAt.isNone(),I2=(e,t)=>Ya(e,t).breakAt.isNone(),F2=e=>yn(e).map(t=>[t].concat(Ya(e,t).positions)).getOr([]),L2=e=>qs(e).map(t=>Ga(e,t).positions.concat(t)).getOr([]),$2=(e,t)=>jc(T_(e,t),t),M2=(e,t)=>jc(R_(e,t),t),U2=yt,P_=(e,t)=>Math.abs(e.left-t),O_=(e,t)=>Math.abs(e.right-t),z2=e=>qr(e,"node"),D_=(e,t)=>El(e,(n,s)=>{const o=Math.min(P_(n,t),O_(n,t)),r=Math.min(P_(s,t),O_(s,t));return r===o&&z2(s)&&U2(s.node)||r<o?s:n}),H2=e=>{const t=n=>V(n,s=>{const o=gr(s);return o.node=e,o});if(fe(e))return t(e.getClientRects());if(X(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},B_=e=>ot(e,H2);var Xa;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Xa||(Xa={}));const W2=(e,t,n,s)=>{let o=s;for(;o=ka(o,e,wb,t);)if(n(o))return},I_=(e,t,n,s,o,r)=>{let i=0;const a=[],c=g=>{let p=B_([g]);e===-1&&(p=p.reverse());for(let E=0;E<p.length;E++){const _=p[E];if(!n(_,u)){if(a.length>0&&t(_,Jo(a))&&i++,_.line=i,o(_))return!0;a.push(_)}}return!1},u=Jo(r.getClientRects());if(!u)return a;const d=r.getNode();return d&&(c(d),W2(e,s,c,d)),a},V2=(e,t)=>t.line>e,j2=(e,t)=>t.line===e,q2=ie(I_,Xa.Up,va,Ca),K2=ie(I_,Xa.Down,Ca,va),F_=e=>Jo(e.getClientRects()),G2=(e,t,n,s)=>{const o=js(t);let r,i,a,c;const u=[];let d=0;e===1?(r=o.next,i=Ca,a=va,c=$.after(s)):(r=o.prev,i=va,a=Ca,c=$.before(s));const g=F_(c);do{if(!c.isVisible())continue;const p=F_(c);if(a(p,g))continue;u.length>0&&i(p,Jo(u))&&d++;const E=gr(p);if(E.position=c,E.line=d,n(E))return u;u.push(E)}while(c=r(c));return u},L_=e=>t=>V2(e,t),sp=e=>t=>j2(e,t),bo=(e,t)=>{e.selection.setRng(t),Ia(e,e.selection.getRng())},op=(e,t,n)=>b.some(Km(e,t,n)),$_=(e,t,n,s,o,r)=>{const i=t===jt.Forwards,a=js(e.getBody()),c=ie(sd,i?a.next:a.prev),u=i?s:o;if(!n.collapsed){const _=Kl(n);if(r(_))return ho(t,e,_,t===jt.Backwards,!1);if(Xm(e)){const y=n.cloneRange();return y.collapse(t===jt.Backwards),b.from(y)}}const d=Ta(t,e.getBody(),n);if(u(d))return Ka(e,d.getNode(!i));let g=c(d);const p=Eb(n);if(g)g=Xn(i,g);else return p?b.some(n):b.none();if(u(g))return ho(t,e,g.getNode(!i),i,!1);const E=c(g);return E&&u(E)&&tc(g,E)?ho(t,e,E.getNode(!i),i,!1):p?op(e,g.toRange(),!1):b.none()},M_=(e,t,n,s,o,r)=>{const i=Ta(t,e.getBody(),n),a=Jo(i.getClientRects()),c=t===Xa.Down,u=e.getBody();if(!a)return b.none();if(Xm(e)){const S=c?$.fromRangeEnd(n):$.fromRangeStart(n);return(c?M2:$2)(u,S).orThunk(()=>b.from(S)).map(k=>k.toRange())}const g=(c?K2:q2)(u,L_(1),i),p=j(g,sp(1)),E=a.left,_=D_(p,E);if(_&&r(_.node)){const S=Math.abs(E-_.left),w=Math.abs(E-_.right);return ho(t,e,_.node,S<w,!1)}let y;if(s(i)?y=i.getNode():o(i)?y=i.getNode(!0):y=Kl(n),y){const S=G2(t,u,L_(1),y);let w=D_(j(S,sp(1)),E);if(w||(w=Jo(j(S,sp(0))),w))return op(e,w.position.toRange(),!1)}return p.length===0?rp(e,c).filter(c?o:s).map(S=>Km(e,S.toRange(),!1)):b.none()},rp=(e,t)=>{const n=e.selection.getRng(),s=t?$.fromRangeEnd(n):$.fromRangeStart(n),o=GP(s.container(),e.getBody());if(t){const r=Ya(o,s);return Ht(r.positions)}else{const r=Ga(o,s);return tn(r.positions)}},U_=(e,t,n)=>rp(e,t).filter(n).exists(s=>(e.selection.setRng(s.toRange()),!0)),qc=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},z_=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},H_=(e,t,n)=>Jm(t,n).map(s=>(qc(e,s),n)),Y2=(e,t,n)=>{const s=$.fromRangeStart(e);if(e.collapsed)return s;{const o=$.fromRangeEnd(e);return n?qn(t,o).getOr(o):An(t,s).getOr(s)}},X2=(e,t,n)=>{const s=e.getBody(),o=Y2(e.selection.getRng(),s,n),r=ie(wr,e);return T2(n,r,s,o).bind(a=>H_(e,t,a))},Q2=(e,t,n)=>{const s=V(vn(x.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),i=>i.dom),o=j(s,e),r=j(n,e);R(Nn(o,r),ie(z_,!1)),R(Nn(r,o),ie(z_,!0))},Z2=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const s=$.fromRangeStart(e.selection.getRng());$.isTextPosition(s)&&!tF(s)&&(qc(e,FP(n,s)),t.set(null))}},J2=(e,t,n,s)=>{if(t.selection.isCollapsed()){const o=j(s,e);R(o,r=>{const i=$.fromRangeStart(t.selection.getRng());Qs(e,t.getBody(),i).bind(a=>H_(t,n,a))})}},W_=(e,t,n)=>Sa(e)?X2(e,t,n).isSome():!1,V_=(e,t,n)=>Sa(t)?P2(e,t):!1,e3=e=>{const t=Vt(null),n=ie(wr,e);return e.on("NodeChange",s=>{Sa(e)&&(Q2(n,e.dom,s.parents),Z2(e,t),J2(n,e,t,s.parents))}),t},t3=ie(V_,!0),n3=ie(V_,!1),Kc=(e,t,n)=>{if(Sa(e)){const s=rp(e,t).getOrThunk(()=>{const o=e.selection.getRng();return t?$.fromRangeEnd(o):$.fromRangeStart(o)});return Qs(ie(wr,e),e.getBody(),s).exists(o=>{const r=Wc(o);return Jm(n,r).exists(i=>(qc(e,i),!0))})}else return!1},s3=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},o3=e=>bn(yn(e),qs(e),(t,n)=>{const s=Xn(!0,t),o=Xn(!1,n);return An(e,s).forall(r=>r.isEqual(o))}).getOr(!0),j_=(e,t)=>n=>Jm(t,n).map(s=>()=>qc(e,s)),q_=(e,t,n,s)=>{const o=e.getBody(),r=ie(wr,e);e.undoManager.ignore(()=>{e.selection.setRng(s3(n,s)),e0(e),Qs(r,o,$.fromRangeStart(e.selection.getRng())).map(tp).bind(j_(e,t)).each(Zo)}),e.nodeChanged()},r3=(e,t)=>{const n=Io(t,e);return n||e},i3=(e,t,n,s)=>{const o=r3(e.getBody(),s.container()),r=ie(wr,e),i=Qs(r,o,s);return i.bind(c=>n?c.fold(K(b.some(tp(c))),b.none,K(b.some(Wc(c))),b.none):c.fold(b.none,K(b.some(Wc(c))),b.none,K(b.some(tp(c))))).map(j_(e,t)).getOrThunk(()=>{const c=sc(n,o,s),u=c.bind(d=>Qs(r,o,d));return bn(i,u,()=>zo(r,o,s).bind(d=>o3(d)?b.some(()=>{Sr(e,n,x.fromDom(d))}):b.none())).getOrThunk(()=>u.bind(()=>c.map(d=>()=>{n?q_(e,t,s,d):q_(e,t,d,s)})))})},ip=(e,t,n)=>{if(e.selection.isCollapsed()&&Sa(e)){const s=$.fromRangeStart(e.selection.getRng());return i3(e,t,n,s)}return b.none()},a3=(e,t)=>{const n=go(t,e);return Ue(n,ps).fold(K(n),s=>n.slice(0,s))},l3=e=>jh(e)===1,c3=(e,t,n,s)=>{const o=ie(HL,t),r=V(j(s,o),i=>i.dom);if(r.length===0)Sr(t,e,n);else{const i=zL(n.dom,r);t.selection.setRng(i.toRange())}},u3=(e,t)=>{const n=x.fromDom(e.getBody()),s=x.fromDom(e.selection.getStart()),o=j(a3(n,s),l3);return Ht(o).bind(r=>{const i=$.fromRangeStart(e.selection.getRng());return iF(t,i,r.dom)&&!WL(r)?b.some(()=>c3(t,e,r,o)):b.none()})},ap=(e,t)=>e.selection.isCollapsed()?u3(e,t):b.none(),lp=(e,t,n)=>se(n)?b.some(()=>{e._selectionOverrides.hideFakeCaret(),Sr(e,t,x.fromDom(n))}):b.none(),f3=(e,t)=>{const n=t?Fa:La,s=t?jt.Forwards:jt.Backwards,o=Ta(s,e.getBody(),e.selection.getRng());return n(o)?lp(e,t,o.getNode(!t)):b.from(Xn(t,o)).filter(r=>n(r)&&tc(o,r)).bind(r=>lp(e,t,r.getNode(!t)))},d3=(e,t)=>{const n=e.selection.getNode();return zs(n)?lp(e,t,n):b.none()},cp=(e,t)=>e.selection.isCollapsed()?f3(e,t):d3(e,t),m3=e=>Zr(e,t=>Us(t.dom)||yt(t.dom)).exists(t=>Us(t.dom)),up=e=>_l(e!=null?e:"").getOr(0),K_=(e,t)=>{const n=e||cT(t)?"margin":"padding",s=Ms(t,"direction")==="rtl"?"-right":"-left";return n+s},p3=(e,t,n,s,o,r)=>{const i=K_(n,x.fromDom(r)),a=up(e.getStyle(r,i));if(t==="outdent"){const c=Math.max(0,a-s);e.setStyle(r,i,c?c+o:"")}else{const c=a+s+o;e.setStyle(r,i,c)}},g3=(e,t)=>rt(t,n=>{const s=K_(Dv(e),n),o=Al(n,s).map(up).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&o>0}),G_=e=>{const t=X_(e);return!e.mode.isReadOnly()&&(t.length>1||g3(e,t))},Y_=e=>_f(e)||ua(e),h3=e=>Hn(e).exists(Y_),X_=e=>j(OA(e.selection.getSelectedBlocks()),t=>!Y_(t)&&!h3(t)&&m3(t)),Q_=(e,t)=>{var n,s;const{dom:o}=e,r=O1(e),i=(s=(n=/[a-z%]+$/i.exec(r))===null||n===void 0?void 0:n[0])!==null&&s!==void 0?s:"px",a=up(r),c=Dv(e);R(X_(e),u=>{p3(o,t,c,a,i,u.dom)})},b3=e=>Q_(e,"indent"),Z_=e=>Q_(e,"outdent"),J_=e=>{if(e.selection.isCollapsed()&&G_(e)){const t=e.dom,n=e.selection.getRng(),s=$.fromRangeStart(n),o=t.getParent(n.startContainer,t.isBlock);if(o!==null&&zd(x.fromDom(o),s))return b.some(()=>Z_(e))}return b.none()},eS=(e,t,n)=>ro([J_,Qm,Gm,(s,o)=>ip(s,t,o),jm,nm,Zm,cp,qm,ap],s=>s(e,n)),v3=(e,t)=>{eS(e,t,!1).fold(()=>{e0(e),Gd(e)},Zo)},C3=(e,t)=>{eS(e,t,!0).fold(()=>sF(e),Zo)},y3=(e,t)=>{e.addCommand("delete",()=>{v3(e,t)}),e.addCommand("forwardDelete",()=>{C3(e,t)})},tS=5,E3=400,nS=e=>e.touches===void 0||e.touches.length!==1?b.none():b.some(e.touches[0]),_3=(e,t)=>{const n=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return n>tS||s>tS},S3=e=>{const t=Oo(),n=Vt(!1),s=Uf(o=>{e.dispatch("longpress",{...o,type:"longpress"}),n.set(!0)},E3);e.on("touchstart",o=>{nS(o).each(r=>{s.cancel();const i={x:r.clientX,y:r.clientY,target:o.target};s.throttle(o),n.set(!1),t.set(i)})},!0),e.on("touchmove",o=>{s.cancel(),nS(o).each(r=>{t.on(i=>{_3(r,i)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",o=>{s.cancel(),o.type!=="touchcancel"&&t.get().filter(r=>r.target.isEqualNode(o.target)).each(()=>{n.get()?o.preventDefault():e.dispatch("tap",{...o,type:"tap"})})},!0)},fp=(e,t)=>$e(e,t.nodeName),w3=(e,t)=>X(t)?!0:fe(t)?!fp(e,t)&&!Kn(t):!1,x3=(e,t,n)=>Y(Dy(x.fromDom(n),x.fromDom(t)),s=>fp(e,s.dom)),k3=(e,t)=>{if(X(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data)&&(!t.nextSibling||fp(e,t.nextSibling)))return!0}return!1},sS=e=>e.dom.create(Dn(e),_a(e)),N3=e=>{const t=e.dom,n=e.selection,s=e.schema,o=s.getBlockElements(),r=n.getStart(),i=e.getBody();let a,c,u=!1;const d=Dn(e);if(!r||!fe(r))return;const g=i.nodeName.toLowerCase();if(!s.isValidChild(g,d.toLowerCase())||x3(o,i,r))return;const p=n.getRng(),{startContainer:E,startOffset:_,endContainer:y,endOffset:S}=p,w=_r(e);let k=i.firstChild;for(;k;)if(w3(o,k)){if(k3(o,k)){c=k,k=k.nextSibling,t.remove(c);continue}a||(a=sS(e),i.insertBefore(a,k),u=!0),c=k,k=k.nextSibling,a.appendChild(c)}else a=null,k=k.nextSibling;u&&w&&(p.setStart(E,_),p.setEnd(y,S),n.setRng(p),e.nodeChanged())},oS=(e,t,n)=>{const s=x.fromDom(sS(e)),o=wf();Wt(s,o),n(t,s);const r=document.createRange();return r.setStartBefore(o.dom),r.setEndBefore(o.dom),r},A3=e=>{e.on("NodeChange",ie(N3,e))},rS=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,T3=(e,t,n)=>function(s){const o=arguments,r=o[o.length-2],i=r>0?t.charAt(r-1):"";if(i==='"')return s;if(i===">"){const a=t.lastIndexOf("<",r);if(a!==-1&&t.substring(a,r).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode(typeof o[1]=="string"?o[1]:o[0])+"</span>"},R3=(e,t,n)=>{let s=t.length,o=n.content;if(n.format!=="raw"){for(;s--;)o=o.replace(t[s],T3(e,o,Mv(e)));n.content=o}},P3=e=>{const t="contenteditable",n=" "+Q.trim(SP(e))+" ",s=" "+Q.trim(Mv(e))+" ",o=rS(n),r=rS(s),i=wP(e);i.length>0&&e.on("BeforeSetContent",a=>{R3(e,i,a)}),e.parser.addAttributeFilter("class",a=>{let c=a.length;for(;c--;){const u=a[c];o(u)?u.attr(t,"true"):r(u)&&u.attr(t,"false")}}),e.serializer.addAttributeFilter(t,a=>{let c=a.length;for(;c--;){const u=a[c];!o(u)&&!r(u)||(i.length>0&&u.attr("data-mce-content")?(u.name="#text",u.type=3,u.raw=!0,u.value=u.attr("data-mce-content")):u.attr(t,null))}})},O3=e=>ca(x.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),iS=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Nf(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},D3=(e,t)=>{const n=O3(e);if(!!n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),iS(e,n);return}yb(n)&&(iS(e,n),e.undoManager.add())}},B3=e=>{e.on("keyup compositionstart",ie(D3,e))},aS=yt,I3=(e,t,n)=>$_(t,e,n,Mo,Uo,aS),F3=(e,t,n)=>M_(t,e,n,r=>Mo(r)||Py(r),r=>Uo(r)||Oy(r),aS),L3=e=>{const t=e.dom.create(Dn(e));return t.innerHTML='<br data-mce-bogus="1">',t},lS=(e,t,n)=>{const s=js(e.getBody()),o=ie(sd,t===1?s.next:s.prev);if(n.collapsed){const r=e.dom.getParent(n.startContainer,"PRE");if(!r)return;if(!o($.fromRangeStart(n))){const a=x.fromDom(L3(e));t===1?ko(x.fromDom(r),a):Wn(x.fromDom(r),a),e.selection.select(a.dom,!0),e.selection.collapse()}}},$3=(e,t)=>{const n=t?jt.Forwards:jt.Backwards,s=e.selection.getRng();return I3(n,e,s).orThunk(()=>(lS(e,n,s),b.none()))},M3=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return F3(n,e,s).orThunk(()=>(lS(e,n,s),b.none()))},cS=(e,t)=>$3(e,t).exists(n=>(bo(e,n),!0)),uS=(e,t)=>M3(e,t).exists(n=>(bo(e,n),!0)),fS=(e,t)=>U_(e,t,t?Uo:Mo),Gc=(e,t)=>Ym(e,!t).map(n=>{const s=n.toRange(),o=e.selection.getRng();return t?s.setStart(o.startContainer,o.startOffset):s.setEnd(o.endContainer,o.endOffset),s}).exists(n=>(bo(e,n),!0)),U3=e=>z(["figcaption"],xt(e)),z3=(e,t)=>{const n=ie(it,t);return Zr(x.fromDom(e.container()),ps,n).filter(U3)},H3=(e,t,n)=>t?I2(e.dom,n):B2(e.dom,n),W3=(e,t)=>{const n=x.fromDom(e.getBody()),s=$.fromRangeStart(e.selection.getRng());return z3(s,n).exists(()=>{if(H3(n,t,s)){const r=oS(e,n,t?Wt:Jh);return e.selection.setRng(r),!0}else return!1})},dS=(e,t)=>e.selection.isCollapsed()?W3(e,t):!1,mS={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},V3=e=>V(e,t=>({...mS,...t})),j3=e=>V(e,t=>({...mS,...t})),pS=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,q3=(e,t)=>ot(V3(e),n=>pS(n,t)?[n]:[]),K3=(e,t)=>ot(j3(e),n=>pS(n,t)?[n]:[]),Be=(e,...t)=>()=>e.apply(null,t),Qa=(e,t)=>Ce(q3(e,t),n=>n.action()),gS=(e,t)=>ro(K3(e,t),n=>n.action()),hS=(e,t)=>{const n=t?jt.Forwards:jt.Backwards,s=e.selection.getRng();return $_(e,n,s,Fa,La,zs).exists(o=>(bo(e,o),!0))},bS=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return M_(e,n,s,Fa,La,zs).exists(o=>(bo(e,o),!0))},vS=(e,t)=>U_(e,t,t?La:Fa),CS=Hs.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Za={...CS,none:e=>CS.none(e)},G3=(e,t)=>yS(e,t,Et),yS=(e,t,n)=>ot(on(e),s=>ds(s,t)?n(s)?[s]:[]:yS(s,t,n)),Y3=(e,t,n=nt)=>{if(n(t))return b.none();if(z(e,xt(t)))return b.some(t);const s=o=>ds(o,"table")||n(o);return la(t,e.join(","),s)},X3=(e,t)=>Y3(["td","th"],e,t),Q3=e=>G3(e,"th,td"),ES=(e,t)=>ar(e,"table",t),dp=(e,t,n,s,o=Et)=>{const r=s===1;if(!r&&n<=0)return Za.first(e[0]);if(r&&n>=e.length-1)return Za.last(e[e.length-1]);{const i=n+s,a=e[i];return o(a)?Za.middle(t,a):dp(e,t,i,s,o)}},_S=(e,t)=>ES(e,t).bind(n=>{const s=Q3(n);return Ue(s,r=>it(e,r)).map(r=>({index:r,all:s}))}),Z3=(e,t,n)=>_S(e,n).fold(()=>Za.none(e),o=>dp(o.all,e,o.index,1,t)),J3=(e,t,n)=>_S(e,n).fold(()=>Za.none(),o=>dp(o.all,e,o.index,-1,t)),eW=e=>ar(e,"[contenteditable]"),SS=(e,t=!1)=>Yr(e)?e.dom.isContentEditable:eW(e).fold(K(t),n=>tW(n)==="true"),tW=e=>e.dom.contentEditable,nW=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),sW=(e,t)=>ot(t,n=>{const s=nW(gr(n.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:n},{x:s.right,y:e(s),cell:n}]}),oW=(e,t,n)=>_e(e,(s,o)=>s.fold(()=>b.some(o),r=>{const i=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n)),a=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-n));return b.some(a<i?o:r)}),b.none()),wS=(e,t,n,s,o)=>{const r=vn(x.fromDom(n),"td,th,caption").map(a=>a.dom),i=j(sW(e,r),a=>t(a,o));return oW(i,s,o).map(a=>a.cell)},rW=e=>e.bottom,iW=e=>e.top,aW=(e,t)=>e.y<t,lW=(e,t)=>e.y>t,cW=ie(wS,rW,aW),uW=ie(wS,iW,lW),fW=(e,t)=>tn(t.getClientRects()).bind(n=>cW(e,n.left,n.top)).bind(n=>jc(L2(n),t)),dW=(e,t)=>Ht(t.getClientRects()).bind(n=>uW(e,n.left,n.top)).bind(n=>jc(F2(n),t)),mW=(e,t,n)=>n.breakAt.exists(s=>e(t,s).breakAt.isSome()),pW=e=>e.breakType===Zs.Wrap&&e.positions.length===0,gW=e=>e.breakType===Zs.Br&&e.positions.length===1,xS=(e,t,n)=>{const s=e(t,n);return pW(s)||!Dt(n.getNode())&&gW(s)?!mW(e,t,s):s.breakAt.isNone()},hW=ie(xS,Ga),bW=ie(xS,Ya),vW=(e,t,n)=>{const s=$.fromRangeStart(t);return fi(!e,n).exists(o=>o.isEqual(s))},CW=(e,t,n,s)=>{const o=e.selection.getRng(),r=t?1:-1;return Kv()&&vW(t,o,n)?(ho(r,e,n,!t,!1).each(i=>{bo(e,i)}),!0):!1},yW=(e,t,n)=>fW(t,n).orThunk(()=>tn(n.getClientRects()).bind(s=>np(T_(e,$.before(t)),s.left))).getOr($.before(t)),EW=(e,t,n)=>dW(t,n).orThunk(()=>tn(n.getClientRects()).bind(s=>np(R_(e,$.after(t)),s.left))).getOr($.after(t)),kS=(e,t)=>{const n=t.getNode(e);return uo(n)?b.some(n):b.none()},_W=(e,t,n)=>{t.undoManager.transact(()=>{const s=e?ko:Wn,o=oS(t,x.fromDom(n),s);bo(t,o)})},NS=(e,t,n)=>{const s=kS(!!t,n),o=t===!1;s.fold(()=>bo(e,n.toRange()),r=>fi(o,e.getBody()).filter(i=>i.isEqual(n)).fold(()=>bo(e,n.toRange()),i=>_W(t,e,r)))},SW=(e,t,n,s)=>{const o=e.selection.getRng(),r=$.fromRangeStart(o),i=e.getBody();if(!t&&hW(s,r)){const a=yW(i,n,r);return NS(e,t,a),!0}else if(t&&bW(s,r)){const a=EW(i,n,r);return NS(e,t,a),!0}else return!1},AS=(e,t,n)=>b.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>b.from(e.dom.getParent(s,"table")).map(o=>n(e,t,o,s))).getOr(!1),TS=(e,t)=>AS(e,t,CW),RS=(e,t)=>AS(e,t,SW),wW=e=>{const t=bi.exact(e,0,e,0);return LD(t)},PS=(e,t,n)=>n.fold(b.none,b.none,(s,o)=>jB(o).map(r=>wW(r)),s=>(e.execCommand("mceTableInsertRowAfter"),OS(e,t,s))),OS=(e,t,n)=>PS(e,t,Z3(n,SS)),xW=(e,t,n)=>PS(e,t,J3(n,SS)),DS=(e,t)=>{const n=["table","li","dl"],s=x.fromDom(e.getBody()),o=a=>{const c=xt(a);return it(a,s)||z(n,c)},r=e.selection.getRng(),i=x.fromDom(t?r.endContainer:r.startContainer);return X3(i,o).map(a=>(ES(a,o).each(d=>{e.model.table.clearSelectedCells(d.dom)}),e.selection.collapse(!t),(t?OS:xW)(e,o,a).each(d=>{e.selection.setRng(d)}),!0)).getOr(!1)},kW=(e,t,n)=>{const s=Xe.os.isMacOS()||Xe.os.isiOS();Qa([{keyCode:pe.RIGHT,action:Be(cS,e,!0)},{keyCode:pe.LEFT,action:Be(cS,e,!1)},{keyCode:pe.UP,action:Be(uS,e,!1)},{keyCode:pe.DOWN,action:Be(uS,e,!0)},...s?[{keyCode:pe.UP,action:Be(Gc,e,!1),metaKey:!0,shiftKey:!0},{keyCode:pe.DOWN,action:Be(Gc,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:pe.RIGHT,action:Be(TS,e,!0)},{keyCode:pe.LEFT,action:Be(TS,e,!1)},{keyCode:pe.UP,action:Be(RS,e,!1)},{keyCode:pe.DOWN,action:Be(RS,e,!0)},{keyCode:pe.RIGHT,action:Be(hS,e,!0)},{keyCode:pe.LEFT,action:Be(hS,e,!1)},{keyCode:pe.UP,action:Be(bS,e,!1)},{keyCode:pe.DOWN,action:Be(bS,e,!0)},{keyCode:pe.RIGHT,action:Be(W_,e,t,!0)},{keyCode:pe.LEFT,action:Be(W_,e,t,!1)},{keyCode:pe.RIGHT,ctrlKey:!s,altKey:s,action:Be(t3,e,t)},{keyCode:pe.LEFT,ctrlKey:!s,altKey:s,action:Be(n3,e,t)},{keyCode:pe.UP,action:Be(dS,e,!1)},{keyCode:pe.DOWN,action:Be(dS,e,!0)}],n).each(o=>{n.preventDefault()})},NW=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||kW(e,t,n)})},Es=(e,t)=>({container:e,offset:t}),Yc=ft.DOM,Xc=e=>t=>e===t?-1:0,AW=e=>t=>e.isBlock(t)||z(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",mp=(e,t,n)=>{if(X(e)&&t>=0)return b.some(Es(e,t));{const s=pr(Yc);return b.from(s.backwards(e,t,Xc(e),n)).map(o=>Es(o.container,o.container.data.length))}},TW=(e,t,n)=>{if(X(e)&&t>=e.length)return b.some(Es(e,t));{const s=pr(Yc);return b.from(s.forwards(e,t,Xc(e),n)).map(o=>Es(o.container,0))}},pp=(e,t,n)=>{if(!X(e))return b.none();const s=e.data;if(t>=0&&t<=s.length)return b.some(Es(e,t));{const o=pr(Yc);return b.from(o.backwards(e,t,Xc(e),n)).bind(r=>{const i=r.container.data;return pp(r.container,t+i.length,n)})}},BS=(e,t,n)=>{if(!X(e))return b.none();const s=e.data;if(t<=s.length)return b.some(Es(e,t));{const o=pr(Yc);return b.from(o.forwards(e,t,Xc(e),n)).bind(r=>BS(r.container,t-s.length,n))}},gp=(e,t,n,s,o)=>{const r=pr(e,AW(e));return b.from(r.backwards(t,n,s,o))},RW=e=>e.collapsed&&X(e.startContainer),IS=e=>fo(e.toString().replace(/\u00A0/g," ")),FS=e=>e!==""&&` \xA0\f
\r	\v`.indexOf(e)!==-1,hp=(e,t)=>e.substring(t.length),PW=(e,t,n)=>{let s;const o=n.charAt(0);for(s=t-1;s>=0;s--){const r=e.charAt(s);if(FS(r))return b.none();if(o===r&&nn(e,n,s,t))break}return b.some(s)},OW=(e,t,n,s=0)=>{if(!RW(t))return b.none();const o={text:"",offset:0},r=(a,c,u)=>(o.text=u+o.text,o.offset+=c,PW(o.text,o.offset,n).getOr(c)),i=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return gp(e,t.startContainer,t.startOffset,r,i).bind(a=>{const c=t.cloneRange();if(c.setStart(a.container,a.offset),c.setEnd(t.endContainer,t.endOffset),c.collapsed)return b.none();const u=IS(c);return u.lastIndexOf(n)!==0||hp(u,n).length<s?b.none():b.some({text:hp(u,n),range:c,trigger:n})})},LS=(e,t,n,s=0)=>YB(x.fromDom(t.startContainer)).fold(()=>OW(e,t,n,s),o=>{const r=e.createRng();r.selectNode(o.dom);const i=IS(r);return b.some({range:r,text:hp(i,n),trigger:n})}),DW=e=>e.nodeType===Ph,BW=e=>e.nodeType===Ji,$S=e=>{if(DW(e))return Es(e,e.data.length);{const t=e.childNodes;return t.length>0?$S(t[t.length-1]):Es(e,t.length)}},MS=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?MS(n[t],0):n.length>0&&BW(e)&&n.length===t?$S(n[n.length-1]):Es(e,t)},IW=(e,t)=>{var n;const s=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return gp(e,t.container,t.offset,(o,r)=>r===0?-1:r,s).filter(o=>{const r=o.container.data.charAt(o.offset-1);return!FS(r)}).isSome()},FW=e=>t=>{const n=MS(t.startContainer,t.startOffset);return!IW(e,n)},LW=(e,t,n)=>ro(n.triggers,s=>LS(e,t,s)),$W=(e,t)=>{const n=t(),s=e.selection.getRng();return LW(e.dom,s,n).bind(o=>US(e,t,o))},US=(e,t,n,s={})=>{var o;const r=t(),a=(o=e.selection.getRng().startContainer.nodeValue)!==null&&o!==void 0?o:"",c=j(r.lookupByTrigger(n.trigger),d=>n.text.length>=d.minChars&&d.matches.getOrThunk(()=>FW(e.dom))(n.range,a,n.text));if(c.length===0)return b.none();const u=Promise.all(V(c,d=>d.fetch(n.text,d.maxResults,s).then(p=>({matchText:n.text,items:p,columns:d.columns,onAction:d.onAction,highlightOn:d.highlightOn}))));return b.some({lookupData:u,context:n})};var _s;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(_s||(_s={}));const bp=(e,t,n)=>e.stype===_s.Error?t(e.serror):n(e.svalue),MW=e=>{const t=[],n=[];return R(e,s=>{bp(s,o=>n.push(o),o=>t.push(o))}),{values:t,errors:n}},UW=(e,t)=>e.stype===_s.Error?{stype:_s.Error,serror:t(e.serror)}:e,zW=(e,t)=>e.stype===_s.Value?{stype:_s.Value,svalue:t(e.svalue)}:e,HW=(e,t)=>e.stype===_s.Value?t(e.svalue):e,WW=(e,t)=>e.stype===_s.Error?t(e.serror):e,zS=e=>({stype:_s.Value,svalue:e}),HS=e=>({stype:_s.Error,serror:e}),Xt={fromResult:e=>e.fold(HS,zS),toResult:e=>bp(e,Cn.error,Cn.value),svalue:zS,partition:MW,serror:HS,bind:HW,bindError:WW,map:zW,mapError:UW,fold:bp},vp=e=>tt(e)&&Un(e).length>100?" removed due to size":JSON.stringify(e,null,2),VW=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:K("... (only showing first ten failures)")}]):e;return V(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},Qc=(e,t)=>Xt.serror([{path:e,getErrorInfo:t}]),jW=(e,t,n)=>Qc(e,()=>'Could not find valid *required* value for "'+t+'" in '+vp(n)),qW=(e,t)=>Qc(e,()=>'Choice schema did not contain choice key: "'+t+'"'),KW=(e,t,n)=>Qc(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+vp(t)),GW=(e,t)=>Qc(e,K(t)),YW=(e,t,n,s)=>bt(n,s).fold(()=>KW(e,n,s),r=>r.extract(e.concat(["branch: "+s]),t)),XW=(e,t)=>({extract:(o,r)=>bt(r,e).fold(()=>qW(o,e),a=>YW(o,r,t,a)),toString:()=>"chooseOn("+e+"). Possible values: "+Un(t)}),QW=(e,t)=>t,ZW=(e,t)=>an(e)&&an(t)?Zc(e,t):t,WS=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let s=0;s<t.length;s++){const o=t[s];for(const r in o)$e(o,r)&&(n[r]=e(n[r],o[r]))}return n},Zc=WS(ZW),JW=WS(QW),VS=()=>({tag:"required",process:{}}),eV=e=>({tag:"defaultedThunk",process:e}),jS=e=>eV(K(e)),tV=()=>({tag:"option",process:{}}),nV=(e,t)=>e.length>0?Xt.svalue(Zc(t,JW.apply(void 0,e))):Xt.svalue(t),qS=e=>Lt(Xt.serror,Ye)(e),sV={consolidateObj:(e,t)=>{const n=Xt.partition(e);return n.errors.length>0?qS(n.errors):nV(n.values,t)},consolidateArr:e=>{const t=Xt.partition(e);return t.errors.length>0?qS(t.errors):Xt.svalue(t.values)}},oV=(e,t,n,s)=>({tag:"field",key:e,newKey:t,presence:n,prop:s}),rV=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),KS=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Cp=e=>{const t=(s,o)=>Xt.bindError(e(o),r=>GW(s,r)),n=K("val");return{extract:t,toString:n}},iV=Cp(Xt.svalue),aV=(e,t,n,s)=>bt(t,n).fold(()=>jW(e,n,t),s),GS=(e,t,n,s)=>{const o=bt(e,t).getOrThunk(()=>n(e));return s(o)},lV=(e,t,n)=>n(bt(e,t)),cV=(e,t,n,s)=>{const o=bt(e,t).map(r=>r===!0?n(e):r);return s(o)},uV=(e,t,n,s,o)=>{const r=a=>o.extract(t.concat([s]),a),i=a=>a.fold(()=>Xt.svalue(b.none()),c=>{const u=o.extract(t.concat([s]),c);return Xt.map(u,b.some)});switch(e.tag){case"required":return aV(t,n,s,r);case"defaultedThunk":return GS(n,s,e.process,r);case"option":return lV(n,s,i);case"defaultedOptionThunk":return cV(n,s,e.process,i);case"mergeWithThunk":return GS(n,s,K({}),a=>{const c=Zc(e.process(n),a);return r(c)})}},fV=(e,t,n)=>{const s={},o=[];for(const r of n)KS(r,(i,a,c,u)=>{const d=uV(c,e,t,i,u);Xt.fold(d,g=>{o.push(...g)},g=>{s[a]=g})},(i,a)=>{s[i]=a(t)});return o.length>0?Xt.serror(o):Xt.svalue(s)},yp=e=>({extract:(s,o)=>fV(s,o,e),toString:()=>`obj{
`+V(e,o=>KS(o,(r,i,a,c)=>r+" -> "+c.toString(),(r,i)=>"state("+r+")")).join(`
`)+"}"}),YS=e=>({extract:(s,o)=>{const r=V(o,(i,a)=>e.extract(s.concat(["["+a+"]"]),i));return sV.consolidateArr(r)},toString:()=>"array("+e.toString()+")"}),dV=e=>Cp(t=>e(t).fold(Xt.serror,Xt.svalue)),mV=(e,t,n)=>{const s=t.extract([e],n);return Xt.mapError(s,o=>({input:n,errors:o}))},pV=(e,t,n)=>Xt.toResult(mV(e,t,n)),gV=e=>`Errors: 
`+VW(e.errors).join(`
`)+`

Input object: `+vp(e.input),XS=(e,t)=>XW(e,Cl(t,yp)),hV=K(iV),Jc=(e,t)=>Cp(n=>{const s=typeof n;return e(n)?Xt.svalue(n):Xt.serror(`Expected type: ${t} but got: ${s}`)}),bV=Jc(zt,"number"),eu=Jc(le,"string"),vV=Jc(je,"boolean"),Ep=Jc(He,"function"),Ja=oV,QS=rV,CV=e=>dV(t=>z(e,t)?Cn.value(t):Cn.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),ZS=(e,t)=>Ja(e,e,VS(),t),JS=e=>ZS(e,eu),ew=e=>ZS(e,Ep),yV=(e,t)=>Ja(e,e,VS(),YS(t)),_p=(e,t)=>Ja(e,e,tV(),t),tu=e=>_p(e,eu),EV=e=>_p(e,Ep),_V=(e,t)=>Ja(e,e,jS(t),hV()),Ni=(e,t,n)=>Ja(e,e,jS(t),n),tw=(e,t)=>Ni(e,t,bV),SV=(e,t)=>Ni(e,t,eu),nw=(e,t,n)=>Ni(e,t,CV(n)),Sp=(e,t)=>Ni(e,t,vV),wp=(e,t)=>Ni(e,t,Ep),wV=(e,t,n)=>Ni(e,t,YS(n)),xV=JS("type"),kV=ew("fetch"),xp=ew("onAction"),NV=wp("onSetup",()=>Me),AV=tu("text"),TV=tu("icon"),RV=tu("tooltip"),PV=tu("label"),OV=Sp("active",!1),DV=Sp("enabled",!0),sw=Sp("primary",!1),BV=e=>_V("columns",e),el=e=>SV("type",e),IV=yp([xV,JS("trigger"),tw("minChars",1),BV(1),tw("maxResults",10),EV("matches"),kV,xp,wV("highlightOn",[],eu)]),FV=e=>pV("Autocompleter",IV,{trigger:e.ch,...e}),kp=[DV,RV,TV,AV,NV],ow=[OV].concat(kp),LV=[wp("predicate",nt),nw("scope","node",["node","editor"]),nw("position","selection",["node","selection","line"])],$V=kp.concat([el("contextformbutton"),sw,xp,QS("original",Ot)]),MV=ow.concat([el("contextformbutton"),sw,xp,QS("original",Ot)]),UV=kp.concat([el("contextformbutton")]),zV=ow.concat([el("contextformtogglebutton")]),HV=XS("type",{contextformbutton:$V,contextformtogglebutton:MV});yp([el("contextform"),wp("initValue",K("")),PV,yV("commands",HV),_p("launch",XS("type",{contextformbutton:UV,contextformtogglebutton:zV}))].concat(LV));const WV=e=>{const t=e.ui.registry.getAll().popups,n=Cl(t,i=>FV(i).fold(a=>{throw new Error(gV(a))},Ot)),s=Jg(tf(n,i=>i.trigger)),o=nf(n);return{dataset:n,triggers:s,lookupByTrigger:i=>j(o,a=>a.trigger===i)}},VV=(e,t)=>{const n=Uf(t.load,50);e.on("keypress compositionend",s=>{s.which!==27&&n.throttle()}),e.on("keydown",s=>{const o=s.which;o===8?n.throttle():o===27&&t.cancelIfNecessary()}),e.on("remove",n.cancel)},jV=e=>{const t=Oo(),n=Vt(!1),s=t.isSet,o=()=>{s()&&(XU(e),cD(e),n.set(!1),t.clear())},r=u=>{s()||(YU(e,u.range),t.set({trigger:u.trigger,matchLength:u.text.length}))},i=er(()=>WV(e)),a=u=>t.get().map(d=>LS(e.dom,e.selection.getRng(),d.trigger).bind(g=>US(e,i,g,u))).getOrThunk(()=>$W(e,i)),c=u=>{a(u).fold(o,d=>{r(d.context),d.lookupData.then(g=>{t.get().map(p=>{const E=d.context;p.trigger===E.trigger&&(E.text.length-p.matchLength>=10?o():(t.set({...p,matchLength:E.text.length}),n.get()?lD(e,{lookupData:g}):(n.set(!0),aD(e,{lookupData:g}))))})})})};e.addCommand("mceAutocompleterReload",(u,d)=>{const g=tt(d)?d.fetchOptions:{};c(g)}),e.addCommand("mceAutocompleterClose",o),VV(e,{cancelIfNecessary:o,load:c})},rw=e=>(t,n,s={})=>{const o=t.getBody(),r={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:o,currentTarget:o,eventPhase:Event.AT_TARGET,originalTarget:o,explicitOriginalTarget:o,isTrusted:!1,srcElement:o,cancelable:!1,preventDefault:Me,inputType:n},i=Ib(new InputEvent(e));return t.dispatch(e,{...i,...r,...s})},Np=rw("input"),Ap=rw("beforeinput"),qV=(e,t,n)=>{const s=n.keyCode===pe.BACKSPACE?"deleteContentBackward":"deleteContentForward";gS([{keyCode:pe.BACKSPACE,action:Be(J_,e)},{keyCode:pe.BACKSPACE,action:Be(Qm,e,!1)},{keyCode:pe.DELETE,action:Be(Qm,e,!0)},{keyCode:pe.BACKSPACE,action:Be(Gm,e,!1)},{keyCode:pe.DELETE,action:Be(Gm,e,!0)},{keyCode:pe.BACKSPACE,action:Be(ip,e,t,!1)},{keyCode:pe.DELETE,action:Be(ip,e,t,!0)},{keyCode:pe.BACKSPACE,action:Be(nm,e,!1)},{keyCode:pe.DELETE,action:Be(nm,e,!0)},{keyCode:pe.BACKSPACE,action:Be(Zm,e,!1)},{keyCode:pe.DELETE,action:Be(Zm,e,!0)},{keyCode:pe.BACKSPACE,action:Be(cp,e,!1)},{keyCode:pe.DELETE,action:Be(cp,e,!0)},{keyCode:pe.BACKSPACE,action:Be(qm,e,!1)},{keyCode:pe.DELETE,action:Be(qm,e,!0)},{keyCode:pe.BACKSPACE,action:Be(jm,e,!1)},{keyCode:pe.DELETE,action:Be(jm,e,!0)},{keyCode:pe.BACKSPACE,action:Be(ap,e,!1)},{keyCode:pe.DELETE,action:Be(ap,e,!0)}],n).each(o=>{n.preventDefault(),Ap(e,s).isDefaultPrevented()||(o(),Np(e,s))})},KV=(e,t)=>{Qa([{keyCode:pe.BACKSPACE,action:Be(g_,e)},{keyCode:pe.DELETE,action:Be(g_,e)}],t)},GV=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||qV(e,t,n)}),e.on("keyup",n=>{n.isDefaultPrevented()||KV(e,n)})},YV=e=>{for(;e;){if(fe(e)||X(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},tl=(e,t)=>{const n=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const r=YV(t.firstChild);r&&/^(UL|OL|DL)$/.test(r.nodeName)&&t.insertBefore(n.doc.createTextNode(Gt),t.firstChild)}const o=n.createRng();if(t.normalize(),t.hasChildNodes()){const r=new $t(t,t);let i=t,a;for(;a=r.current();){if(X(a)){o.setStart(a,0),o.setEnd(a,0);break}if(s[a.nodeName.toLowerCase()]){o.setStartBefore(a),o.setEndBefore(a);break}i=a,a=r.next()}a||(o.setStart(i,0),o.setEnd(i,0))}else Dt(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),Ia(e,o)},nu=(e,t)=>{const n=e.getRoot();let s,o=t;for(;o!==n&&o&&e.getContentEditable(o)!=="false";)e.getContentEditable(o)==="true"&&(s=o),o=o.parentNode;return o!==n?s:n},Tp=e=>b.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),XV=e=>Tp(e).fold(K(""),t=>t.nodeName.toUpperCase()),QV=e=>Tp(e).filter(t=>ua(x.fromDom(t))).isSome(),ZV=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,JV=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},iw=(e,t)=>{const n=e==null?void 0:e.parentNode;return se(n)&&n.nodeName===t},aw=e=>se(e)&&/^(OL|UL|LI)$/.test(e.nodeName),e6=e=>se(e)&&/^(LI|DT|DD)$/.test(e.nodeName),t6=e=>aw(e)&&aw(e.parentNode),su=e=>{const t=e.parentNode;return e6(t)?t:e},ou=(e,t,n)=>{let s=e[n?"firstChild":"lastChild"];for(;s&&!fe(s);)s=s[n?"nextSibling":"previousSibling"];return s===t},n6=(e,t,n,s,o)=>{const r=e.dom,i=e.selection.getRng(),a=n.parentNode;if(n===e.getBody()||!a)return;t6(n)&&(o="LI");let c=t(o);if(ou(n,s,!0)&&ou(n,s,!1))if(iw(n,"LI")){const u=su(n);r.insertAfter(c,u),JV(n)?r.remove(u):r.remove(n)}else r.replace(c,n);else if(ou(n,s,!0))iw(n,"LI")?(r.insertAfter(c,su(n)),c.appendChild(r.doc.createTextNode(" ")),c.appendChild(n)):a.insertBefore(c,n),r.remove(s);else if(ou(n,s,!1))r.insertAfter(c,su(n)),r.remove(s);else{n=su(n);const u=i.cloneRange();u.setStartAfter(s),u.setEndAfter(n);const d=u.extractContents();o==="LI"&&ZV(d,"LI")?(c=d.firstChild,r.insertAfter(d,n)):(r.insertAfter(d,n),r.insertAfter(c,n)),r.remove(s)}tl(e,c)},s6=e=>{R(bb(x.fromDom(e),zn),t=>{const n=t.dom;n.nodeValue=fo(n.data)})},o6=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},r6=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),Rp=e=>{e.innerHTML='<br data-mce-bogus="1">'},Pp=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,lw=(e,t)=>se(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.getContentEditable(t)!=="true",i6=(e,t,n)=>{var s;const o=[];if(!n)return;let r=n;for(;r=r.firstChild;){if(e.isBlock(r))return;fe(r)&&!t[r.nodeName.toLowerCase()]&&o.push(r)}let i=o.length;for(;i--;)r=o[i],(!r.hasChildNodes()||r.firstChild===r.lastChild&&((s=r.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||r6(e,r))&&e.remove(r)},Op=(e,t,n)=>X(t)?e?n===1&&t.data.charAt(n-1)===Jt?0:n:n===t.data.length-1&&t.data.charAt(n)===Jt?t.data.length:n:n,a6=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,Op(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,Op(!1,e.endContainer,e.endOffset)),t},l6=e=>{let t=e;do X(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},c6=(e,t,n)=>{const s=e.dom;b.from(n.style).map(s.parseStyle).each(c=>{const d={...Qh(x.fromDom(t)),...c};s.setStyles(t,d)});const o=b.from(n.class).map(c=>c.split(/\s+/)),r=b.from(t.className).map(c=>j(c.split(/\s+/),u=>u!==""));bn(o,r,(c,u)=>{const d=j(u,p=>!z(c,p)),g=[...c,...d];s.setAttrib(t,"class",g.join(" "))});const i=["style","class"],a=Gi(n,(c,u)=>!z(i,u));s.setAttribs(t,a)},nl=(e,t)=>{if(Dn(e).toLowerCase()===t.tagName.toLowerCase()){const s=_a(e);c6(e,t,s)}},u6=(e,t,n,s,o)=>{var r;const i=e.dom,a=(r=nu(i,s))!==null&&r!==void 0?r:i.getRoot();let c=i.getParent(s,i.isBlock);if(!c||!lw(i,c)){c=c||a;let u;if(c===e.getBody()||cb(c)?u=c.nodeName.toLowerCase():c.parentNode?u=c.parentNode.nodeName.toLowerCase():u="",!c.hasChildNodes()){const p=i.create(t);return nl(e,p),c.appendChild(p),n.setStart(p,0),n.setEnd(p,0),p}let d=s;for(;d&&d.parentNode!==c;)d=d.parentNode;let g;for(;d&&!i.isBlock(d);)g=d,d=d.previousSibling;if(g&&e.schema.isValidChild(u,t.toLowerCase())){const p=g.parentNode,E=i.create(t);for(nl(e,E),p.insertBefore(E,g),d=g;d&&!i.isBlock(d);){const _=d.nextSibling;E.appendChild(d),d=_}n.setStart(s,o),n.setEnd(s,o)}}return s},f6=(e,t)=>{t.normalize();const n=t.lastChild;(!n||fe(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},d6=(e,t)=>{const n=S1(e);return Ve(t)?!1:le(n)?z(Q.explode(n),t.nodeName.toLowerCase()):n},cw={insert:(e,t)=>{let n,s,o,r,i=!1;const a=e.dom,c=e.schema,u=c.getNonEmptyElements(),d=e.selection.getRng(),g=Dn(e),p=ee=>{let W=n;const F=c.getTextInlineElements();let L;ee||o==="TABLE"||o==="HR"?L=a.create(ee||g):L=k.cloneNode(!1);let te=L;if(_1(e)===!1)a.setAttrib(L,"style",null),a.setAttrib(L,"class",null);else do if(F[W.nodeName]){if(bs(W)||Kn(W))continue;const me=W.cloneNode(!1);a.setAttrib(me,"id",""),L.hasChildNodes()?(me.appendChild(L.firstChild),L.appendChild(me)):(te=me,L.appendChild(me))}while((W=W.parentNode)&&W!==w);return nl(e,L),Rp(te),L},E=ee=>{const W=Op(ee,n,s);if(X(n)&&(ee?W>0:W<n.data.length))return!1;if(n.parentNode===k&&i&&!ee||ee&&fe(n)&&n===k.firstChild)return!0;if(Pp(n,"TABLE")||Pp(n,"HR"))return i&&!ee||!i&&ee;const F=new $t(n,k);X(n)&&(ee&&W===0?F.prev():!ee&&W===n.data.length&&F.next());let L;for(;L=F.current();){if(fe(L)){if(!L.getAttribute("data-mce-bogus")){const te=L.nodeName.toLowerCase();if(u[te]&&te!=="br")return!1}}else if(X(L)&&!ur(L.data))return!1;ee?F.prev():F.next()}return!0},_=()=>{let ee;return/^(H[1-6]|PRE|FIGURE)$/.test(o)&&A!=="HGROUP"?ee=p(g):ee=p(),d6(e,r)&&lw(a,r)&&a.isEmpty(k)?ee=a.split(r,k):a.insertAfter(ee,k),tl(e,ee),ee};pc(a,d).each(ee=>{d.setStart(ee.startContainer,ee.startOffset),d.setEnd(ee.endContainer,ee.endOffset)}),n=d.startContainer,s=d.startOffset;const y=!!(t&&t.shiftKey),S=!!(t&&t.ctrlKey);fe(n)&&n.hasChildNodes()&&(i=s>n.childNodes.length-1,n=n.childNodes[Math.min(s,n.childNodes.length-1)]||n,i&&X(n)?s=n.data.length:s=0);const w=nu(a,n);if(!w||o6(e,n))return;y||(n=u6(e,g,d,n,s));let k=a.getParent(n,a.isBlock)||a.getRoot();r=se(k==null?void 0:k.parentNode)?a.getParent(k.parentNode,a.isBlock):null,o=k?k.nodeName.toUpperCase():"";const A=r?r.nodeName.toUpperCase():"";if(A==="LI"&&!S){const ee=r;k=ee,r=ee.parentNode,o=A}if(/^(LI|DT|DD)$/.test(o)&&fe(r)&&a.isEmpty(k)){n6(e,p,r,k,g);return}if(k===e.getBody())return;const U=k.parentNode;let H;if(ti(k))H=Nf(k),a.isEmpty(k)&&Rp(k),nl(e,H),tl(e,H);else if(E(!1))H=_();else if(E(!0)&&U)H=U.insertBefore(p(),k),tl(e,Pp(k,"HR")?H:k);else{const ee=a6(d).cloneRange();ee.setEndAfter(k);const W=ee.extractContents();s6(W),l6(W),H=W.firstChild,a.insertAfter(W,k),i6(a,u,H),f6(a,k),a.isEmpty(k)&&Rp(k),H.normalize(),a.isEmpty(H)?(a.remove(H),_()):(nl(e,H),tl(e,H))}a.setAttrib(H,"id",""),e.dispatch("NewBlock",{newBlock:H})},fakeEventName:"insertParagraph"},m6=(e,t,n)=>{const s=new $t(t,n);let o;const r=e.getNonEmptyElements();for(;o=s.next();)if(r[o.nodeName.toLowerCase()]||X(o)&&o.length>0)return!0;return!1},uw=(e,t,n)=>{const s=e.dom.createRng();n?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),Ia(e,s)},p6=(e,t)=>{const n=e.selection,s=e.dom,o=n.getRng();let r,i=!1;pc(s,o).each(E=>{o.setStart(E.startContainer,E.startOffset),o.setEnd(E.endContainer,E.endOffset)});let a=o.startOffset,c=o.startContainer;if(fe(c)&&c.hasChildNodes()){const E=a>c.childNodes.length-1;c=c.childNodes[Math.min(a,c.childNodes.length-1)]||c,E&&X(c)?a=c.data.length:a=0}let u=s.getParent(c,s.isBlock);const d=u&&u.parentNode?s.getParent(u.parentNode,s.isBlock):null,g=d?d.nodeName.toUpperCase():"",p=!!(t&&t.ctrlKey);g==="LI"&&!p&&(u=d),X(c)&&a>=c.data.length&&(m6(e.schema,c,u||s.getRoot())||(r=s.create("br"),o.insertNode(r),o.setStartAfter(r),o.setEndAfter(r),i=!0)),r=s.create("br"),jf(s,o,r),uw(e,r,i),e.undoManager.add()},g6=(e,t)=>{const n=x.fromTag("br");Wn(x.fromDom(t),n),e.undoManager.add()},h6=(e,t)=>{v6(e.getBody(),t)||ko(x.fromDom(t),x.fromTag("br"));const n=x.fromTag("br");ko(x.fromDom(t),n),uw(e,n.dom,!1),e.undoManager.add()},b6=e=>Dt(e.getNode()),v6=(e,t)=>b6($.after(t))?!0:An(e,$.after(t)).map(n=>Dt(n.getNode())).getOr(!1),fw=e=>e&&e.nodeName==="A"&&"href"in e,C6=e=>e.fold(nt,fw,fw,nt),y6=e=>{const t=ie(wr,e),n=$.fromRangeStart(e.selection.getRng());return Qs(t,e.getBody(),n).filter(C6)},E6=(e,t)=>{t.fold(Me,ie(g6,e),ie(h6,e),Me)},dw={insert:(e,t)=>{const n=y6(e);n.isSome()?n.each(ie(E6,e)):p6(e,t)},fakeEventName:"insertLineBreak"},mw=(e,t)=>Tp(e).filter(n=>t.length>0&&ds(x.fromDom(n),t)).isSome(),_6=e=>mw(e,y1(e)),S6=e=>mw(e,E1(e)),Zn=Hs.generate([{br:[]},{block:[]},{none:[]}]),w6=(e,t)=>S6(e),pw=e=>(t,n)=>QV(t)===e,gw=(e,t)=>(n,s)=>XV(n)===e.toUpperCase()===t,x6=e=>{const t=nu(e.dom,e.selection.getStart());return Ve(t)},sl=e=>gw("pre",e),k6=()=>gw("summary",!0),ru=e=>(t,n)=>v1(t)===e,N6=(e,t)=>_6(e),iu=(e,t)=>t,A6=e=>{const t=Dn(e),n=nu(e.dom,e.selection.getStart());return se(n)&&e.schema.isValidChild(n.nodeName,t)},is=(e,t)=>(n,s)=>_e(e,(r,i)=>r&&i(n,s),!0)?b.some(t):b.none(),T6=(e,t)=>E_([is([w6],Zn.none()),is([sl(!0),x6],Zn.none()),is([k6()],Zn.br()),is([sl(!0),ru(!1),iu],Zn.br()),is([sl(!0),ru(!1)],Zn.block()),is([sl(!0),ru(!0),iu],Zn.block()),is([sl(!0),ru(!0)],Zn.br()),is([pw(!0),iu],Zn.br()),is([pw(!0)],Zn.block()),is([N6],Zn.br()),is([iu],Zn.br()),is([A6],Zn.block())],[e,!!(t&&t.shiftKey)]).getOr(Zn.none()),au=(e,t,n)=>{t.selection.isCollapsed()||nF(t),!(se(n)&&Ap(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),se(n)&&Np(t,e.fakeEventName))},hw=(e,t)=>{const n=()=>au(dw,e,t),s=()=>au(cw,e,t),o=T6(e,t);switch(C1(e)){case"linebreak":o.fold(n,n,Me);break;case"block":o.fold(s,s,Me);break;case"invert":o.fold(s,n,Me);break;default:o.fold(n,s,Me);break}},R6=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),aU(e.undoManager),e.undoManager.transact(()=>{hw(e,t)}))},P6=e=>{e.on("keydown",t=>{t.keyCode===pe.ENTER&&R6(e,t)})},O6=(e,t,n)=>{const s=Xe.os.isMacOS()||Xe.os.isiOS();Qa([{keyCode:pe.END,action:Be(fS,e,!0)},{keyCode:pe.HOME,action:Be(fS,e,!1)},...s?[]:[{keyCode:pe.HOME,action:Be(Gc,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:pe.END,action:Be(Gc,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:pe.END,action:Be(vS,e,!0)},{keyCode:pe.HOME,action:Be(vS,e,!1)},{keyCode:pe.END,action:Be(Kc,e,!0,t)},{keyCode:pe.HOME,action:Be(Kc,e,!1,t)}],n).each(o=>{n.preventDefault()})},D6=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||O6(e,t,n)})},B6=e=>{e.on("input",t=>{t.isComposing||BI(e)})},I6=tr(),F6=(e,t,n)=>{Qa([{keyCode:pe.PAGE_UP,action:Be(Kc,e,!1,t)},{keyCode:pe.PAGE_DOWN,action:Be(Kc,e,!0,t)}],n)},bw=e=>e.stopImmediatePropagation(),vw=e=>e.keyCode===pe.PAGE_UP||e.keyCode===pe.PAGE_DOWN,Cw=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",bw,!0):!n&&e.get()&&t.off("NodeChange",bw),e.set(n)},L6=(e,t)=>{if(I6.os.isMacOS())return;const n=Vt(!1);e.on("keydown",s=>{vw(s)&&Cw(n,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||F6(e,t,s),vw(s)&&n.get()&&(Cw(n,e,!1),e.nodeChanged())})},yw=(e,t)=>{const n=t.container(),s=t.offset();return X(n)?(n.insertData(s,e),b.some($(n,s+e.length))):ec(t).map(o=>{const r=x.fromText(e);return t.isAtEnd()?ko(o,r):Wn(o,r),$(r.dom,e.length)})},$6=ie(yw,Gt),M6=ie(yw," "),U6=e=>t=>t.fold(n=>qn(e.dom,$.before(n)),n=>yn(n),n=>qs(n),n=>An(e.dom,$.after(n))),z6=(e,t)=>n=>AI(e,n)?$6(t):M6(t),H6=e=>t=>(e.selection.setRng(t.toRange()),e.nodeChanged(),!0),W6=e=>{const t=$.fromRangeStart(e.selection.getRng()),n=x.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=ie(wr,e),o=$.fromRangeStart(e.selection.getRng());return Qs(s,e.getBody(),o).bind(U6(n)).map(r=>()=>z6(n,t)(r).each(H6(e)))}else return b.none()},V6=(e,t)=>{gS([{keyCode:pe.SPACEBAR,action:Be(W6,e)}],t).each(n=>{t.preventDefault(),Ap(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),Np(e,"insertText",{data:" "}))})},j6=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||V6(e,t)})},q6=e=>RP(e)?[{keyCode:pe.TAB,action:Be(DS,e,!0)},{keyCode:pe.TAB,shiftKey:!0,action:Be(DS,e,!1)}]:[],K6=(e,t)=>{Qa([...q6(e)],t).each(n=>{t.preventDefault()})},G6=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||K6(e,t)})},Y6=e=>{if(e.addShortcut("Meta+P","","mcePrint"),jV(e),Xs(e))return Vt(null);{const t=e3(e);return B3(e),NW(e,t),GV(e,t),P6(e),j6(e),B6(e),G6(e),D6(e,t),L6(e,t),t}};class X6{constructor(t){this.lastPath=[],this.editor=t;let n;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",o=>{const r=t.selection.getRng(),i={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};(o.type==="nodechange"||!kd(i,n))&&t.dispatch("SelectionChange"),n=i}),t.on("contextmenu",()=>{t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const o=t.selection.getStart(!0);!o||ac(t)&&!s.isSameElementPath(o)&&t.dom.isChildOf(o,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",o=>{!o.isDefaultPrevented()&&ac(t)&&(t.selection.getNode().nodeName==="IMG"?Yn.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor.selection;let s;if(this.editor.initialized&&n&&!Z1(this.editor)&&!this.editor.mode.isReadOnly()){const o=this.editor.getBody();s=n.getStart(!0)||o,(s.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(s,o))&&(s=o);const r=[];this.editor.dom.getParent(s,i=>i===o?!0:(r.push(i),!1)),this.editor.dispatch("NodeChange",{...t,element:s,parents:r})}}isSameElementPath(t){let n;const s=this.editor,o=Nt(s.dom.getParents(t,Et,s.getBody()));if(o.length===this.lastPath.length){for(n=o.length;n>=0&&o[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=o,!0}return this.lastPath=o,!1}}const Ew="x-tinymce/html",lu=K(Ew),Dp="<!-- "+Ew+" -->",Q6=e=>Dp+e,Z6=e=>e.replace(Dp,""),_w=e=>e.indexOf(Dp)!==-1,J6=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),ej=(e,t)=>{let n="<"+e;const s=tf(t,(o,r)=>r+'="'+Ro.encodeAllRaw(o)+'"');return s.length&&(n+=" "+s.join(" ")),n+">"},tj=(e,t,n)=>{const s=e.split(/\n\n/),o=ej(t,n),r="</"+t+">",i=V(s,c=>c.split(/\n/).join("<br />")),a=c=>o+c+r;return i.length===1?i[0]:V(i,a).join("")},Sw="%MCEPASTEBIN%",nj=(e,t)=>{const{dom:n,selection:s}=e,o=e.getBody();t.set(s.getRng());const r=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Sw);Xe.browser.isFirefox()&&n.setStyle(r,"left",n.getStyle(o,"direction",!0)==="rtl"?65535:-65535),n.bind(r,"beforedeactivate focusin focusout",i=>{i.stopPropagation()}),r.focus(),s.select(r,!0)},sj=(e,t)=>{const n=e.dom;if(Bp(e)){let s;const o=t.get();for(;s=Bp(e);)n.remove(s),n.unbind(s);o&&e.selection.setRng(o)}t.set(null)},Bp=e=>e.dom.get("mcepastebin"),oj=e=>se(e)&&e.id==="mcepastebin",rj=e=>{const t=e.dom,n=(i,a)=>{i.appendChild(a),t.remove(a,!0)},[s,...o]=j(e.getBody().childNodes,oj);R(o,i=>{n(s,i)});const r=t.select("div[id=mcepastebin]",s);for(let i=r.length-1;i>=0;i--){const a=t.create("div");s.insertBefore(a,r[i]),n(a,r[i])}return s?s.innerHTML:""},ww=e=>e===Sw,ij=e=>{const t=Vt(null);return{create:()=>nj(e,t),remove:()=>sj(e,t),getEl:()=>Bp(e),getHtml:()=>rj(e),getLastRng:t.get}},xw=(e,t)=>(Q.each(t,n=>{gn(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),aj=e=>{const t=Po(),n=_i({},t);let s="";const o=t.getVoidElements(),r=Q.makeMap("script noscript style textarea video audio iframe object"," "),i=t.getBlockElements(),a=c=>{const u=c.name,d=c;if(u==="br"){s+=`
`;return}if(u!=="wbr"){if(o[u]&&(s+=" "),r[u]){s+=" ";return}if(c.type===3&&(s+=c.value),!(c.name in t.getVoidElements())){let g=c.firstChild;if(g)do a(g);while(g=g.next)}i[u]&&d.next&&(s+=`
`,u==="p"&&(s+=`
`))}};return e=xw(e,[/<!\[[^\]]+\]>/g]),a(n.parse(e)),s},kw=e=>(e=xw(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,s,o)=>!s&&!o?" ":Gt],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),lj=e=>{let t=0;return()=>e+t++},cj=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Q.hasOwn(n,t)?"image/"+n[t]:"image/"+t},uj=(e,t)=>{const n=_i({},e.schema);n.addNodeFilter("meta",o=>{Q.each(o,r=>{r.remove()})});const s=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Lo({validate:!0},e.schema).serialize(s)},Nw=(e,t)=>({content:e,cancelled:t}),fj=(e,t,n)=>{const s=e.dom.create("div",{style:"display:none"},t),o=fD(e,s,n);return Nw(o.node.innerHTML,o.isDefaultPrevented())},dj=(e,t,n)=>{const s=uD(e,t,n),o=uj(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?fj(e,o,n):Nw(o,s.isDefaultPrevented())},mj=(e,t,n)=>dj(e,t,n),Ip=(e,t)=>(e.insertContent(t,{merge:hP(e),paste:!0}),!0),Fp=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),pj=(e,t)=>Fp(t)&&Y(Uv(e),n=>rh(t.toLowerCase(),`.${n.toLowerCase()}`)),gj=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),hj=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),bj=(e,t,n)=>!e.selection.isCollapsed()&&Fp(t)?hj(e,t,n):!1,vj=(e,t,n)=>pj(e,t)?gj(e,t,n):!1,Cj=(e,t)=>{Q.each([bj,vj,Ip],n=>!n(e,t,Ip))},yj=(e,t,n)=>{n||!bP(e)?Ip(e,t):Cj(e,t)},Ej=lj("mceclip"),Aw=(e,t,n,s)=>{const o=mj(e,t,n);o.cancelled||yj(e,o.content,s)},cu=(e,t,n)=>{const s=n||_w(t);Aw(e,Z6(t),s,!1)},Lp=(e,t)=>{const n=e.dom.encode(t).replace(/\r\n/g,`
`),s=kb(n,CP(e)),o=tj(s,Dn(e),_a(e));Aw(e,o,!1,!0)},Tw=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const s=e.types[n];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},Ai=(e,t)=>t in e&&e[t].length>0,Rw=e=>Ai(e,"text/html")||Ai(e,"text/plain"),_j=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return se(n)?e.dom.encode(n[1]):void 0},Sj=(e,t,n,s)=>{const o=Ej(),r=Rv(e)&&se(n.name),i=r?_j(e,n.name):o,a=r?n.name:void 0,c=t.create(o,n,s,i,a);return t.add(c),c},wj=(e,t)=>{Pm(t.uri).each(({data:n,type:s,base64Encoded:o})=>{const r=o?n:btoa(n),i=t.file,a=e.editorUpload.blobCache,c=a.getByData(r,s),u=c!=null?c:Sj(e,a,i,r);cu(e,`<img src="${u.blobUri()}">`,!1)})},xj=e=>e.type==="paste",kj=e=>Promise.all(V(e,t=>uE(t).then(n=>({file:t,uri:n})))),Nj=e=>{const t=Uv(e);return n=>Zt(n.type,"image/")&&Y(t,s=>cj(s)===n.type)},Aj=(e,t)=>{const n=t.items?ot(wt(t.items),o=>o.kind==="file"?[o.getAsFile()]:[]):[],s=t.files?wt(t.files):[];return j(n.length>0?n:s,Nj(e))},Pw=(e,t,n)=>{const s=xj(t)?t.clipboardData:t.dataTransfer;if(Zl(e)&&s){const o=Aj(e,s);if(o.length>0)return t.preventDefault(),kj(o).then(r=>{n&&e.selection.setRng(n),R(r,i=>{wj(e,i)})}),!0}return!1},Tj=e=>{var t,n;return Xe.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},Rj=e=>pe.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,Ow=(e,t,n,s)=>{let o=kw(n);const r=Ai(t,lu())||_w(n),i=!r&&J6(o),a=Fp(o);(ww(o)||!o.length||i&&!a)&&(s=!0),(s||a)&&(Ai(t,"text/plain")&&i?o=t["text/plain"]:o=aj(o)),!ww(o)&&(s?Lp(e,o):cu(e,o,r))},Pj=(e,t,n)=>{let s;const o=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",r=>{Rj(r)&&!r.isDefaultPrevented()&&(s=r.shiftKey&&r.keyCode===86)}),e.on("paste",r=>{if(r.isDefaultPrevented()||Tj(r))return;const i=n.get()==="text"||s;s=!1;const a=Tw(r.clipboardData);!Rw(a)&&Pw(e,r,o())||(Ai(a,"text/html")?(r.preventDefault(),Ow(e,a,a["text/html"],i)):(t.create(),Yn.setEditorTimeout(e,()=>{const c=t.getHtml();t.remove(),Ow(e,a,c,i)},0)))})},Oj=e=>{const t=o=>Zt(o,"webkit-fake-url"),n=o=>Zt(o,"data:"),s=o=>{var r;return((r=o.data)===null||r===void 0?void 0:r.paste)===!0};e.parser.addNodeFilter("img",(o,r,i)=>{if(!Zl(e)&&s(i))for(const a of o){const c=a.attr("src");le(c)&&!a.attr("data-mce-object")&&c!==Xe.transparentSrc&&(t(c)||!yP(e)&&n(c))&&a.remove()}})},Dj=(e,t,n)=>{Pj(e,t,n),Oj(e)},Bj=(e,t)=>{t.get()==="text"?(t.set("html"),zC(e,!1)):(t.set("text"),zC(e,!0)),e.focus()},Ij=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Bj(e,t)}),e.addCommand("mceInsertClipboardContent",(n,s)=>{s.html&&cu(e,s.html,s.internal),s.text&&Lp(e,s.text)})},Fj=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(lu(),t),!0}catch{return!1}else return!1},Dw=(e,t,n,s)=>{Fj(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):n(t.html,s)},Bw=e=>(t,n)=>{const{dom:s,selection:o}=e,r=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=s.create("div",{contenteditable:"true"},t);s.setStyles(r,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),r.appendChild(i),s.add(e.getBody(),r);const a=o.getRng();i.focus();const c=s.createRng();c.selectNodeContents(i),o.setRng(c),Yn.setEditorTimeout(e,()=>{o.setRng(a),s.remove(r),n()},0)},Iw=e=>({html:Q6(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Lj=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),Fw=e=>!e.selection.isCollapsed()||Lj(e),$j=e=>t=>{!t.isDefaultPrevented()&&Fw(e)&&Dw(t,Iw(e),Bw(e),()=>{if(Xe.browser.isChromium()||Xe.browser.isFirefox()){const n=e.selection.getRng();Yn.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Mj=e=>t=>{!t.isDefaultPrevented()&&Fw(e)&&Dw(t,Iw(e),Bw(e),Me)},Uj=e=>{e.on("cut",$j(e)),e.on("copy",Mj(e))},Lw=(e,t)=>{var n,s;return vi.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},zj=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},$w=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},Hj=e=>Y(e.files,t=>/^image\//.test(t.type)),Wj=(e,t)=>{fP(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),Zl(e)||e.on("drop",n=>{const s=n.dataTransfer;s&&Hj(s)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented()||t.get())return;const s=Lw(e,n);if(Ve(s))return;const o=Tw(n.dataTransfer),r=Ai(o,lu());if((!Rw(o)||zj(o))&&Pw(e,n,s))return;const i=o[lu()],a=i||o["text/html"]||o["text/plain"];a&&(n.preventDefault(),Yn.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{i&&e.execCommand("Delete"),$w(e,s);const c=kw(a);o["text/html"]?cu(e,c,r):Lp(e,c)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{Zl(e)&&!t.get()&&(n.preventDefault(),$w(e,Lw(e,n))),n.type==="dragend"&&t.set(!1)})},Vj=e=>{const t=o=>r=>{o(e,r)},n=dP(e);He(n)&&e.on("PastePreProcess",t(n));const s=mP(e);He(s)&&e.on("PastePostProcess",t(s))},jj=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},qj=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,Mw=e=>Q.trim(e).replace(qj,ic).toLowerCase(),Kj=(e,t,n)=>{const s=pP(e);if(n||s==="all"||!gP(e))return t;const o=s?s.split(/[, ]/):[];if(o&&s!=="none"){const r=e.dom,i=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(a,c,u,d)=>{const g=r.parseStyle(r.decode(u)),p={};for(let _=0;_<o.length;_++){const y=g[o[_]];let S=y,w=r.getStyle(i,o[_],!0);/color/.test(o[_])&&(S=Mw(S),w=Mw(w)),w!==S&&(p[o[_]]=y)}const E=r.serializeStyle(p,"span");return E?c+' style="'+E+'"'+d:c+d})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(r,i,a,c)=>i+' style="'+a+'"'+c),t},Gj=e=>{(Xe.browser.isChromium()||Xe.browser.isSafari())&&jj(e,Kj)},Yj=e=>{const t=Vt(!1),n=Vt(vP(e)?"text":"html"),s=ij(e);Gj(e),Ij(e,n),Vj(e),e.on("PreInit",()=>{Uj(e),Wj(e,t),Dj(e,s,n)})},Xj=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},Qj=e=>{e.parser.addNodeFilter("details",t=>{R(t,n=>{n.attr("data-mce-open",n.attr("open")),n.attr("open","open")})}),e.serializer.addNodeFilter("details",t=>{R(t,n=>{const s=n.attr("data-mce-open");n.attr("open",le(s)?s:null),n.attr("data-mce-open",null)})})},Zj=e=>{Xj(e),Qj(e)},Jj=Dt,Uw=X,e8=e=>yt(e.dom),t8=e=>Us(e.dom),zw=e=>t=>it(x.fromDom(e),t),n8=(e,t)=>Zr(x.fromDom(e),n=>t8(n)||ps(n),zw(t)).getOr(x.fromDom(t)).dom,Hw=(e,t)=>Zr(x.fromDom(e),e8,zw(t)),Ww=(e,t,n)=>{const s=new $t(e,t),o=n?s.next.bind(s):s.prev.bind(s);let r=e;for(let i=n?e:o();i&&!Jj(i);i=o())rs(i)&&(r=i);return r},s8=(e,t)=>{const s=$.fromRangeStart(e).getNode(),o=n8(s,t),r=Ww(s,o,!1),i=Ww(s,o,!0),a=document.createRange();return Hw(r,o).fold(()=>{Uw(r)?a.setStart(r,0):a.setStartBefore(r)},c=>a.setStartBefore(c.dom)),Hw(i,o).fold(()=>{Uw(i)?a.setEnd(i,i.data.length):a.setEndAfter(i)},c=>a.setEndAfter(c.dom)),a},o8=e=>{const t=s8(e.selection.getRng(),e.getBody());e.selection.setRng(am(t))},r8=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),o8(e))})};var ol;(function(e){e.Before="before",e.After="after"})(ol||(ol={}));const i8=(e,t)=>Math.abs(e.left-t),a8=(e,t)=>Math.abs(e.right-t),l8=(e,t)=>e>=t.top&&e<=t.bottom,c8=(e,t)=>e.top<t.bottom&&e.bottom>t.top,u8=(e,t)=>{const n=DR(e,t)/Math.min(e.height,t.height);return c8(e,t)&&n>.5},f8=(e,t)=>{const n=j(e,s=>l8(t,s));return OR(n).fold(()=>[[],e],s=>{const{pass:o,fail:r}=ue(e,i=>u8(i,s));return[o,r]})},d8=(e,t)=>({node:e.node,position:i8(e,t)<a8(e,t)?ol.Before:ol.After}),m8=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),$p=(e,t,n)=>{const s=d=>rs(d.node)?b.some(d):fe(d.node)?$p(wt(d.node.childNodes),t,n):b.none(),o=(d,g)=>{if(d.length>=2){const p=s(d[0]).getOr(d[0]),E=s(d[1]).getOr(d[1]);if(Math.abs(g(p,t,n)-g(E,t,n))<2){if(X(p.node))return b.some(p);if(X(E.node))return b.some(E)}}return b.none()},r=(d,g)=>{const p=So(d,(E,_)=>g(E,t,n)-g(_,t,n));return o(p,g).orThunk(()=>ro(p,s))},[i,a]=f8(B_(e),n),{pass:c,fail:u}=ue(a,d=>d.top<n);return r(i,m8).orThunk(()=>r(u,Jb)).orThunk(()=>r(c,Jb))},p8=(e,t,n,s)=>{const o=(r,i)=>i.fold(()=>$p(wt(r.dom.childNodes),n,s),a=>{const c=j(wt(r.dom.childNodes),u=>u!==a.dom);return $p(c,n,s)}).orThunk(()=>(it(r,e)?b.none():vA(r)).bind(c=>o(c,b.some(r))));return o(t,b.none())},g8=(e,t,n)=>{const s=x.fromDom(e),o=co(s),i=x.fromPoint(o,t,n).filter(a=>lo(s,a)).getOr(s);return p8(s,i,t,n)},h8=(e,t,n)=>g8(e,t,n).filter(s=>xa(s.node)).map(s=>d8(s,t)),Vw=e=>{var t,n;const s=e.getBoundingClientRect(),o=e.ownerDocument,r=o.documentElement,i=o.defaultView;return{top:s.top+((t=i==null?void 0:i.scrollY)!==null&&t!==void 0?t:0)-r.clientTop,left:s.left+((n=i==null?void 0:i.scrollX)!==null&&n!==void 0?n:0)-r.clientLeft}},b8=e=>e.inline?Vw(e.getBody()):{left:0,top:0},v8=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},C8=e=>{const t=e.getBody(),n=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?s:o},y8=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=Vw(e.getContentAreaContainer()),s=C8(e);return{left:t.pageX-n.left+s.left,top:t.pageY-n.top+s.top}}return{left:t.pageX,top:t.pageY}},E8=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),_8=(e,t)=>E8(b8(e),v8(e),y8(e,t)),uu=32,S8=100,fu=8,du=16,Mp=yt,w8=LR(Mp,Us),x8=(e,t)=>Mp(t)&&t!==e,k8=(e,t,n)=>Ve(t)||t===n||e.dom.isChildOf(t,n)?!1:!Mp(t),N8=e=>{const t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},A8=(e,t,n,s)=>{const o=e.dom,r=t.cloneNode(!0);o.setStyles(r,{width:n,height:s}),o.setAttrib(r,"data-mce-selected",null);const i=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:s}),o.setStyles(r,{margin:0,boxSizing:"border-box"}),i.appendChild(r),i},T8=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},mu=(e,t)=>n=>()=>{const s=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:s+t,behavior:"smooth"})},jw=mu("left",-uu),qw=mu("left",uu),Kw=mu("top",-uu),Gw=mu("top",uu),R8=(e,t,n,s,o,r,i,a,c,u,d)=>{let g=0,p=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(g=t.pageX+n-o),t.pageY+s>r&&(p=t.pageY+s-r),e.style.width=n-g+"px",e.style.height=s-p+"px";const E=c.clientHeight,_=c.clientWidth,y=i+c.getBoundingClientRect().top,S=a+c.getBoundingClientRect().left;d.on(w=>{w.intervalId.clear(),w.dragging&&(i+fu>=E?w.intervalId.set(Gw(u)):i-fu<=0?w.intervalId.set(Kw(u)):a+fu>=_?w.intervalId.set(qw(u)):a-fu<=0?w.intervalId.set(jw(u)):y+du>=window.innerHeight?w.intervalId.set(Gw(window)):y-du<=0?w.intervalId.set(Kw(window)):S+du>=window.innerWidth?w.intervalId.set(qw(window)):S-du<=0&&w.intervalId.set(jw(window)))})},Yw=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},P8=e=>e.button===0,O8=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),D8=(e,t)=>n=>{if(P8(n)){const s=Ce(t.dom.getParents(n.target),w8).getOr(null);if(se(s)&&x8(t.getBody(),s)){const o=t.dom.getPos(s),r=t.getBody(),i=t.getDoc().documentElement;e.set({element:s,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?r.scrollWidth:i.offsetWidth)-2,maxY:(t.inline?r.scrollHeight:i.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:s.offsetWidth,height:s.offsetHeight,ghost:A8(t,s,s.offsetWidth,s.offsetHeight),intervalId:ER(S8)})}}},B8=(e,t)=>{const n=ql((o,r)=>{t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(o,r)},0);t.on("remove",n.cancel);const s=e;return o=>e.on(r=>{const i=Math.max(Math.abs(o.screenX-r.screenX),Math.abs(o.screenY-r.screenY));if(!r.dragging&&i>10){if(t.dispatch("dragstart",{target:r.element}).isDefaultPrevented())return;r.dragging=!0,t.focus()}if(r.dragging){const a=O8(r,_8(t,o));T8(r.ghost,t.getBody()),R8(r.ghost,a,r.width,r.height,r.maxX,r.maxY,o.clientY,o.clientX,t.getContentAreaContainer(),t.getWin(),s),n.throttle(o.clientX,o.clientY)}})},I8=e=>{const t=e.getSel();if(se(t)){const s=t.getRangeAt(0).startContainer;return X(s)?s.parentNode:s}else return null},F8=(e,t)=>n=>{e.on(s=>{if(s.intervalId.clear(),s.dragging){if(k8(t,I8(t.selection),s.element)){const o=N8(s.element);t.dispatch("drop",{clientX:n.clientX,clientY:n.clientY}).isDefaultPrevented()||t.undoManager.transact(()=>{Yw(s.element),t.insertContent(t.dom.getOuterHTML(o)),t._selectionOverrides.hideFakeCaret()})}t.dispatch("dragend")}}),Xw(e)},L8=(e,t)=>()=>{e.on(n=>{n.intervalId.clear(),n.dragging&&t.dispatch("dragend")}),Xw(e)},Xw=e=>{e.on(t=>{t.intervalId.clear(),Yw(t.ghost)}),e.clear()},$8=e=>{const t=Oo(),n=ft.DOM,s=document,o=D8(t,e),r=B8(t,e),i=F8(t,e),a=L8(t,e);e.on("mousedown",o),e.on("mousemove",r),e.on("mouseup",i),n.bind(s,"mousemove",r),n.bind(s,"mouseup",a),e.on("remove",()=>{n.unbind(s,"mousemove",r),n.unbind(s,"mouseup",a)}),e.on("keydown",c=>{c.keyCode===pe.ESC&&a()})},M8=e=>{const t=o=>{if(!o.isDefaultPrevented()){const r=o.dataTransfer;r&&(z(r.types,"Files")||r.files.length>0)&&(o.preventDefault(),o.type==="drop"&&Mc(e,"Dropped file type is not supported"))}},n=o=>{bc(e,o.target)&&t(o)},s=()=>{const o=ft.DOM,r=e.dom,i=document,a=e.inline?e.getBody():e.getDoc(),c=["drop","dragover"];R(c,u=>{o.bind(i,u,n),r.bind(a,u,t)}),e.on("remove",()=>{R(c,u=>{o.unbind(i,u,n),r.unbind(a,u,t)})})};e.on("init",()=>{Yn.setEditorTimeout(e,s,0)})},U8=e=>{$8(e),tP(e)&&M8(e)},z8=e=>{const t=ql(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const s=Km(e,n,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},H8=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(zs(n)){const s=xr(e.getBody(),n),o=yt(s)?s:n;e.selection.getNode()!==o&&Ka(e,o).each(r=>e.selection.setRng(r))}})})},Ti=yt,Up=(e,t)=>xr(e.getBody(),t),W8=e=>{const t=e.selection,n=e.dom,s=e.getBody(),o=HP(e,s,n.isBlock,()=>_r(e)),r="sel-"+n.uniqueId(),i="data-mce-selected";let a;const c=W=>se(W)&&n.hasClass(W,"mce-offscreen-selection"),u=W=>W!==s&&(Ti(W)||zs(W))&&n.isChildOf(W,s),d=W=>{W&&t.setRng(W)},g=(W,F,L,te=!0)=>e.dispatch("ShowCaret",{target:F,direction:W,before:L}).isDefaultPrevented()?null:(te&&t.scrollIntoView(F,W===-1),o.show(L,F)),p=W=>{W.hasAttribute("data-mce-caret")&&(Nf(W),t.scrollIntoView(W))},E=()=>{e.on("click",F=>{const L=Up(e,F.target);L&&Ti(L)&&(F.preventDefault(),e.focus())}),e.on("blur NewBlock",U),e.on("ResizeWindow FullscreenStateChanged",o.reposition),e.on("tap",F=>{const L=F.target,te=Up(e,L);Ti(te)?(F.preventDefault(),Ka(e,te).each(A)):u(L)&&Ka(e,L).each(A)},!0),e.on("mousedown",F=>{const L=F.target;if(L!==s&&L.nodeName!=="HTML"&&!n.isChildOf(L,s)||!Hz(e,F.clientX,F.clientY))return;U(),ee();const te=Up(e,L);Ti(te)?(F.preventDefault(),Ka(e,te).each(A)):h8(s,F.clientX,F.clientY).each(me=>{F.preventDefault();const be=g(1,me.node,me.position===ol.Before,!1);d(be),fe(te)?te.focus():e.getBody().focus()})}),e.on("keypress",F=>{pe.modifierPressed(F)||Ti(t.getNode())&&F.preventDefault()}),e.on("GetSelectionRange",F=>{let L=F.range;if(a){if(!a.parentNode){a=null;return}L=L.cloneRange(),L.selectNode(a),F.range=L}}),e.on("SetSelectionRange",F=>{F.range=S(F.range);const L=A(F.range,F.forward);L&&(F.range=L)});const W=F=>fe(F)&&F.id==="mcepastebin";e.on("AfterSetSelectionRange",F=>{const L=F.range,te=L.startContainer.parentElement;!y(L)&&!W(te)&&ee(),c(te)||U()}),U8(e),z8(e),H8(e)},_=W=>Vn(W)||Ll(W)||$l(W),y=W=>_(W.startContainer)||_(W.endContainer),S=W=>{const F=e.schema.getVoidElements(),L=n.createRng(),te=W.startContainer,me=W.startOffset,be=W.endContainer,Te=W.endOffset;return $e(F,te.nodeName.toLowerCase())?me===0?L.setStartBefore(te):L.setStartAfter(te):L.setStart(te,me),$e(F,be.nodeName.toLowerCase())?Te===0?L.setEndBefore(be):L.setEndAfter(be):L.setEnd(be,Te),L},w=(W,F)=>{const L=x.fromDom(e.getBody()),te=e.getDoc(),me=ca(L,"#"+r).getOrThunk(()=>{const ze=x.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',te);return Kt(ze,"id",r),Wt(L,ze),ze}),be=n.createRng();ia(me),or(me,[x.fromText(Gt,te),x.fromDom(F),x.fromText(Gt,te)]),be.setStart(me.dom.firstChild,1),be.setEnd(me.dom.lastChild,0),Nl(me,{top:n.getPos(W,e.getBody()).y+"px"}),ay(me);const Te=t.getSel();return Te&&(Te.removeAllRanges(),Te.addRange(be)),be},k=W=>{const F=W.cloneNode(!0),L=e.dispatch("ObjectSelected",{target:W,targetClone:F});if(L.isDefaultPrevented())return null;const te=w(W,L.targetClone),me=x.fromDom(W);return R(vn(x.fromDom(e.getBody()),`*[${i}]`),be=>{it(me,be)||sn(be,i)}),n.getAttrib(W,i)||W.setAttribute(i,"1"),a=W,ee(),te},A=(W,F)=>{if(!W)return null;if(W.collapsed){if(!y(W)){const be=F?1:-1,Te=Ta(be,s,W),ze=Te.getNode(!F);if(xa(ze))return g(be,ze,F?!Te.isAtEnd():!1,!1);const qe=Te.getNode(F);if(xa(qe))return g(be,qe,F?!1:!Te.isAtEnd(),!1)}return null}let L=W.startContainer,te=W.startOffset;const me=W.endOffset;if(X(L)&&te===0&&Ti(L.parentNode)&&(L=L.parentNode,te=n.nodeIndex(L),L=L.parentNode),!fe(L))return null;if(me===te+1&&L===W.endContainer){const be=L.childNodes[te];if(u(be))return k(be)}return null},U=()=>{a&&a.removeAttribute(i),ca(x.fromDom(e.getBody()),"#"+r).each(_t),a=null},H=()=>{o.destroy(),a=null},ee=()=>{o.hide()};return Xs(e)||E(),{showCaret:g,showBlockCaretContainer:p,hideFakeCaret:ee,destroy:H}},V8=(e,t)=>{let n=t;for(let s=e.previousSibling;X(s);s=s.previousSibling)n+=s.data.length;return n},Qw=(e,t,n,s,o)=>{if(X(n)&&(s<0||s>n.data.length))return[];const r=o&&X(n)?[V8(n,s)]:[s];let i=n;for(;i!==t&&i.parentNode;)r.push(e.nodeIndex(i,o)),i=i.parentNode;return i===t?r.reverse():[]},zp=(e,t,n,s,o,r,i=!1)=>{const a=Qw(e,t,n,s,i),c=Qw(e,t,o,r,i);return{start:a,end:c}},Zw=(e,t)=>{const n=t.slice(),s=n.pop();return zt(s)?_e(n,(r,i)=>r.bind(a=>b.from(a.childNodes[i])),b.some(e)).bind(r=>X(r)&&(s<0||s>r.data.length)?b.none():b.some({node:r,offset:s})):b.none()},Jw=(e,t)=>Zw(e,t.start).bind(({node:n,offset:s})=>Zw(e,t.end).map(({node:o,offset:r})=>{const i=document.createRange();return i.setStart(n,s),i.setEnd(o,r),i})),j8=(e,t,n,s=!1)=>zp(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,s),Ri=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const s=t.parentNode;e.remove(t),Ri(e,s,n)}},pu=(e,t,n,s=!0)=>{const o=t.startContainer.parentNode,r=t.endContainer.parentNode;t.deleteContents(),s&&!n(t.startContainer)&&(X(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),X(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),Ri(e,o,n),o!==r&&Ri(e,r,n))},Hp=(e,t)=>b.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),ex=(e,t,n)=>{const s=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:_v(s).concat(e.blockPatterns),inlinePatterns:Sv(s).concat(e.inlinePatterns)}},tx=(e,t,n,s)=>{const o=e.createRng();return o.setStart(t,0),o.setEnd(n,s),o.toString()},nx=(e,t,n)=>{TW(t,0,t).each(o=>{const r=o.container;BS(r,n.start.length,t).each(i=>{const a=e.createRng();a.setStart(r,0),a.setEnd(i.container,i.offset),pu(e,a,c=>c===t)})})},q8=(e,t)=>{const n=e.dom,s=t.pattern,o=Jw(n.getRoot(),t.range).getOrDie("Unable to resolve path range"),r=(i,a)=>{const c=a.get(i);return Ct(c)&&tn(c).exists(u=>$e(u,"block"))};return Hp(e,o).each(i=>{s.type==="block-format"?r(s.format,e.formatter)&&e.undoManager.transact(()=>{nx(e.dom,i,s),e.formatter.apply(s.format)}):s.type==="block-command"&&e.undoManager.transact(()=>{nx(e.dom,i,s),e.execCommand(s.cmd,!1,s.value)})}),!0},K8=e=>So(e,(t,n)=>n.start.length-t.start.length),G8=(e,t)=>{const n=K8(e),s=t.replace(Gt," ");return Ce(n,o=>t.indexOf(o.start)===0||s.indexOf(o.start)===0)},Y8=(e,t,n,s)=>{var o;const r=e.dom,i=Dn(e);if(!r.is(t,i))return[];const a=(o=t.textContent)!==null&&o!==void 0?o:"";return G8(n.blockPatterns,a).map(c=>Q.trim(a).length===c.start.length?[]:[{pattern:c,range:zp(r,r.getRoot(),t,0,t,0,s)}]).getOr([])},X8=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();R(t,s=>q8(e,s)),e.selection.moveToBookmark(n)},sx=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),gu=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},ox=(e,t,n)=>{const s=Jw(e.getRoot(),n).getOrDie("Unable to resolve path range"),o=s.startContainer,r=s.endContainer,i=s.endOffset===0?r:r.splitText(s.endOffset),a=s.startOffset===0?o:o.splitText(s.startOffset),c=a.parentNode,u=i.parentNode;return{prefix:t,end:u.insertBefore(sx(e,t+"-end"),i),start:c.insertBefore(sx(e,t+"-start"),a)}},rx=(e,t,n)=>{Ri(e,e.get(t.prefix+"-end"),n),Ri(e,e.get(t.prefix+"-start"),n)},Wp=e=>e.start.length===0,Q8=e=>(t,n)=>{const o=t.data.substring(0,n),r=o.lastIndexOf(e.charAt(e.length-1)),i=o.lastIndexOf(e);return i!==-1?i+e.length:r!==-1?r+1:-1},ix=(e,t,n,s)=>{const o=t.start;return gp(e,s.container,s.offset,Q8(o),n).bind(i=>{if(i.offset>=o.length){const a=e.createRng();return a.setStart(i.container,i.offset-o.length),a.setEnd(i.container,i.offset),b.some(a)}else{const a=i.offset-o.length;return pp(i.container,a,n).map(c=>{const u=e.createRng();return u.setStart(c.container,c.offset),u.setEnd(i.container,i.offset),u}).filter(c=>c.toString()===o).orThunk(()=>ix(e,t,n,Es(i.container,0)))}})},Z8=(e,t,n,s,o,r=!1)=>{if(t.start.length===0&&!r){const i=e.createRng();return i.setStart(n,s),i.setEnd(n,s),b.some(i)}return mp(n,s,o).bind(i=>ix(e,t,o,i).bind(c=>{var u;if(r){if(c.endContainer===i.container&&c.endOffset===i.offset)return b.none();if(i.offset===0&&((u=c.endContainer.textContent)===null||u===void 0?void 0:u.length)===c.endOffset)return b.none()}return b.some(c)}))},J8=(e,t,n,s)=>{const o=e.dom,r=o.getRoot(),i=n.pattern,a=n.position.container,c=n.position.offset;return pp(a,c-n.pattern.end.length,t).bind(u=>{const d=zp(o,r,u.container,u.offset,a,c,s);if(Wp(i))return b.some({matches:[{pattern:i,startRng:d,endRng:d}],position:u});{const g=ax(e,n.remainingPatterns,u.container,u.offset,t,s),p=g.getOr({matches:[],position:u}),E=p.position;return Z8(o,i,E.container,E.offset,t,g.isNone()).map(y=>{const S=j8(o,r,y,s);return{matches:p.matches.concat([{pattern:i,startRng:S,endRng:d}]),position:Es(y.startContainer,y.startOffset)}})}})},ax=(e,t,n,s,o,r)=>{const i=e.dom;return mp(n,s,i.getRoot()).bind(a=>{const c=tx(i,o,n,s);for(let u=0;u<t.length;u++){const d=t[u];if(!rh(c,d.end))continue;const g=t.slice();g.splice(u,1);const p=J8(e,o,{pattern:d,remainingPatterns:g,position:a},r);if(p.isSome())return p}return b.none()})},lx=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?R(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},e5=(e,t,n,s)=>{const o=gu(e.dom,n);pu(e.dom,o,s),lx(e,t,o)},t5=(e,t,n,s,o)=>{const r=e.dom,i=gu(r,s),a=gu(r,n);pu(r,a,o),pu(r,i,o);const c={prefix:n.prefix,start:n.end,end:s.start},u=gu(r,c);lx(e,t,u)},n5=(e,t)=>{const n=Kb("mce_textpattern"),s=oe(t,(o,r)=>{const i=ox(e,n+`_end${o.length}`,r.endRng);return o.concat([{...r,endMarker:i}])},[]);return oe(s,(o,r)=>{const i=s.length-o.length-1,a=Wp(r.pattern)?r.endMarker:ox(e,n+`_start${i}`,r.startRng);return o.concat([{...r,startMarker:a}])},[])},cx=(e,t,n,s,o,r)=>ax(e,o.inlinePatterns,n,s,t,r).fold(()=>[],i=>i.matches),ux=(e,t)=>{if(t.length===0)return;const n=e.dom,s=e.selection.getBookmark(),o=n5(n,t);R(o,r=>{const i=n.getParent(r.startMarker.start,n.isBlock),a=c=>c===i;Wp(r.pattern)?e5(e,r.pattern,r.endMarker,a):t5(e,r.pattern,r.startMarker,r.endMarker,a),rx(n,r.endMarker,a),rx(n,r.startMarker,a)}),e.selection.moveToBookmark(s)},s5=(e,t)=>{const n=e.selection.getRng();return Hp(e,n).map(s=>{var o;const r=Math.max(0,n.startOffset),i=ex(t,s,(o=s.textContent)!==null&&o!==void 0?o:""),a=cx(e,s,n.startContainer,r,i,!0),c=Y8(e,s,i,!0);return c.length>0||a.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(Jr),ux(e,a),X8(e,c);const u=e.selection.getRng(),d=mp(u.startContainer,u.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),d.each(g=>{const p=g.container;p.data.charAt(g.offset-1)===Jr&&(p.deleteData(g.offset-1,1),Ri(e.dom,p.parentNode,E=>E===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},o5=(e,t)=>{const n=e.selection.getRng();Hp(e,n).map(s=>{const o=Math.max(0,n.startOffset-1),r=tx(e.dom,s,n.startContainer,o),i=ex(t,s,r),a=cx(e,s,n.startContainer,o,i,!1);a.length>0&&e.undoManager.transact(()=>{ux(e,a)})})},fx=(e,t,n)=>{for(let s=0;s<e.length;s++)if(n(e[s],t))return!0;return!1},r5=(e,t)=>fx(e,t,(n,s)=>n===s.keyCode&&!pe.modifierPressed(s)),i5=(e,t)=>fx(e,t,(n,s)=>n.charCodeAt(0)===s.charCode),a5=e=>{const t=[",",".",";",":","!","?"],n=[32],s=()=>l1(EP(e),_P(e)),o=()=>kP(e);e.on("keydown",i=>{if(i.keyCode===13&&!pe.modifierPressed(i)&&e.selection.isCollapsed()){const a=s();(a.inlinePatterns.length>0||a.blockPatterns.length>0||o())&&s5(e,a)&&i.preventDefault()}},!0);const r=()=>{if(e.selection.isCollapsed()){const i=s();(i.inlinePatterns.length>0||o())&&o5(e,i)}};e.on("keyup",i=>{r5(n,i)&&r()}),e.on("keypress",i=>{i5(t,i)&&Yn.setEditorTimeout(e,r)})},l5=e=>{a5(e)},c5=e=>{const t=Q.each,n=pe.BACKSPACE,s=pe.DELETE,o=e.dom,r=e.selection,i=e.parser,a=Xe.browser,c=a.isFirefox(),u=a.isChromium()||a.isSafari(),d=Xe.deviceType.isiPhone()||Xe.deviceType.isiPad(),g=Xe.os.isMacOS()||Xe.os.isiOS(),p=(ae,we)=>{try{e.getDoc().execCommand(ae,!1,String(we))}catch{}},E=ae=>ae.isDefaultPrevented(),_=()=>{const ae=Ee=>{const ne=o.create("body"),Ie=Ee.cloneContents();return ne.appendChild(Ie),r.serializer.serialize(ne,{format:"html"})},we=Ee=>{const ne=ae(Ee),Ie=o.createRng();Ie.selectNode(e.getBody());const De=ae(Ie);return ne===De};e.on("keydown",Ee=>{const ne=Ee.keyCode;if(!E(Ee)&&(ne===s||ne===n)){const Ie=e.selection.isCollapsed(),De=e.getBody();if(Ie&&!o.isEmpty(De)||!Ie&&!we(e.selection.getRng()))return;Ee.preventDefault(),e.setContent(""),De.firstChild&&o.isBlock(De.firstChild)?e.selection.setCursorLocation(De.firstChild,0):e.selection.setCursorLocation(De,0),e.nodeChanged()}})},y=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},S=()=>{e.inline||o.bind(e.getDoc(),"mousedown mouseup",ae=>{let we;if(ae.target===e.getDoc().documentElement)if(we=r.getRng(),e.getBody().focus(),ae.type==="mousedown"){if(Vn(we.startContainer))return;r.placeCaretAt(ae.clientX,ae.clientY)}else r.setRng(we)})},w=()=>{e.on("keydown",ae=>{if(!E(ae)&&ae.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(r.isCollapsed()&&r.getRng().startOffset===0){const we=r.getNode(),Ee=we.previousSibling;if(we.nodeName==="HR"){o.remove(we),ae.preventDefault();return}Ee&&Ee.nodeName&&Ee.nodeName.toLowerCase()==="hr"&&(o.remove(Ee),ae.preventDefault())}}})},k=()=>{Range.prototype.getClientRects||e.on("mousedown",ae=>{if(!E(ae)&&ae.target.nodeName==="HTML"){const we=e.getBody();we.blur(),Yn.setEditorTimeout(e,()=>{we.focus()})}})},A=()=>{const ae=$v(e);e.on("click",we=>{const Ee=we.target;/^(IMG|HR)$/.test(Ee.nodeName)&&o.getContentEditableParent(Ee)!=="false"&&(we.preventDefault(),e.selection.select(Ee),e.nodeChanged()),Ee.nodeName==="A"&&o.hasClass(Ee,ae)&&Ee.childNodes.length===0&&(we.preventDefault(),r.select(Ee))})},U=()=>{const ae=()=>{const Ee=o.getAttribs(r.getStart().cloneNode(!1));return()=>{const ne=r.getStart();ne!==e.getBody()&&(o.setAttrib(ne,"style",null),t(Ee,Ie=>{ne.setAttributeNode(Ie.cloneNode(!0))}))}},we=()=>!r.isCollapsed()&&o.getParent(r.getStart(),o.isBlock)!==o.getParent(r.getEnd(),o.isBlock);e.on("keypress",Ee=>{let ne;return!E(Ee)&&(Ee.keyCode===8||Ee.keyCode===46)&&we()?(ne=ae(),e.getDoc().execCommand("delete",!1),ne(),Ee.preventDefault(),!1):!0}),o.bind(e.getDoc(),"cut",Ee=>{if(!E(Ee)&&we()){const ne=ae();Yn.setEditorTimeout(e,()=>{ne()})}})},H=()=>{e.on("keydown",ae=>{if(!E(ae)&&ae.keyCode===n&&r.isCollapsed()&&r.getRng().startOffset===0){const we=r.getNode().previousSibling;if(we&&we.nodeName&&we.nodeName.toLowerCase()==="table")return ae.preventDefault(),!1}return!0})},ee=()=>{e.on("keydown",ae=>{if(E(ae)||ae.keyCode!==pe.BACKSPACE)return;let we=r.getRng();const Ee=we.startContainer,ne=we.startOffset,Ie=o.getRoot();let De=Ee;if(!(!we.collapsed||ne!==0)){for(;De.parentNode&&De.parentNode.firstChild===De&&De.parentNode!==Ie;)De=De.parentNode;De.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,De),we=o.createRng(),we.setStart(Ee,0),we.setEnd(Ee,0),r.setRng(we))}})},W=()=>{const ae=()=>{p("StyleWithCSS",!1),p("enableInlineTableEditing",!1),Iv(e)||p("enableObjectResizing",!1)};Lv(e)||e.on("BeforeExecCommand mousedown",ae)},F=()=>{const ae=()=>{t(o.select("a"),we=>{var Ee;let ne=we.parentNode;const Ie=o.getRoot();if((ne==null?void 0:ne.lastChild)===we){for(;ne&&!o.isBlock(ne);){if(((Ee=ne.parentNode)===null||Ee===void 0?void 0:Ee.lastChild)!==ne||ne===Ie)return;ne=ne.parentNode}o.add(ne,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",we=>{(we.type==="setcontent"||we.command==="mceInsertLink")&&ae()})},L=()=>{e.on("init",()=>{p("DefaultParagraphSeparator",Dn(e))})},te=ae=>{const we=ae.getBody(),Ee=ae.selection.getRng();return Ee.startContainer===Ee.endContainer&&Ee.startContainer===we&&Ee.startOffset===0&&Ee.endOffset===we.childNodes.length},me=()=>{e.on("keyup focusin mouseup",ae=>{!pe.modifierPressed(ae)&&!te(e)&&r.normalize()},!0)},be=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Te=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},ze=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",ae=>{let we;ae.target.nodeName==="HTML"&&(we=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(we),e.selection.normalize(),e.nodeChanged())}))},qe=()=>{g&&e.on("keydown",ae=>{pe.metaKeyPressed(ae)&&!ae.shiftKey&&(ae.keyCode===37||ae.keyCode===39)&&(ae.preventDefault(),e.selection.getSel().modify("move",ae.keyCode===37?"backward":"forward","lineboundary"))})},st=()=>{e.on("click",ae=>{let we=ae.target;do if(we.tagName==="A"){ae.preventDefault();return}while(we=we.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Mt=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",ae=>{ae.preventDefault()})})},Z=()=>{i.addNodeFilter("br",ae=>{let we=ae.length;for(;we--;)ae[we].attr("class")==="Apple-interchange-newline"&&ae[we].remove()})},Re=Me,Oe=()=>{if(!c||e.removed)return!1;const ae=e.selection.getSel();return!ae||!ae.rangeCount||ae.rangeCount===0},ke=()=>{u&&(S(),A(),Mt(),y(),d&&(Te(),ze(),st())),c&&(k(),W(),be(),qe())},kt=()=>{ee(),_(),Xe.windowsPhone||me(),u&&(S(),A(),L(),Mt(),H(),Z(),d?(Te(),ze(),st()):y()),c&&(w(),k(),U(),W(),F(),be(),qe(),H())};return Xs(e)?ke():kt(),{refreshContentEditable:Re,isHidden:Oe}},Vp=ft.DOM,u5=(e,t)=>{const n=x.fromDom(e.getBody()),s=gf(xo(n)),o=x.fromTag("style");Kt(o,"type","text/css"),Wt(o,x.fromText(t)),Wt(s,o),e.on("remove",()=>{_t(o)})},f5=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,jp=e=>Gi(e,t=>lt(t)===!1),dx=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return jp({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),remove_trailing_brs:t("remove_trailing_brs"),inline_styles:t("inline_styles"),root_name:f5(e),validate:!0,blob_cache:n,document:e.getDoc()})},mx=e=>{const t=e.options.get;return jp({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},d5=e=>{const t=e.options.get;return{...dx(e),...mx(e),...jp({url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},m5=e=>{const t=_i(dx(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,s)=>{const o=e.dom,r="data-mce-"+s;let i=n.length;for(;i--;){const a=n[i];let c=a.attr(s);if(c&&!a.attr(r)){if(c.indexOf("data:")===0||c.indexOf("blob:")===0)continue;s==="style"?(c=o.serializeStyle(o.parseStyle(c),a.name),c.length||(c=null),a.attr(r,c),a.attr(s,c)):s==="tabindex"?(a.attr(r,c),a.attr(s,null)):a.attr(r,e.convertURL(c,s,a.name))}}}),t.addNodeFilter("script",n=>{let s=n.length;for(;s--;){const o=n[s],r=o.attr("type")||"no/type";r.indexOf("mce-")!==0&&o.attr("type","mce-"+r)}}),xP(e)&&t.addNodeFilter("#cdata",n=>{var s;let o=n.length;for(;o--;){const r=n[o];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode((s=r.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let s=n.length;const o=e.schema.getNonEmptyElements();for(;s--;){const r=n[s];r.isEmpty(o)&&r.getAll("br").length===0&&r.append(new En("br",1))}}),t},p5=e=>{const t=lP(e);t&&Yn.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},g5=e=>{const t=e.dom.getRoot();!e.inline&&(!ac(e)||e.selection.getStart(!0)===t)&&yn(t).each(n=>{const s=n.getNode(),o=uo(s)?yn(s).getOr(n):n;e.selection.setRng(o.toRange())})},h5=e=>{e.bindPendingEventDelegates(),e.initialized=!0,sD(e),e.focus(!0),g5(e),e.nodeChanged({initial:!0});const t=iP(e);He(t)&&t.call(e,e),p5(e)},px=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,b5=(e,t,n)=>{const s=[px(e).loadAll(t)];return e.inline?s:s.concat([e.ui.styleSheetLoader.loadAll(n)])},gx=e=>{const t=px(e),n=Bv(e),s=e.contentCSS,o=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(n)},r=()=>{e.removed?o():e.on("remove",o)};if(e.contentStyles.length>0){let c="";Q.each(e.contentStyles,u=>{c+=u+`\r
`}),e.dom.addStyle(c)}const i=Promise.all(b5(e,s,n)).then(r).catch(r),a=B1(e);return a&&u5(e,a),i},v5=e=>{const t=e.getDoc(),n=e.getBody();tD(e),cP(e)||(t.body.spellcheck=!1,Vp.setAttrib(n,"spellcheck","false")),e.quirks=c5(e),nD(e);const s=I1(e);s!==void 0&&(n.dir=s);const o=uP(e);o&&e.on("BeforeSetContent",r=>{Q.each(o,i=>{r.content=r.content.replace(i,a=>"<!--mce:protected "+escape(a)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",r=>{e.composing=r.type==="compositionstart"})},C5=e=>{Xs(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},qp=e=>{e.removed!==!0&&(C5(e),h5(e))},hx=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(Vp.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=Lv(e),e.readonly||(e.inline&&Vp.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=pH(e),e.schema=Po(mx(e)),e.dom=ft(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:R1(e),referrerPolicy:Qf(e),onSetAttrib:i=>{e.dispatch("SetAttrib",i)}}),e.parser=m5(e),e.serializer=zE(d5(e),e),e.selection=UE(e.dom,e.getWin(),e.serializer,e),e.annotator=BC(e),e.formatter=JE(e),e.undoManager=t_(e),e._nodeChangeDispatcher=new X6(e),e._selectionOverrides=W8(e),S3(e),Zj(e),P3(e),Xs(e)||(r8(e),l5(e));const o=Y6(e);y3(e,o),A3(e),TH(e),Yj(e);const r=SU(e);v5(e),r.fold(()=>{gx(e).then(()=>qp(e))},i=>{e.setProgressState(!0),gx(e).then(()=>{i().then(a=>{e.setProgressState(!1),qp(e),IE(e)},a=>{e.notificationManager.open({type:"error",text:String(a)}),qp(e),IE(e)})})})},bx=(e,t)=>{if(e.inline||(e.getElement().style.visibility=e.orgVisibility),!t&&!e.inline){const n=e.iframeElement,s=rH(x.fromDom(n),"load",()=>{s.unbind(),e.contentDocument=n.contentDocument,hx(e)});if(Xe.browser.isFirefox()){const o=e.getDoc();o.open(),o.write(e.iframeHTML),o.close()}else n.srcdoc=e.iframeHTML}else hx(e)},Kp=ft.DOM,y5=(e,t,n,s)=>{const o=x.fromTag("iframe");return s.each(r=>Kt(o,"tabindex",r)),wo(o,n),wo(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),ta(o,"tox-edit-area__iframe"),o},E5=e=>{let t=g1(e)+"<html><head>";Nv(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=h1(e),s=b1(e),o=e.translate(oP(e));return Av(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Av(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${s}" data-id="${e.id}" aria-label="${o}"><br></body></html>`,t},_5=(e,t)=>{const n=e.translate("Rich Text Area"),s=ao(x.fromDom(e.getElement()),"tabindex").bind(_l),o=y5(e.id,n,p1(e),s).dom;o.onload=()=>{o.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=o,e.iframeHTML=E5(e),Kp.add(t.iframeContainer,o)},S5=(e,t)=>{_5(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=Kp.isHidden(t.editorContainer)),e.getElement().style.display="none",Kp.setAttrib(e.id,"aria-hidden","true"),bx(e)},vx=ft.DOM,w5=(e,t,n)=>{const s=wi.get(n),o=wi.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Q.trim(n),s&&Q.inArray(t,n)===-1){if(e.plugins[n])return;try{const r=s(e,o)||{};e.plugins[n]=r,He(r.init)&&(r.init(e,o),t.push(n))}catch(r){Jz(e,n,r)}}},x5=e=>e.replace(/^\-/,""),k5=e=>{const t=[];R(Ql(e),n=>{w5(e,t,x5(n))})},N5=e=>{const t=Q.trim(Pv(e)),n=e.ui.registry.getAll().icons,s={...$c.get("default").icons,...$c.get(t).icons};dt(s,(o,r)=>{$e(n,r)||e.ui.registry.addIcon(r,o)})},A5=e=>{const t=li(e);if(le(t)){const n=Ar.get(t);e.theme=n(e,Ar.urls[t])||{},He(e.theme.init)&&e.theme.init(e,Ar.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},T5=e=>{const t=Zf(e),n=Si.get(t);e.model=n(e,Si.urls[t])},R5=e=>{const t=e.theme.renderUI;return t?t():yx(e)},P5=e=>{const t=e.getElement(),s=li(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},Cx=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),O5=e=>{const t=vx.create("div");return vx.insertAfter(t,e),Cx(t,t)},yx=e=>{const t=e.getElement();return e.inline?Cx(null):O5(t)},D5=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,le(li(e))?R5(e):He(li(e))?P5(e):yx(e)},B5=(e,t)=>{const n={show:b.from(t.show).getOr(Me),hide:b.from(t.hide).getOr(Me),isEnabled:b.from(t.isEnabled).getOr(Et),setEnabled:s=>{e.mode.isReadOnly()||b.from(t.setEnabled).each(o=>o(s))}};e.ui={...e.ui,...n}},I5=e=>{e.dispatch("ScriptsLoaded"),N5(e),A5(e),T5(e),k5(e);const t=D5(e);B5(e,b.from(t.api).getOr({})),e.editorContainer=t.editorContainer,sH(e),e.inline?bx(e):S5(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},Tr=ft.DOM,Ex=e=>e.charAt(0)==="-",F5=(e,t)=>{const n=Ov(t),s=P1(t);if(!gs.hasCode(n)&&n!=="en"){const o=Fs(s)?s:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(o).catch(()=>{Xz(t,o,n)})}},L5=(e,t)=>{const n=li(e);if(le(n)&&!Ex(n)&&!$e(Ar.urls,n)){const s=U1(e),o=s?e.documentBaseURI.toAbsolute(s):`themes/${n}/theme${t}.js`;Ar.load(n,o).catch(()=>{Qz(e,o,n)})}},$5=(e,t)=>{const n=Zf(e);if(n!=="plugin"&&!$e(Si.urls,n)){const s=z1(e),o=le(s)?e.documentBaseURI.toAbsolute(s):`models/${n}/model${t}.js`;Si.load(n,o).catch(()=>{Zz(e,o,n)})}},M5=e=>b.from(x1(e)).filter(Fs).map(t=>({url:t,name:b.none()})),_x=(e,t,n)=>b.from(t).filter(s=>Fs(s)&&!$c.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${n}.js`,name:b.some(s)})),U5=(e,t,n)=>{const s=_x(t,"default",n),o=M5(t).orThunk(()=>_x(t,Pv(t),""));R(nA([s,o]),r=>{e.add(r.url).catch(()=>{Yz(t,r.url,r.name.getOrUndefined())})})},z5=(e,t)=>{const n=(s,o)=>{wi.load(s,o).catch(()=>{Gz(e,o,s)})};dt(eP(e),(s,o)=>{n(o,s),e.options.set("plugins",Ql(e).concat(o))}),R(Ql(e),s=>{s=Q.trim(s),s&&!wi.urls[s]&&!Ex(s)&&n(s,`plugins/${s}/plugin${t}.js`)})},H5=e=>{const t=li(e);return!le(t)||se(Ar.get(t))},W5=e=>{const t=Zf(e);return se(Si.get(t))},V5=(e,t)=>{const n=mo.ScriptLoader,s=()=>{!e.removed&&H5(e)&&W5(e)&&I5(e)};L5(e,t),$5(e,t),F5(n,e),U5(n,e,t),z5(e,t),n.loadQueue().then(s,s)},j5=(e,t)=>pb.forElement(e,{contentCssCors:J1(t),referrerPolicy:Qf(t)}),q5=e=>{const t=e.id;gs.setCode(Ov(e));const n=()=>{Tr.unbind(window,"ready",n),e.render()};if(!dr.Event.domLoaded){Tr.bind(window,"ready",n);return}if(!e.getElement())return;const s=x.fromDom(e.getElement()),o=Bh(s);e.on("remove",()=>{ye(s.dom.attributes,i=>sn(s,i.name)),wo(s,o)}),e.ui.styleSheetLoader=j5(s,e),Jf(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const r=e.getElement().form||Tr.getParent(t,"form");r&&(e.formElement=r,K1(e)&&!Cf(e.getElement())&&(Tr.insertAfter(Tr.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=i=>{e.dispatch(i.type,i)},Tr.bind(r,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),G1(e)&&!r.submit.nodeType&&!r.submit.length&&!r._mceOldSubmit&&(r._mceOldSubmit=r.submit,r.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),r._mceOldSubmit(r)))),e.windowManager=jE(e),e.notificationManager=VE(e),TP(e)&&e.on("GetContent",i=>{i.save&&(i.content=Tr.encode(i.content))}),Y1(e)&&e.on("submit",()=>{e.initialized&&e.save()}),X1(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),V5(e,e.suffix)},K5=(e,t)=>({sections:K(e),options:K(t)}),Sx=tr().deviceType,wx=Sx.isPhone(),G5=Sx.isTablet(),rl=e=>{if(Ve(e))return[];{const t=Ct(e)?e:e.split(/[ ,]/),n=V(t,Kr);return j(n,Fs)}},Y5=(e,t)=>{const n=NN(t,(s,o)=>z(e,o));return K5(n.t,n.f)},X5=(e,t,n={})=>{const s=e.sections(),o=bt(s,t).getOr({});return Q.extend({},n,o)},Gp=(e,t)=>$e(e.sections(),t),Q5=(e,t)=>Gp(e,t)?e.sections()[t]:{},Z5=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:bt(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),J5=(e,t)=>{var n;const s=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?Q.extend({},e.external_plugins,s):s},e4=(e,t)=>[...rl(e),...rl(t)],t4=(e,t,n,s)=>e&&Gp(t,"mobile")?s:n,n4=(e,t,n,s)=>{const o=rl(n.forced_plugins),r=rl(s.plugins),i=Q5(t,"mobile"),a=i.plugins?rl(i.plugins):r,c=t4(e,t,r,a),u=e4(o,c);return Q.extend(s,{forced_plugins:o,plugins:u})},s4=(e,t)=>e&&Gp(t,"mobile"),o4=(e,t,n,s,o)=>{var r;const i=e?{mobile:Z5((r=o.mobile)!==null&&r!==void 0?r:{},t)}:{},a=Y5(["mobile"],Zc(i,o)),c=Q.extend(n,s,a.options(),s4(e,a)?X5(a,"mobile"):{},{external_plugins:J5(s,a.options())});return n4(e,a,s,c)},r4=(e,t)=>o4(wx||G5,wx,t,e,t),i4=(e,t)=>GU(e,t),a4=e=>{const t=(s,o)=>{e.formatter.toggle(s,o),e.nodeChanged()},n=s=>()=>{R("left,center,right,justify".split(","),o=>{s!==o&&e.formatter.remove("align"+o)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},l4=e=>{const t=n=>()=>{const s=e.selection,o=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return Y(o,r=>se(e.formatter.matchNode(r,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},c4=e=>{a4(e),l4(e)},u4=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let s;try{n.execCommand(t)}catch{s=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(s=!0),s||!n.queryCommandSupported(t)){let o=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Xe.os.isMacOS()||Xe.os.isiOS())&&(o=o.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:o,type:"error"})}}})},f4=(e,t,n)=>{const s=x.fromDom(e.getRoot());return $a(s,$.fromRangeStart(t))?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),Ma(s,$.fromRangeEnd(t))?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},d4=e=>{if(typeof e!="string"){const t=Q.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},m4=(e,t)=>{const n=e.selection,s=e.dom;return/^ | $/.test(t)?f4(s,n.getRng(),t):t},hu=(e,t)=>{const{content:n,details:s}=d4(t);Dm(e,{...s,content:m4(e,n),format:"html",set:!1,selection:!0}).each(o=>{const r=qU(e,o.content,s);Bm(e,r,o),e.addVisual()})},p4=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,s)=>{hu(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,s)=>{hu(e,e.dom.encode(s))},insertHTML:(t,n,s)=>{hu(e,s)},mceInsertContent:(t,n,s)=>{hu(e,s)},mceSetContent:(t,n,s)=>{e.setContent(s)},mceReplaceContent:(t,n,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})},g4={"font-size":"size","font-family":"face"},h4=uf("font"),b4=(e,t,n)=>{const s=r=>Al(r,e).orThunk(()=>h4(r)?bt(g4,e).bind(i=>ao(r,i)):b.none()),o=r=>it(x.fromDom(t),r);return fm(x.fromDom(n),r=>s(r),o)},v4=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),C4=(e,t)=>b.from(ft.DOM.getStyle(t,e,!0)),xx=e=>(t,n)=>b.from(n).map(x.fromDom).filter(ss).bind(s=>b4(e,t,s.dom).or(C4(e,s.dom))).getOr(""),y4=xx("font-size"),E4=Lt(v4,xx("font-family")),_4=e=>yn(e.getBody()).bind(t=>{const n=t.container();return b.from(X(n)?n.parentNode:n)}),S4=e=>b.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?b.none():b.from(e.selection.getStart(!0))}),w4=(e,t)=>S4(e).orThunk(ie(_4,e)).map(x.fromDom).filter(ss).bind(t),Yp=(e,t)=>w4(e,Tt(b.some,t)),kx=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const s=NP(e),o=AP(e);return o.length>0?o[n-1]||t:s[n-1]||t}else return t}else return t},x4=e=>{const t=e.split(/\s*,\s*/);return V(t,n=>n.indexOf(" ")!==-1&&!(Zt(n,'"')||Zt(n,"'"))?`'${n}'`:n).join(",")},k4=(e,t)=>{const n=kx(e,t);e.formatter.toggle("fontname",{value:x4(n)}),e.nodeChanged()},N4=e=>Yp(e,t=>E4(e.getBody(),t.dom)).getOr(""),A4=(e,t)=>{e.formatter.toggle("fontsize",{value:kx(e,t)}),e.nodeChanged()},T4=e=>Yp(e,t=>y4(e.getBody(),t.dom)).getOr(""),R4=e=>Yp(e,t=>{const n=x.fromDom(e.getBody()),s=fm(t,r=>Al(r,"line-height"),ie(it,n)),o=()=>{const r=parseFloat(Ms(t,"line-height")),i=parseFloat(Ms(t,"font-size"));return String(r/i)};return s.getOrThunk(o)}).getOr(""),P4=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},O4=e=>{const t=(n,s)=>{e.formatter.toggle(n,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,s,o)=>{t(n,{value:o})},BackColor:(n,s,o)=>{t("hilitecolor",{value:o})},FontName:(n,s,o)=>{k4(e,o)},FontSize:(n,s,o)=>{A4(e,o)},LineHeight:(n,s,o)=>{P4(e,o)},Lang:(n,s,o)=>{var r;t(n,{value:o.code,customValue:(r=o.customCode)!==null&&r!==void 0?r:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,s,o)=>{t(le(o)?o:"p")},mceToggleFormat:(n,s,o)=>{t(o)}})},D4=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>N4(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>T4(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>R4(e))},B4=e=>{O4(e),D4(e)},I4=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},F4=e=>{e.editorCommands.addCommands({Indent:()=>{b3(e)},Outdent:()=>{Z_(e)}}),e.editorCommands.addCommands({Outdent:()=>G_(e)},"state")},L4=e=>{const t=(n,s,o)=>{const r=le(o)?{href:o}:o,i=e.dom.getParent(e.selection.getNode(),"a");tt(r)&&le(r.href)&&(r.href=r.href.replace(/ /g,"%20"),(!i||!r.href)&&e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,i))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")},mceInsertLink:t,createLink:t})},$4=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const s=n.parentNode;if(s&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(s.nodeName)){const o=e.selection.getBookmark();e.dom.split(s,n),e.selection.moveToBookmark(o)}}}})},M4=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&(t==="insertunorderedlist"&&n.tagName==="UL"||t==="insertorderedlist"&&n.tagName==="OL")}},"state")},U4=e=>{$4(e),M4(e)},z4=e=>{e.editorCommands.addCommands({insertParagraph:()=>{au(cw,e)},mceInsertNewLine:(t,n,s)=>{hw(e,s)},InsertLineBreak:(t,n,s)=>{au(dw,e)}})},H4=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,s)=>{let o=0;e.dom.getParent(e.selection.getNode(),r=>fe(r)&&o++===s?(e.selection.select(r),!1):!0,e.getBody())},mceSelectNode:(t,n,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Us);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},W4=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,s)=>{const o=s!=null?s:e.selection.getNode();if(o!==e.getBody()){const r=e.selection.getBookmark();e.dom.remove(o,!0),e.selection.moveToBookmark(r)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,s)=>{$B(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},V4=e=>{c4(e),u4(e),I4(e),H4(e),p4(e),L4(e),F4(e),z4(e),U4(e),B4(e),W4(e)};class Nx{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,s,o){const r=this.editor,i=t.toLowerCase(),a=o==null?void 0:o.skip_focus;if(r.removed||(i!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(i)&&!a?r.focus():gB(r)),r.dispatch("BeforeExecCommand",{command:t,ui:n,value:s}).isDefaultPrevented()))return!1;const u=this.commands.exec[i];return He(u)?(u(i,n,s),r.dispatch("ExecCommand",{command:t,ui:n,value:s}),!0):!1}queryCommandState(t){if(this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),s=this.commands.state[n];return He(s)?s(n):!1}queryCommandValue(t){if(this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),s=this.commands.value[n];return He(s)?s(n):""}addCommands(t,n="exec"){const s=this.commands;dt(t,(o,r)=>{R(r.toLowerCase().split(","),i=>{s[n][i]=o})})}addCommand(t,n,s){const o=t.toLowerCase();this.commands.exec[o]=(r,i,a)=>n.call(s!=null?s:this.editor,i,a)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,s){this.commands.state[t.toLowerCase()]=()=>n.call(s!=null?s:this.editor)}addQueryValueHandler(t,n,s){this.commands.value[t.toLowerCase()]=()=>n.call(s!=null?s:this.editor)}}const Rr="data-mce-contenteditable",j4=(e,t,n)=>{df(e,t)&&!n?xl(e,t):n&&ta(e,t)},Xp=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},bu=(e,t)=>{e.dom.contentEditable=t?"true":"false"},q4=e=>{R(vn(e,'*[contenteditable="true"]'),t=>{Kt(t,Rr,"true"),bu(t,!1)})},K4=e=>{R(vn(e,`*[${Rr}="true"]`),t=>{sn(t,Rr),bu(t,!0)})},G4=e=>{b.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},Y4=e=>{e.selection.setRng(e.selection.getRng())},X4=(e,t)=>{const n=x.fromDom(e.getBody());j4(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),G4(e),e.readonly=!0,bu(n,!1),q4(n)):(e.readonly=!1,bu(n,!0),K4(n),Xp(e,"StyleWithCSS",!1),Xp(e,"enableInlineTableEditing",!1),Xp(e,"enableObjectResizing",!1),FB(e)&&e.focus(),Y4(e),e.nodeChanged())},Pr=e=>e.readonly,Ax=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Pr(e)&&R(t,n=>{n.attr(Rr,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Rr,t=>{Pr(e)&&R(t,n=>{n.attr("contenteditable",n.attr(Rr))})}),e.serializer.addTempAttr(Rr)},Q4=e=>{e.serializer?Ax(e):e.on("PreInit",()=>{Ax(e)})},Z4=e=>e.type==="click",J4=["copy"],e9=e=>z(J4,e.type),t9=(e,t)=>ar(t,"a",s=>it(s,x.fromDom(e.getBody()))).bind(s=>ao(s,"href")),n9=(e,t)=>{if(Z4(t)&&!pe.metaKeyPressed(t)){const n=x.fromDom(t.target);t9(e,n).each(s=>{if(t.preventDefault(),/^#/.test(s)){const o=e.dom.select(`${s},[name="${MN(s,"#")}"]`);o.length&&e.selection.scrollIntoView(o[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else e9(t)&&e.dispatch(t.type,t)},s9=e=>{e.on("ShowCaret",t=>{Pr(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{Pr(e)&&t.preventDefault()})},o9=Q.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class Qp{constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||nt}static isNative(t){return!!o9[t.toLowerCase()]}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const s=t.toLowerCase(),o=If(s,n!=null?n:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);const r=this.bindings[s];if(r)for(let i=0,a=r.length;i<a;i++){const c=r[i];if(!c.removed){if(c.once&&this.off(s,c.func),o.isImmediatePropagationStopped())return o;if(c.func.call(this.scope,o)===!1)return o.preventDefault(),o}}return o}on(t,n,s,o){if(n===!1&&(n=nt),n){const r={func:n,removed:!1};o&&Q.extend(r,o);const i=t.toLowerCase().split(" ");let a=i.length;for(;a--;){const c=i[a];let u=this.bindings[c];u||(u=[],this.toggleEvent(c,!0)),s?u=[r,...u]:u=[...u,r],this.bindings[c]=u}}return this}off(t,n){if(t){const s=t.toLowerCase().split(" ");let o=s.length;for(;o--;){const r=s[o];let i=this.bindings[r];if(!r)return dt(this.bindings,(a,c)=>{this.toggleEvent(c,!1),delete this.bindings[c]}),this;if(i){if(!n)i.length=0;else{const a=ue(i,c=>c.func===n);i=a.fail,this.bindings[r]=i,R(a.pass,c=>{c.removed=!0})}i.length||(this.toggleEvent(t,!1),delete this.bindings[r])}}}else dt(this.bindings,(s,o)=>{this.toggleEvent(o,!1)}),this.bindings={};return this}once(t,n,s){return this.on(t,n,s,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const il=e=>(e._eventDispatcher||(e._eventDispatcher=new Qp({scope:e,toggleEvent:(t,n)=>{Qp.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),Zp={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return If(e.toLowerCase(),t!=null?t:{},s);const o=il(s).dispatch(e,t);if(n!==!1&&s.parent){let r=s.parent();for(;r&&!o.isPropagationStopped();)r.dispatch(e,o,!1),r=r.parent?r.parent():void 0}return o},on(e,t,n){return il(this).on(e,t,n)},off(e,t){return il(this).off(e,t)},once(e,t){return il(this).once(e,t)},hasEventListeners(e){return il(this).has(e)}},vu=ft.DOM;let Or;const Cu=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;const n=Fv(e);return n?(e.eventRoot||(e.eventRoot=vu.select(n)[0]),e.eventRoot):e.getBody()},r9=e=>!e.hidden&&!Pr(e),Tx=(e,t,n)=>{r9(e)?e.dispatch(t,n):Pr(e)&&n9(e,n)},Rx=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=Cu(e,t);if(Fv(e)){if(Or||(Or={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Or&&(dt(Or,(o,r)=>{e.dom.unbind(Cu(e,r))}),Or=null)})),Or[t])return;const s=o=>{const r=o.target,i=e.editorManager.get();let a=i.length;for(;a--;){const c=i[a].getBody();(c===r||vu.isChildOf(r,c))&&Tx(i[a],t,o)}};Or[t]=s,vu.bind(n,t,s)}else{const s=o=>{Tx(e,t,o)};vu.bind(n,t,s),e.delegates[t]=s}},Px={...Zp,bindPendingEventDelegates(){const e=this;Q.each(e._pendingNativeEvents,t=>{Rx(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?Rx(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(Cu(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(dt(e.delegates,(s,o)=>{e.dom.unbind(Cu(e,o),o,s)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},i9=e=>le(e)?{value:e.split(/[ ,]/),valid:!0}:ns(e,le)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},a9=e=>{const t=(()=>{switch(e){case"array":return Ct;case"boolean":return je;case"function":return He;case"number":return zt;case"object":return tt;case"string":return le;case"string[]":return i9;case"object[]":return n=>ns(n,tt);case"regexp":return n=>gn(n,RegExp);default:return Et}})();return n=>Jp(n,t,`The value must be a ${e}.`)},l9=e=>le(e.processor),Ox=(e,t)=>{const n=Qi(t.message)?"":`. ${t.message}`;return e+n},Dx=e=>e.valid,Jp=(e,t,n="")=>{const s=t(e);return je(s)?s?{value:e,valid:!0}:{valid:!1,message:n}:s},c9=(e,t,n)=>{if(!lt(t)){const s=Jp(t,n);if(Dx(s))return s.value;console.error(Ox(`Invalid default value passed for the "${e}" option`,s))}},u9=(e,t)=>{const n={},s={},o=(g,p,E)=>{const _=Jp(p,E);return Dx(_)?(s[g]=_.value,!0):(console.warn(Ox(`Invalid value passed for the ${g} option`,_)),!1)},r=(g,p)=>{const E=l9(p)?a9(p.processor):p.processor,_=c9(g,p.default,E);n[g]={...p,default:_,processor:E},bt(s,g).orThunk(()=>bt(t,g)).each(S=>o(g,S,E))},i=g=>$e(n,g);return{register:r,isRegistered:i,get:g=>bt(s,g).orThunk(()=>bt(n,g).map(p=>p.default)).getOrUndefined(),set:(g,p)=>{if(i(g)){const E=n[g];return E.immutable?(console.error(`"${g}" is an immutable option and cannot be updated`),!1):o(g,p,E.processor)}else return console.warn(`"${g}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:g=>{const p=i(g);return p&&delete s[g],p},isSet:g=>$e(s,g)}},f9=["design","readonly"],Bx=(e,t,n,s)=>{const o=n[t.get()],r=n[s];try{r.activate()}catch(i){console.error(`problem while activating editor mode ${s}:`,i);return}o.deactivate(),o.editorReadOnly!==r.editorReadOnly&&X4(e,r.editorReadOnly),t.set(s),ZO(e,s)},d9=(e,t,n,s)=>{if(s!==n.get()){if(!$e(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?Bx(e,n,t,s):e.on("init",()=>Bx(e,n,t,s))}},m9=(e,t,n)=>{if(z(f9,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},p9=e=>{const t=Vt("design"),n=Vt({design:{activate:Me,deactivate:Me,editorReadOnly:!1},readonly:{activate:Me,deactivate:Me,editorReadOnly:!0}});return Q4(e),s9(e),{isReadOnly:()=>Pr(e),set:s=>d9(e,n.get(),t,s),get:()=>t.get(),register:(s,o)=>{n.set(m9(n.get(),s,o))}}},eg=Q.each,tg=Q.explode,g9={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Ix=Q.makeMap("alt,ctrl,shift,meta,access"),h9=e=>e in Ix,b9=e=>{const t={},n=Xe.os.isMacOS()||Xe.os.isiOS();eg(tg(e.toLowerCase(),"+"),r=>{h9(r)?t[r]=!0:/^[0-9]{2,}$/.test(r)?t.keyCode=parseInt(r,10):(t.charCode=r.charCodeAt(0),t.keyCode=g9[r]||r.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let o;for(o in Ix)t[o]?s.push(o):t[o]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class Fx{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",s=>{(n.hasModifier(s)||n.isFunctionKey(s))&&!s.isDefaultPrevented()&&(eg(n.shortcuts,o=>{n.matchShortcut(s,o)&&(n.pendingPatterns=o.subpatterns.slice(0),s.type==="keydown"&&n.executeShortcutAction(o))}),n.matchShortcut(s,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&s.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,s,o){const r=this,i=r.normalizeCommandFunc(s);return eg(tg(Q.trim(t)),a=>{const c=r.createShortcut(a,n,i,o);r.shortcuts[c.id]=c}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,s=t;return typeof s=="string"?()=>{n.editor.execCommand(s,!1,null)}:Q.isArray(s)?()=>{n.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,n,s,o){const r=Q.map(tg(t,">"),b9);return r[r.length-1]=Q.extend(r[r.length-1],{func:s,scope:o||this.editor}),Q.extend(r[0],{desc:this.editor.translate(n),subpatterns:r.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const v9=()=>{const e={},t={},n={},s={},o={},r={},i={},a=(u,d)=>(g,p)=>{u[g.toLowerCase()]={...p,type:d}},c=(u,d)=>s[u.toLowerCase()]=d;return{addButton:a(e,"button"),addGroupToolbarButton:a(e,"grouptoolbarbutton"),addToggleButton:a(e,"togglebutton"),addMenuButton:a(e,"menubutton"),addSplitButton:a(e,"splitbutton"),addMenuItem:a(t,"menuitem"),addNestedMenuItem:a(t,"nestedmenuitem"),addToggleMenuItem:a(t,"togglemenuitem"),addAutocompleter:a(n,"autocompleter"),addContextMenu:a(o,"contextmenu"),addContextToolbar:a(r,"contexttoolbar"),addContextForm:a(r,"contextform"),addSidebar:a(i,"sidebar"),addIcon:c,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:n,contextMenus:o,contextToolbars:r,sidebars:i})}},C9=()=>{const e=v9();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},Dr=ft.DOM,Lx=Q.extend,y9=Q.each;class yu{constructor(t,n,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,Lx(this,Px);const o=this;this.id=t,this.hidden=!1;const r=r4(s.defaultOptions,n);this.options=u9(o,r),m1(o);const i=this.options.get;i("deprecation_warnings")&&Tz(n,r);const a=i("suffix");a&&(s.suffix=a),this.suffix=s.suffix;const c=i("base_url");c&&s._setBaseUrl(c),this.baseUri=s.baseURI;const u=Qf(o);u&&(mo.ScriptLoader._setReferrerPolicy(u),ft.DOM.styleSheetLoader._setReferrerPolicy(u)),ln.languageLoad=i("language_load"),ln.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new ys(Nv(o),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Jf(o),this.hasVisual=nP(o),this.shortcuts=new Fx(this),this.editorCommands=new Nx(this),V4(this);const d=i("cache_suffix");d&&(Xe.cacheSuffix=d.replace(/^[\?\&]+/,"")),this.ui={registry:C9(),styleSheetLoader:void 0,show:Me,hide:Me,setEnabled:Me,isEnabled:Et},this.mode=p9(o),s.dispatch("SetupEditor",{editor:this});const g=rP(o);He(g)&&g.call(o,o)}render(){q5(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return _r(this)}translate(t){return gs.translate(t)}getParam(t,n,s){const o=this.options;return o.isRegistered(t)||(se(s)?o.register(t,{processor:s,default:n}):o.register(t,{processor:Et,default:n})),!o.isSet(t)&&!lt(n)?n:o.get(t)}hasPlugin(t,n){return z(Ql(this),t)?n?wi.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,s){this.editorCommands.addCommand(t,n,s)}addQueryStateHandler(t,n,s){this.editorCommands.addQueryStateHandler(t,n,s)}addQueryValueHandler(t,n,s){this.editorCommands.addQueryValueHandler(t,n,s)}addShortcut(t,n,s,o){this.shortcuts.add(t,n,s,o)}execCommand(t,n,s,o){return this.editorCommands.execCommand(t,n,s,o)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Dr.show(t.getContainer()),Dr.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Dr.hide(t.getContainer()),Dr.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,s=n.getElement();if(n.removed)return"";if(s){const o={...t,load:!0},r=Cf(s)?s.value:s.innerHTML,i=n.setContent(r,o);return o.no_events||n.dispatch("LoadContent",{...o,element:s}),i}else return""}save(t={}){const n=this;let s=n.getElement();if(!s||!n.initialized||n.removed)return"";const o={...t,save:!0,element:s};let r=n.getContent(o);const i={...o,content:r};if(i.no_events||n.dispatch("SaveContent",i),i.format==="raw"&&n.dispatch("RawSaveContent",i),r=i.content,Cf(s))s.value=r;else{(t.is_removing||!n.inline)&&(s.innerHTML=r);const a=Dr.getParent(n.id,"form");a&&y9(a.elements,c=>c.name===n.id?(c.value=r,!1):!0)}return i.element=o.element=s=null,i.set_dirty!==!1&&n.setDirty(!1),r}setContent(t,n){return Hm(this,t,n)}getContent(t){return Ez(this,t)}insertContent(t,n){n&&(t=Lx({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?Hm(this,this.startContent,{format:"raw"}):Hm(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||Dr.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Dr.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const s=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:s==null?void 0:s.body)!==null&&n!==void 0?n:null}convertURL(t,n,s){const o=this,r=o.options.get,i=aP(o);return He(i)?i.call(o,t,s,!0,n):!r("convert_urls")||s==="link"||tt(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0?t:r("relative_urls")?o.documentBaseURI.toRelative(t):(t=o.documentBaseURI.toAbsolute(t,r("remove_script_host")),t)}addVisual(t){i4(this,t)}remove(){Dz(this)}destroy(t){Bz(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Pi=ft.DOM,Eu=Q.each;let $x=!1,_u,_n=[];const Su=e=>{const t=e.type;Eu(Wo.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},Mx=e=>{if(e!==$x){const t=ft.DOM;e?(t.bind(window,"resize",Su),t.bind(window,"scroll",Su)):(t.unbind(window,"resize",Su),t.unbind(window,"scroll",Su)),$x=e}},Ux=e=>{const t=_n;return _n=j(_n,n=>e!==n),Wo.activeEditor===e&&(Wo.activeEditor=_n.length>0?_n[0]:null),Wo.focusedEditor===e&&(Wo.focusedEditor=null),t.length!==_n.length},E9=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(Ux(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},_9=document.compatMode!=="CSS1Compat",Wo={...Zp,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"2.0",releaseDate:"2022-09-08",i18n:gs,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",s=ys.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,n=o.suffix;else{const r=document.getElementsByTagName("script");for(let i=0;i<r.length;i++){const a=r[i].src||"";if(a==="")continue;const c=a.substring(a.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(a)){c.indexOf(".min")!==-1&&(n=".min"),t=a.substring(0,a.lastIndexOf("/"));break}}if(!t&&document.currentScript){const i=document.currentScript.src;i.indexOf(".min")!==-1&&(n=".min"),t=i.substring(0,i.lastIndexOf("/"))}}e.baseURL=new ys(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new ys(e.baseURL),e.suffix=n,AB(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&dt(s,(o,r)=>{ln.PluginManager.urls[r]=o})},init(e){const t=this;let n;const s=Q.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=(d,g)=>d.inline&&g.tagName.toLowerCase()in s,r=d=>{let g=d.id;return g||(g=bt(d,"name").filter(p=>!Pi.get(p)).getOrThunk(Pi.uniqueId),d.setAttribute("id",g)),g},i=d=>{const g=e[d];if(!!g)return g.apply(t,[])},a=d=>Xe.browser.isIE()||Xe.browser.isEdge()?(Uc("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):_9?(Uc("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):le(d.selector)?Pi.select(d.selector):se(d.target)?[d.target]:[];let c=d=>{n=d};const u=()=>{let d=0;const g=[];let p;const E=(_,y,S)=>{const w=new yu(_,y,t);g.push(w),w.on("init",()=>{++d===p.length&&c(g)}),w.targetElm=w.targetElm||S,w.render()};Pi.unbind(window,"ready",u),i("onpageload"),p=wN(a(e)),Q.each(p,_=>{E9(t.get(_.id))}),p=Q.grep(p,_=>!t.get(_.id)),p.length===0?c([]):Eu(p,_=>{o(e,_)?Uc("Could not initialize inline editor on invalid inline target element",_):E(r(_),e,_)})};return Pi.bind(window,"ready",u),new Promise(d=>{n?d(n):c=g=>{d(g)}})},get(e){return arguments.length===0?_n.slice(0):le(e)?Ce(_n,t=>t.id===e).getOr(null):zt(e)&&_n[e]?_n[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&_n.push(e),Mx(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),_u||(_u=s=>{const o=t.dispatch("BeforeUnload");if(o.returnValue)return s.preventDefault(),s.returnValue=o.returnValue,o.returnValue},window.addEventListener("beforeunload",_u))),e},createEditor(e,t){return this.add(new yu(e,t,this))},remove(e){const t=this;let n;if(!e){for(let s=_n.length-1;s>=0;s--)t.remove(_n[s]);return}if(le(e)){Eu(Pi.select(e),s=>{n=t.get(s.id),n&&t.remove(n)});return}return n=e,hn(t.get(n.id))?null:(Ux(n)&&t.dispatch("RemoveEditor",{editor:n}),_n.length===0&&window.removeEventListener("beforeunload",_u),n.remove(),Mx(_n.length>0),n)},execCommand(e,t,n){var s;const o=this,r=tt(n)?(s=n.id)!==null&&s!==void 0?s:n.index:n;switch(e){case"mceAddEditor":{if(!o.get(r)){const i=n.options;new yu(r,i,o).render()}return!0}case"mceRemoveEditor":{const i=o.get(r);return i&&i.remove(),!0}case"mceToggleEditor":{const i=o.get(r);return i?(i.isHidden()?i.show():i.hide(),!0):(o.execCommand("mceAddEditor",!1,n),!0)}}return o.activeEditor?o.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{Eu(_n,e=>{e.save()})},addI18n:(e,t)=>{gs.add(e,t)},translate:e=>gs.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new ys(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new ys(this.baseURL)}};Wo.setup();const S9=(()=>{const e=Oo(),t=r=>({items:r,types:Un(r),getType:i=>bt(r,i).getOrUndefined()}),n=r=>{e.set(r)},s=()=>e.get().getOrUndefined(),o=e.clear;return{FakeClipboardItem:t,write:n,read:s,clear:o}})(),zx=Math.min,Oi=Math.max,wu=Math.round,Hx=(e,t,n)=>{let s=t.x,o=t.y;const r=e.w,i=e.h,a=t.w,c=t.h,u=(n||"").split("");return u[0]==="b"&&(o+=c),u[1]==="r"&&(s+=a),u[0]==="c"&&(o+=wu(c/2)),u[1]==="c"&&(s+=wu(a/2)),u[3]==="b"&&(o-=i),u[4]==="r"&&(s-=r),u[3]==="c"&&(o-=wu(i/2)),u[4]==="c"&&(s-=wu(r/2)),Di(s,o,r,i)},w9=(e,t,n,s)=>{for(let o=0;o<s.length;o++){const r=Hx(e,t,s[o]);if(r.x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return s[o]}return null},x9=(e,t,n)=>Di(e.x-t,e.y-n,e.w+t*2,e.h+n*2),k9=(e,t)=>{const n=Oi(e.x,t.x),s=Oi(e.y,t.y),o=zx(e.x+e.w,t.x+t.w),r=zx(e.y+e.h,t.y+t.h);return o-n<0||r-s<0?null:Di(n,s,o-n,r-s)},N9=(e,t,n)=>{let s=e.x,o=e.y,r=e.x+e.w,i=e.y+e.h;const a=t.x+t.w,c=t.y+t.h,u=Oi(0,t.x-s),d=Oi(0,t.y-o),g=Oi(0,r-a),p=Oi(0,i-c);return s+=u,o+=d,n&&(r+=u,i+=d,s-=g,o-=p),r-=g,i-=p,Di(s,o,r-s,i-o)},Di=(e,t,n,s)=>({x:e,y:t,w:n,h:s}),A9={inflate:x9,relativePosition:Hx,findBestRelativePosition:w9,intersect:k9,clamp:N9,create:Di,fromClientRect:e=>Di(e.left,e.top,e.width,e.height)},T9=(e,t,n=1e3)=>{let s=!1,o=null;const r=u=>(...d)=>{s||(s=!0,o!==null&&(clearTimeout(o),o=null),u.apply(null,d))},i=r(e),a=r(t);return{start:(...u)=>{!s&&o===null&&(o=setTimeout(()=>a.apply(null,u),n))},resolve:i,reject:a}},R9=(()=>{const e={},t={};return{load:(r,i)=>{const a=`Script at URL "${i}" failed to load`,c=`Script at URL "${i}" did not call \`tinymce.Resource.add('${r}', data)\` within 1 second`;if(e[r]!==void 0)return e[r];{const u=new Promise((d,g)=>{const p=T9(d,g);t[r]=p.resolve,mo.ScriptLoader.loadScript(i).then(()=>p.start(c),()=>p.reject(a))});return e[r]=u,u}},add:(r,i)=>{t[r]!==void 0&&(t[r](i),delete t[r]),e[r]=Promise.resolve(i)},unload:r=>{delete e[r]}}})(),P9=()=>(()=>{let e={},t=[];const n={getItem:s=>{const o=e[s];return o||null},setItem:(s,o)=>{t.push(s),e[s]=String(o)},key:s=>t[s],removeItem:s=>{t=t.filter(o=>o===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let al;try{const e="__storage_test__";al=window.localStorage,al.setItem(e,e),al.removeItem(e)}catch{al=P9()}var O9=al;const D9={geom:{Rect:A9},util:{Delay:Yn,Tools:Q,VK:pe,URI:ys,EventDispatcher:Qp,Observable:Zp,I18n:gs,LocalStorage:O9,ImageUploader:mH},dom:{EventUtils:dr,TreeWalker:$t,TextSeeker:pr,DOMUtils:ft,ScriptLoader:mo,RangeUtils:vi,Serializer:zE,StyleSheetLoader:mb,ControlSelection:WC,BookmarkManager:Da,Selection:UE,Event:dr.Event},html:{Styles:Bf,Entities:Ro,Node:En,Schema:Po,DomParser:_i,Writer:xy,Serializer:Lo},Env:Xe,AddOnManager:ln,Annotator:BC,Formatter:JE,UndoManager:t_,EditorCommands:Nx,WindowManager:jE,NotificationManager:VE,EditorObservable:Px,Shortcuts:Fx,Editor:yu,FocusManager:dy,EditorManager:Wo,DOM:ft.DOM,ScriptLoader:mo.ScriptLoader,PluginManager:wi,ThemeManager:Ar,ModelManager:Si,IconManager:$c,Resource:R9,FakeClipboard:S9,trim:Q.trim,isArray:Q.isArray,is:Q.is,toArray:Q.toArray,makeMap:Q.makeMap,each:Q.each,map:Q.map,grep:Q.grep,inArray:Q.inArray,extend:Q.extend,walk:Q.walk,resolve:Q.resolve,explode:Q.explode,_addCacheSuffix:Q._addCacheSuffix},Wx=Q.extend(Wo,D9),B9=e=>{try{l.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(Wx),B9(Wx)})()})(EN);const dg=EN.exports,f7={class:"vue-tinymce-comp"},mg=nN({__name:"VueTinymce",props:{modelValue:{type:String,required:!0},updateEvent:{type:String,default:"beforeaddundo undo redo keyup focusout"},url:{type:String,default:"https://unpkg.com/tinymce@%5E6.2.0"},baseUrl:{type:String,default:"https://unpkg.com"},config:{type:Object,default(){return{}}}},emits:["update:modelValue","content-change"],setup(l,{emit:f}){const m=l,h=kq(null);let v=null,C={};function N(){if(h.value){C=Object.assign({},{allow_script_urls:!0,remove_script_host:!1,convert_urls:!1,relative_urls:!1,branding:!1,promotion:!0,indentation:"2px",font_size_formats:"12px 14px 16px 18px 20px 24px",plugins:"preview importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons",contextmenu:"link image table",image_advtab:!0,menubar:"file edit view insert format tools table help",toolbar:"undo redo | bold italic underline strikethrough | fontfamily fontsize blocks | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media template link anchor codesample | ltr rtl"},m.config);const ge=m.baseUrl,Fe="zh_CN",ut="en_US";if(C.language===ut?(delete C.language,delete C.language_url):(C.language||(C.language=Fe),!C.language_url&&C.language===Fe&&(C.language_url=`${ge}/@panhezeng/vue-tinymce@latest/dist/langs/${C.language}.js`),!C.font_family_formats&&C.language===Fe&&(C.font_family_formats='Andale Mono="andale mono", times;Arial=arial, helvetica, sans-serif;Arial Black="arial black", "avant garde";Book Antiqua="book antiqua", palatino;Comic Sans MS="comic sans ms", sans-serif;Courier New="courier new", courier;Georgia=georgia, palatino;Helvetica=helvetica;Impact=impact, chicago;Symbol=symbol;Tahoma=tahoma, arial, helvetica, sans-serif;Terminal=terminal, monaco;Times New Roman="times new roman",times;Trebuchet MS="trebuchet ms", geneva;Verdana=verdana, geneva;Webdings=webdings;Wingdings=wingdings',window.navigator.platform.indexOf("Win")>-1?(C.font_family_formats=`\u5FAE\u8F6F\u96C5\u9ED1="Microsoft YaHei";\u9ED1\u4F53=SimHei;\u5B8B\u4F53=SimSun;\u4EFF\u5B8B=FangSong;\u6977\u4F53=KaiTi;${C.font_family_formats||""}`,C.content_style='body { font-size: 14px; font-family: "Microsoft YaHei"; }'):window.navigator.platform.indexOf("Mac")>-1?(C.font_family_formats=`\u9ED1\u4F53=STHeiti;\u5B8B\u4F53=STSong;\u4EFF\u5B8B=STFangsong;\u6977\u4F53=STKaiti;${C.font_family_formats||""}`,C.content_style="body { font-size: 14px; font-family: STHeiti; }"):window.navigator.platform.indexOf("Linux")>-1&&(C.font_family_formats=`\u9ED1\u4F53="Source Han Sans SC";\u5B8B\u4F53="Source Han Serif SC";${C.font_family_formats||""}`,C.content_style='body { font-size: 14px; font-family: "Source Han Sans SC"; }'))),C.external_plugins||(C.external_plugins={}),!C.external_plugins.textindentoutdent){const Le=Object.keys(C);for(let at=Le.length-1;at>=0;at--){const Ke=Le[at];if(Ke&&typeof Ke=="string"&&Ke.indexOf("toolbar")!==-1&&/\btext(indent|outdent)\b/g.test(String(C[Ke]))){C.language===Fe&&(C.external_plugins.textindentoutdentzhcn=`${ge}/@panhezeng/tinymce-plugin-text-indent-outdent@latest/dist/textindentoutdent/langs/zh_CN.js`),C.external_plugins.textindentoutdent=`${ge}/@panhezeng/tinymce-plugin-text-indent-outdent@latest/dist/textindentoutdent/plugin.min.js`;break}}}C.target=h.value,C.init_instance_callback=Le=>{h.value&&(v=Le,P(),v.on(m.updateEvent,M),typeof m.config.init_instance_callback=="function"&&m.config.init_instance_callback(v)),ve()}}}function P(){Iu().then(()=>{h.value&&v&&v.getContent()!==m.modelValue&&v.setContent(m.modelValue)})}function M(){Iu().then(()=>{if(h.value&&v){const ge=v.getContent();f("update:modelValue",ge),f("content-change",ge)}})}function J(){try{h.value&&v&&(v.plugins.autosave&&v.plugins.autosave.removeDraft(),dg.PluginManager.remove("autosave"),v.remove(),v.destroy(),v=null)}catch{return}}function re(){Iu().then(()=>{h.value&&(J(),N(),dg.init(C))})}ul(()=>m.modelValue,P),ul(()=>m.config,()=>{re()},{deep:!0});function ve(){const ge=document.querySelector(".tox-promotion");ge&&(ge.style.display="none")}return jg(()=>{dg.EditorManager.baseURL=m.url,re()}),qg(()=>{J()}),(ge,Fe)=>(Wu(),pN("div",f7,[fs("textarea",{ref_key:"editorElement",ref:h},null,512)]))}}),_N=Object.assign(mg,{install:l=>{l.component(mg.name,mg)}}),d7=fs("h1",null,"VueTinymce example",-1),m7=fs("br",null,null,-1),p7=fs("br",null,null,-1),g7=fs("br",null,null,-1),h7=fs("br",null,null,-1),b7=fs("h2",null,"output",-1),v7=["innerHTML"],C7=nN({__name:"App",setup(l){const f=Gu({content:"init content",show:!0,locale:""}),m=CN(()=>{let v={};return f.locale==="en"&&(v={language:"en_US"}),v});function h(){f.locale?f.locale="":f.locale="en"}return(v,C)=>(Wu(),pN(Ts,null,[d7,fs("button",{onClick:C[0]||(C[0]=N=>f.show=!f.show)}," \u70B9\u51FB\u52A0\u8F7D\u79FB\u9664\u7F16\u8F91\u5668\uFF0C\u6D4B\u8BD5\u521D\u59CB\u5316\u548C\u9500\u6BC1\uFF1A\uFF1A\uFF1A"+W9(f.show?"\u9500\u6BC1":"\u52A0\u8F7D"),1),m7,p7,fs("button",{onClick:h},"\u70B9\u51FB\u5207\u6362\u8BED\u8A00\uFF0C\u6D4B\u8BD5\u66F4\u65B0config"),g7,h7,f.show?(Wu(),gN(vg(_N),{key:0,modelValue:f.content,"onUpdate:modelValue":C[1]||(C[1]=N=>f.content=N),config:vg(m)},null,8,["modelValue","config"])):TK("",!0),b7,fs("div",{innerHTML:f.content},null,8,v7)],64))}}),SN=c7(C7);SN.use(_N);SN.mount("#app");
