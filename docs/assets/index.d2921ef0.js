import{d as y,r as S,c as B,a as b,b as l,t as w,e as C,f as x,F as $,g as T,o as h,h as E,w as A,i as D,j as m,k as V,n as g,l as O}from"./vendor.e03175e4.js";const j=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(e){if(e.ep)return;e.ep=!0;const i=o(e);fetch(e.href,i)}};j();var z=(t,a)=>{const o=t.__vccOpts||t;for(const[n,e]of a)o[n]=e;return o};const L=y({name:"App",components:{},setup(){const t=S({content:"init content",show:!0,locale:""}),a=B(()=>{let n={};return t.locale==="en"&&(n={language:"en_US"}),n});function o(){t.locale?t.locale="":t.locale="en"}return{data:t,config:a,switchLanguage:o}}}),M=l("h1",null,"VueTinymce example",-1),H=l("br",null,null,-1),N=l("br",null,null,-1),U=l("br",null,null,-1),q=l("br",null,null,-1),K=l("h2",null,"output",-1),P=["innerHTML"];function W(t,a,o,n,e,i){const s=T("vue-tinymce");return h(),b($,null,[M,l("button",{onClick:a[0]||(a[0]=c=>t.data.show=!t.data.show)}," \u70B9\u51FB\u52A0\u8F7D\u79FB\u9664\u7F16\u8F91\u5668\uFF0C\u6D4B\u8BD5\u521D\u59CB\u5316\u548C\u9500\u6BC1\uFF1A\uFF1A\uFF1A"+w(t.data.show?"\u9500\u6BC1":"\u52A0\u8F7D"),1),H,N,l("button",{onClick:a[1]||(a[1]=(...c)=>t.switchLanguage&&t.switchLanguage(...c))},"\u70B9\u51FB\u5207\u6362\u8BED\u8A00\uFF0C\u6D4B\u8BD5\u66F4\u65B0config"),U,q,t.data.show?(h(),C(s,{key:0,modelValue:t.data.content,"onUpdate:modelValue":a[2]||(a[2]=c=>t.data.content=c),config:t.config},null,8,["modelValue","config"])):x("",!0),K,l("div",{innerHTML:t.data.content},null,8,P)],64)}var I=z(L,[["render",W]]),R=(t,a)=>{const o=t.__vccOpts||t;for(const[n,e]of a)o[n]=e;return o};const Y=y({name:"VueTinymce",props:{modelValue:{type:String,required:!0},updateEvent:{type:String,default:"beforeaddundo undo redo keyup focusout"},url:{type:String,default:"https://cdn.jsdelivr.net/npm/tinymce@%5E6.0.1"},config:{type:Object,default(){return{}}}},emits:["update:modelValue","content-change"],setup(t,a){const o=E(null);let n=null,e={};function i(){if(o.value){e=Object.assign({},{allow_script_urls:!0,remove_script_host:!1,convert_urls:!1,relative_urls:!1,branding:!1,indentation:"2px",fontsize_formats:"12px 14px 16px 18px 20px 24px",plugins:"preview importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons",contextmenu:"link image table",image_advtab:!0,menubar:"file edit view insert format tools table help",toolbar:"undo redo | bold italic underline strikethrough | fontfamily fontsize blocks | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media template link anchor codesample | ltr rtl"},t.config);const u="zh_CN",k="en_US";if(e.language===k)delete e.language,delete e.language_url;else{if(e.language||(e.language=u),!e.language_url&&e.language===u){let r="https://cdn.jsdelivr.net/npm/";/unpkg.com/.test(t.url)&&(r="https://unpkg.com/"),e.language_url=`${r}@panhezeng/vue-tinymce@latest/dist/langs/${e.language}.js`}!e.font_formats&&e.language===u&&(e.font_formats='Andale Mono="andale mono", times;Arial=arial, helvetica, sans-serif;Arial Black="arial black", "avant garde";Book Antiqua="book antiqua", palatino;Comic Sans MS="comic sans ms", sans-serif;Courier New="courier new", courier;Georgia=georgia, palatino;Helvetica=helvetica;Impact=impact, chicago;Symbol=symbol;Tahoma=tahoma, arial, helvetica, sans-serif;Terminal=terminal, monaco;Times New Roman="times new roman",times;Trebuchet MS="trebuchet ms", geneva;Verdana=verdana, geneva;Webdings=webdings;Wingdings=wingdings',window.navigator.platform.indexOf("Win")>-1?(e.font_formats=`\u5FAE\u8F6F\u96C5\u9ED1="Microsoft YaHei";\u9ED1\u4F53=SimHei;\u5B8B\u4F53=SimSun;\u4EFF\u5B8B=FangSong;\u6977\u4F53=KaiTi;${e.font_formats||""}`,e.content_style='body { font-size: 14px; font-family: "Microsoft YaHei"; }'):window.navigator.platform.indexOf("Mac")>-1?(e.font_formats=`\u9ED1\u4F53=STHeiti;\u5B8B\u4F53=STSong;\u4EFF\u5B8B=STFangsong;\u6977\u4F53=STKaiti;${e.font_formats||""}`,e.content_style="body { font-size: 14px; font-family: STHeiti; }"):window.navigator.platform.indexOf("Linux")>-1&&(e.font_formats=`\u9ED1\u4F53="Source Han Sans SC";\u5B8B\u4F53="Source Han Serif SC";${e.font_formats||""}`,e.content_style='body { font-size: 14px; font-family: "Source Han Sans SC"; }'))}if(e.external_plugins||(e.external_plugins={}),!e.external_plugins.textindentoutdent){const r=Object.keys(e);for(let f=r.length-1;f>=0;f--){const d=r[f];if(d&&typeof d=="string"&&d.indexOf("toolbar")!==-1&&/\btext(indent|outdent)\b/g.test(String(e[d]))){e.language===u&&(e.external_plugins.textindentoutdentzhcn="https://cdn.jsdelivr.net/npm/@panhezeng/tinymce-plugin-text-indent-outdent@latest/dist/textindentoutdent/langs/zh_CN.js"),e.external_plugins.textindentoutdent="https://cdn.jsdelivr.net/npm/@panhezeng/tinymce-plugin-text-indent-outdent@latest/dist/textindentoutdent/plugin.min.js";break}}}e.target=o.value,e.init_instance_callback=r=>{o.value&&(n=r,s(),n.on(t.updateEvent,c),typeof t.config.init_instance_callback=="function"&&t.config.init_instance_callback(n))}}}function s(){g().then(()=>{o.value&&n&&n.getContent()!==t.modelValue&&n.setContent(t.modelValue)})}function c(){g().then(()=>{if(o.value&&n){const u=n.getContent();a.emit("update:modelValue",u),a.emit("content-change",u)}})}function v(){try{o.value&&n&&(n.plugins.autosave&&n.plugins.autosave.removeDraft(),m.PluginManager.remove("autosave"),n.remove(),n.destroy(),n=null)}catch{return}}function _(){g().then(()=>{o.value&&(v(),i(),m.init(e))})}return A(()=>t.config,()=>{_()},{deep:!0}),D(()=>{m.EditorManager.baseURL=t.url,_()}),V(()=>{v()}),{editorElement:o}}}),G={class:"vue-tinymce-comp"},J={ref:"editorElement"};function Q(t,a,o,n,e,i){return h(),b("div",G,[l("textarea",J,null,512)])}var p=R(Y,[["render",Q]]);const X=Object.assign(p,{install:t=>{t.component(p.name,p)}}),F=O(I);F.use(X);F.mount("#app");
